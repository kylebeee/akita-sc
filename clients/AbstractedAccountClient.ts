/* eslint-disable */
/**
 * This file was automatically generated by @algorandfoundation/algokit-client-generator.
 * DO NOT MODIFY IT BY HAND.
 * requires: @algorandfoundation/algokit-utils: ^2
 */
import * as algokit from '@algorandfoundation/algokit-utils'
import type {
  ABIAppCallArg,
  AppCallTransactionResult,
  AppCallTransactionResultOfType,
  AppCompilationResult,
  AppReference,
  AppState,
  CoreAppCallArgs,
  RawAppCallArgs,
  TealTemplateParams,
} from '@algorandfoundation/algokit-utils/types/app'
import type {
  AppClientCallCoreParams,
  AppClientCompilationParams,
  AppClientDeployCoreParams,
  AppDetails,
  ApplicationClient,
} from '@algorandfoundation/algokit-utils/types/app-client'
import type { AppSpec } from '@algorandfoundation/algokit-utils/types/app-spec'
import type { SendTransactionResult, TransactionToSign, SendTransactionFrom, SendTransactionParams } from '@algorandfoundation/algokit-utils/types/transaction'
import type { ABIResult, TransactionWithSigner } from 'algosdk'
import { Algodv2, OnApplicationComplete, Transaction, AtomicTransactionComposer, modelsv2 } from 'algosdk'
export const APP_SPEC: AppSpec = {
  "hints": {
    "createApplication(string,address,address,uint64,string)void": {
      "call_config": {
        "no_op": "CREATE"
      }
    },
    "updateApplication(string)void": {
      "call_config": {
        "update_application": "CALL"
      }
    },
    "changeRevocationApp(uint64)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "setNickname(string)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "arc58_changeAdmin(address)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "arc58_pluginChangeAdmin(uint64,address,address)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "arc58_getAdmin()address": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "arc58_verifyAuthAddr()void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "arc58_rekeyTo(address,bool)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "arc58_canCall(uint64,address)bool": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "arc58_rekeyToPlugin(uint64)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "arc58_rekeyToNamedPlugin(string)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "arc58_addPlugin(uint64,address,uint64,uint64,bool,byte[4][],bool,string)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "arc58_removePlugin(uint64,address)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "arc58_addNamedPlugin(string,uint64,address,uint64,uint64,bool)void": {
      "call_config": {
        "no_op": "CALL"
      }
    },
    "arc58_removeNamedPlugin(string)void": {
      "call_config": {
        "no_op": "CALL"
      }
    }
  },
  "bare_call_config": {
    "no_op": "NEVER",
    "opt_in": "NEVER",
    "close_out": "NEVER",
    "update_application": "NEVER",
    "delete_application": "NEVER"
  },
  "schema": {
    "local": {
      "declared": {},
      "reserved": {}
    },
    "global": {
      "declared": {
        "version": {
          "type": "bytes",
          "key": "v"
        },
        "factoryApp": {
          "type": "uint64",
          "key": "f"
        },
        "admin": {
          "type": "bytes",
          "key": "a"
        },
        "controlledAddress": {
          "type": "bytes",
          "key": "c"
        },
        "revocationApp": {
          "type": "uint64",
          "key": "r"
        },
        "nickname": {
          "type": "bytes",
          "key": "n"
        }
      },
      "reserved": {}
    }
  },
  "state": {
    "global": {
      "num_byte_slices": 4,
      "num_uints": 2
    },
    "local": {
      "num_byte_slices": 0,
      "num_uints": 0
    }
  },
  "source": {
    "approval": "I3ByYWdtYSB2ZXJzaW9uIDEwCgovLyBUaGlzIFRFQUwgd2FzIGdlbmVyYXRlZCBieSBURUFMU2NyaXB0IHYwLjEwMy4wCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbGdvcmFuZGZvdW5kYXRpb24vVEVBTFNjcmlwdAoKLy8gVGhpcyBjb250cmFjdCBpcyBjb21wbGlhbnQgd2l0aCBhbmQvb3IgaW1wbGVtZW50cyB0aGUgZm9sbG93aW5nIEFSQ3M6IFsgQVJDNCBdCgovLyBUaGUgZm9sbG93aW5nIHRlbiBsaW5lcyBvZiBURUFMIGhhbmRsZSBpbml0aWFsIHByb2dyYW0gZmxvdwovLyBUaGlzIHBhdHRlcm4gaXMgdXNlZCB0byBtYWtlIGl0IGVhc3kgZm9yIGFueW9uZSB0byBwYXJzZSB0aGUgc3RhcnQgb2YgdGhlIHByb2dyYW0gYW5kIGRldGVybWluZSBpZiBhIHNwZWNpZmljIGFjdGlvbiBpcyBhbGxvd2VkCi8vIEhlcmUsIGFjdGlvbiByZWZlcnMgdG8gdGhlIE9uQ29tcGxldGUgaW4gY29tYmluYXRpb24gd2l0aCB3aGV0aGVyIHRoZSBhcHAgaXMgYmVpbmcgY3JlYXRlZCBvciBjYWxsZWQKLy8gRXZlcnkgcG9zc2libGUgYWN0aW9uIGZvciB0aGlzIGNvbnRyYWN0IGlzIHJlcHJlc2VudGVkIGluIHRoZSBzd2l0Y2ggc3RhdGVtZW50Ci8vIElmIHRoZSBhY3Rpb24gaXMgbm90IGltcGxlbWVudGVkIGluIHRoZSBjb250cmFjdCwgaXRzIHJlc3BlY3RpdmUgYnJhbmNoIHdpbGwgYmUgIipOT1RfSU1QTEVNRU5URUQiIHdoaWNoIGp1c3QgY29udGFpbnMgImVyciIKdHhuIEFwcGxpY2F0aW9uSUQKIQppbnQgNgoqCnR4biBPbkNvbXBsZXRpb24KKwpzd2l0Y2ggKmNhbGxfTm9PcCAqTk9UX0lNUExFTUVOVEVEICpOT1RfSU1QTEVNRU5URUQgKk5PVF9JTVBMRU1FTlRFRCAqY2FsbF9VcGRhdGVBcHBsaWNhdGlvbiAqTk9UX0lNUExFTUVOVEVEICpjcmVhdGVfTm9PcCAqTk9UX0lNUExFTUVOVEVEICpOT1RfSU1QTEVNRU5URUQgKk5PVF9JTVBMRU1FTlRFRCAqTk9UX0lNUExFTUVOVEVEICpOT1RfSU1QTEVNRU5URUQKCipOT1RfSU1QTEVNRU5URUQ6CgkvLyBUaGUgcmVxdWVzdGVkIGFjdGlvbiBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBjb250cmFjdC4gQXJlIHlvdSB1c2luZyB0aGUgY29ycmVjdCBPbkNvbXBsZXRlPyBEaWQgeW91IHNldCB5b3VyIGFwcCBJRD8KCWVycgoKLy8gdmVyaWZ5UmVrZXlUb0Fic3RyYWN0ZWRBY2NvdW50KCk6IHZvaWQKLy8KLy8gRW5zdXJlIHRoYXQgYnkgdGhlIGVuZCBvZiB0aGUgZ3JvdXAgdGhlIGFic3RyYWN0ZWQgYWNjb3VudCBoYXMgY29udHJvbCBvZiBpdHMgYWRkcmVzcwp2ZXJpZnlSZWtleVRvQWJzdHJhY3RlZEFjY291bnQ6Cglwcm90byAwIDAKCgkvLyBQdXNoIGVtcHR5IGJ5dGVzIGFmdGVyIHRoZSBmcmFtZSBwb2ludGVyIHRvIHJlc2VydmUgc3BhY2UgZm9yIGxvY2FsIHZhcmlhYmxlcwoJYnl0ZSAweAoJZHVwbiAyCgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjgzCgkvLyByZWtleWVkQmFjayA9IGZhbHNlCglpbnQgMAoJZnJhbWVfYnVyeSAwIC8vIHJla2V5ZWRCYWNrOiBib29sCgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjg1CgkvLyBmb3IgKGxldCBpID0gKHRoaXMudHhuLmdyb3VwSW5kZXggKyAxKTsgaSA8IHRoaXMudHhuR3JvdXAubGVuZ3RoOyBpICs9IDEpCgl0eG4gR3JvdXBJbmRleAoJaW50IDEKCSsKCWZyYW1lX2J1cnkgMSAvLyBpOiB1aW50NjQKCipmb3JfMDoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czo4NQoJLy8gaSA8IHRoaXMudHhuR3JvdXAubGVuZ3RoCglmcmFtZV9kaWcgMSAvLyBpOiB1aW50NjQKCWdsb2JhbCBHcm91cFNpemUKCTwKCWJ6ICpmb3JfMF9lbmQKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6ODYKCS8vIHR4biA9IHRoaXMudHhuR3JvdXBbaV0KCWZyYW1lX2RpZyAxIC8vIGk6IHVpbnQ2NAoJZnJhbWVfYnVyeSAyIC8vIHR4bjogdHhuCgoJLy8gKmlmMF9jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czo4OQoJLy8gdHhuLnNlbmRlciA9PT0gdGhpcy5jb250cm9sbGVkQWRkcmVzcy52YWx1ZSAmJiB0eG4ucmVrZXlUbyA9PT0gdGhpcy5hcHAuYWRkcmVzcwoJZnJhbWVfZGlnIDIgLy8gdHhuOiB0eG4KCWd0eG5zIFNlbmRlcgoJYnl0ZSAweDYzIC8vICJjIgoJYXBwX2dsb2JhbF9nZXQKCT09CglkdXAKCWJ6ICpza2lwX2FuZDAKCWZyYW1lX2RpZyAyIC8vIHR4bjogdHhuCglndHhucyBSZWtleVRvCglnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwoJPT0KCSYmCgoqc2tpcF9hbmQwOgoJYnogKmlmMF9lbmQKCgkvLyAqaWYwX2NvbnNlcXVlbnQKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czo5MAoJLy8gcmVrZXllZEJhY2sgPSB0cnVlCglpbnQgMQoJZnJhbWVfYnVyeSAwIC8vIHJla2V5ZWRCYWNrOiBib29sCgliICpmb3JfMF9lbmQKCippZjBfZW5kOgoJLy8gKmlmMV9jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czo5NgoJLy8gdHhuLnR5cGVFbnVtID09PSBUcmFuc2FjdGlvblR5cGUuQXBwbGljYXRpb25DYWxsICYmCgkvLyAgICAgICAgIHR4bi5vbkNvbXBsZXRpb24gPT09IDAgJiYKCS8vICAgICAgICAgdHhuLmFwcGxpY2F0aW9uSUQgPT09IHRoaXMuYXBwICYmCgkvLyAgICAgICAgIHR4bi5udW1BcHBBcmdzID09PSAxICYmCgkvLyAgICAgICAgIHR4bi5hcHBsaWNhdGlvbkFyZ3NbMF0gPT09IG1ldGhvZCgnYXJjNThfdmVyaWZ5QXV0aEFkZHIoKXZvaWQnKQoJZnJhbWVfZGlnIDIgLy8gdHhuOiB0eG4KCWd0eG5zIFR5cGVFbnVtCglpbnQgYXBwbAoJPT0KCWR1cAoJYnogKnNraXBfYW5kMQoJZnJhbWVfZGlnIDIgLy8gdHhuOiB0eG4KCWd0eG5zIE9uQ29tcGxldGlvbgoJaW50IDAKCT09CgkmJgoKKnNraXBfYW5kMToKCWR1cAoJYnogKnNraXBfYW5kMgoJZnJhbWVfZGlnIDIgLy8gdHhuOiB0eG4KCWd0eG5zIEFwcGxpY2F0aW9uSUQKCXR4bmEgQXBwbGljYXRpb25zIDAKCT09CgkmJgoKKnNraXBfYW5kMjoKCWR1cAoJYnogKnNraXBfYW5kMwoJZnJhbWVfZGlnIDIgLy8gdHhuOiB0eG4KCWd0eG5zIE51bUFwcEFyZ3MKCWludCAxCgk9PQoJJiYKCipza2lwX2FuZDM6CglkdXAKCWJ6ICpza2lwX2FuZDQKCWZyYW1lX2RpZyAyIC8vIHR4bjogdHhuCglndHhucyBBcHBsaWNhdGlvbkFyZ3MgMAoJbWV0aG9kICJhcmM1OF92ZXJpZnlBdXRoQWRkcigpdm9pZCIKCT09CgkmJgoKKnNraXBfYW5kNDoKCWJ6ICppZjFfZW5kCgoJLy8gKmlmMV9jb25zZXF1ZW50CgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTAyCgkvLyByZWtleWVkQmFjayA9IHRydWUKCWludCAxCglmcmFtZV9idXJ5IDAgLy8gcmVrZXllZEJhY2s6IGJvb2wKCWIgKmZvcl8wX2VuZAoKKmlmMV9lbmQ6CgoqZm9yXzBfY29udGludWU6CgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6ODUKCS8vIGkgKz0gMQoJZnJhbWVfZGlnIDEgLy8gaTogdWludDY0CglpbnQgMQoJKwoJZnJhbWVfYnVyeSAxIC8vIGk6IHVpbnQ2NAoJYiAqZm9yXzAKCipmb3JfMF9lbmQ6CgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTA3CgkvLyBhc3NlcnQocmVrZXllZEJhY2spCglmcmFtZV9kaWcgMCAvLyByZWtleWVkQmFjazogYm9vbAoJYXNzZXJ0CglyZXRzdWIKCi8vIGdldEF1dGhBZGRyKCk6IEFkZHJlc3MKLy8KLy8gV2hhdCB0aGUgdmFsdWUgb2YgdGhpcy5hZGRyZXNzLnZhbHVlLmF1dGhBZGRyIHNob3VsZCBiZSB3aGVuIHRoaXMuY29udHJvbGxlZEFkZHJlc3MKLy8gaXMgYWJsZSB0byBiZSBjb250cm9sbGVkIGJ5IHRoaXMgYXBwLiBJdCB3aWxsIGVpdGhlciBiZSB0aGlzLmFwcC5hZGRyZXNzIG9yIHplcm9BZGRyZXNzCi8vCi8vIEByZXR1cm5zIHRoZSBhdXRoIGFkZHJlc3MgdGhhdCB0aGUgY29udHJhY3Qgc2hvdWxkIGJlIHJla2V5ZWQgYmFjayB0byBhdCB0aGUgZW5kIG9mIGEgZmxhc2ggcmVrZXkKZ2V0QXV0aEFkZHI6Cglwcm90byAwIDEKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTE3CgkvLyByZXR1cm4gdGhpcy5jb250cm9sbGVkQWRkcmVzcy52YWx1ZSA9PT0gdGhpcy5hcHAuYWRkcmVzcwoJLy8gICAgICAgPyBBZGRyZXNzLnplcm9BZGRyZXNzIDogdGhpcy5hcHAuYWRkcmVzczsKCWJ5dGUgMHg2MyAvLyAiYyIKCWFwcF9nbG9iYWxfZ2V0CglnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwoJPT0KCWJ6ICp0ZXJuYXJ5MF9mYWxzZQoJZ2xvYmFsIFplcm9BZGRyZXNzCgliICp0ZXJuYXJ5MF9lbmQKCip0ZXJuYXJ5MF9mYWxzZToKCWdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCgoqdGVybmFyeTBfZW5kOgoJcmV0c3ViCgovLyBpc0FkbWluKCk6IGJvb2xlYW4KLy8KLy8KLy8gQHJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGNhbGxlciBpcyBhbiBhZG1pbiBvbiB0aGUgd2FsbGV0CmlzQWRtaW46Cglwcm90byAwIDEKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTI2CgkvLyByZXR1cm4gKAoJLy8gICAgICAgdGhpcy50eG4uc2VuZGVyID09PSB0aGlzLmFkbWluLnZhbHVlIHx8CgkvLyAgICAgICB0aGlzLnBhc3NrZXlzKHRoaXMudHhuLnNlbmRlcikuZXhpc3RzICYmCgkvLyAgICAgICB0aGlzLnBhc3NrZXlzKHRoaXMudHhuLnNlbmRlcikudmFsdWUgPT0gQWtpdGFEb21haW4KCS8vICAgICApOwoJdHhuIFNlbmRlcgoJYnl0ZSAweDYxIC8vICJhIgoJYXBwX2dsb2JhbF9nZXQKCT09CglkdXAKCWJueiAqc2tpcF9vcjAKCXR4biBTZW5kZXIKCWJveF9sZW4KCXN3YXAKCXBvcAoJZHVwCglieiAqc2tpcF9hbmQ1Cgl0eG4gU2VuZGVyCglib3hfZ2V0CgoJLy8gYm94IHZhbHVlIGRvZXMgbm90IGV4aXN0OiB0aGlzLnBhc3NrZXlzKHRoaXMudHhuLnNlbmRlcikudmFsdWUKCWFzc2VydAoJZXh0cmFjdCAyIDAKCWJ5dGUgImFraXRhLmNvbW11bml0eSIKCT09CgkmJgoKKnNraXBfYW5kNToKCXx8Cgoqc2tpcF9vcjA6CglyZXRzdWIKCi8vIGNhblJldm9rZSgpOiBib29sZWFuCi8vCi8vCi8vIEByZXR1cm5zIHdoZXRoZXIgdGhlIGNhbGxlciBpcyB0aGUgcmV2b2NhdGlvbiBhcHAgYWRkcmVzcwpjYW5SZXZva2U6Cglwcm90byAwIDEKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTM4CgkvLyByZXR1cm4gdGhpcy50eG4uc2VuZGVyID09PSB0aGlzLnJldm9jYXRpb25BcHAudmFsdWUuYWRkcmVzcwoJdHhuIFNlbmRlcgoJYnl0ZSAweDcyIC8vICJyIgoJYXBwX2dsb2JhbF9nZXQKCWFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKCXBvcAoJPT0KCXJldHN1YgoKLy8gcGx1Z2luQ2FsbEFsbG93ZWQoYXBwOiBBcHBJRCwgY2FsbGVyOiBBZGRyZXNzKTogYm9vbGVhbgpwbHVnaW5DYWxsQWxsb3dlZDoKCXByb3RvIDIgMQoKCS8vIFB1c2ggZW1wdHkgYnl0ZXMgYWZ0ZXIgdGhlIGZyYW1lIHBvaW50ZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgbG9jYWwgdmFyaWFibGVzCglieXRlIDB4CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjE0MgoJLy8ga2V5OiBQbHVnaW5zS2V5ID0geyBhcHBsaWNhdGlvbjogYXBwLCBhbGxvd2VkQ2FsbGVyOiBjYWxsZXIgfQoJZnJhbWVfZGlnIC0xIC8vIGFwcDogQXBwSUQKCWl0b2IKCWZyYW1lX2RpZyAtMiAvLyBjYWxsZXI6IEFkZHJlc3MKCWNvbmNhdAoJZnJhbWVfYnVyeSAwIC8vIGtleTogUGx1Z2luc0tleQoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoxNDQKCS8vIHJldHVybiAoCgkvLyAgICAgICB0aGlzLnBsdWdpbnMoa2V5KS5leGlzdHMgJiYKCS8vICAgICAgIHRoaXMucGx1Z2lucyhrZXkpLnZhbHVlLmxhc3RWYWxpZFJvdW5kID49IGdsb2JhbHMucm91bmQgJiYKCS8vICAgICAgIGdsb2JhbHMucm91bmQgLSB0aGlzLnBsdWdpbnMoa2V5KS52YWx1ZS5sYXN0Q2FsbGVkID49IHRoaXMucGx1Z2lucyhrZXkpLnZhbHVlLmNvb2xkb3duICYmCgkvLyAgICAgICAvLyBpZiBtZXRob2RzIGRvZXNuJ3QgaGF2ZSBhbiBlbnRyeSBhbGwgbWV0aG9kcyBhcmUgYWxsb3dlZCwgb3RoZXJ3aXNlIGNoZWNrIGFsbCB0aGUgdHhucwoJLy8gICAgICAgKCF0aGlzLm1ldGhvZHMoa2V5KS5leGlzdHMgfHwgdGhpcy5tZXRob2RDYWxsc0FsbG93ZWQoYXBwLCBjYWxsZXIpKQoJLy8gICAgICk7CglieXRlIDB4NzAgLy8gInAiCglmcmFtZV9kaWcgMCAvLyBrZXk6IFBsdWdpbnNLZXkKCWNvbmNhdAoJYm94X2xlbgoJc3dhcAoJcG9wCglkdXAKCWJ6ICpza2lwX2FuZDYKCWJ5dGUgMHg3MCAvLyAicCIKCWZyYW1lX2RpZyAwIC8vIGtleTogUGx1Z2luc0tleQoJY29uY2F0Cglib3hfZ2V0CgoJLy8gYm94IHZhbHVlIGRvZXMgbm90IGV4aXN0OiB0aGlzLnBsdWdpbnMoa2V5KS52YWx1ZQoJYXNzZXJ0CglzdG9yZSAyNTUgLy8gZnVsbCBhcnJheQoJbG9hZCAyNTUgLy8gZnVsbCBhcnJheQoJZXh0cmFjdCAwIDgKCWJ0b2kKCWdsb2JhbCBSb3VuZAoJPj0KCSYmCgoqc2tpcF9hbmQ2OgoJZHVwCglieiAqc2tpcF9hbmQ3CglnbG9iYWwgUm91bmQKCWJ5dGUgMHg3MCAvLyAicCIKCWZyYW1lX2RpZyAwIC8vIGtleTogUGx1Z2luc0tleQoJY29uY2F0Cglib3hfZ2V0CgoJLy8gYm94IHZhbHVlIGRvZXMgbm90IGV4aXN0OiB0aGlzLnBsdWdpbnMoa2V5KS52YWx1ZQoJYXNzZXJ0CglzdG9yZSAyNTUgLy8gZnVsbCBhcnJheQoJbG9hZCAyNTUgLy8gZnVsbCBhcnJheQoJZXh0cmFjdCAxNiA4CglidG9pCgktCglieXRlIDB4NzAgLy8gInAiCglmcmFtZV9kaWcgMCAvLyBrZXk6IFBsdWdpbnNLZXkKCWNvbmNhdAoJYm94X2dldAoKCS8vIGJveCB2YWx1ZSBkb2VzIG5vdCBleGlzdDogdGhpcy5wbHVnaW5zKGtleSkudmFsdWUKCWFzc2VydAoJc3RvcmUgMjU1IC8vIGZ1bGwgYXJyYXkKCWxvYWQgMjU1IC8vIGZ1bGwgYXJyYXkKCWV4dHJhY3QgOCA4CglidG9pCgk+PQoJJiYKCipza2lwX2FuZDc6CglkdXAKCWJ6ICpza2lwX2FuZDgKCWJ5dGUgMHg2ZCAvLyAibSIKCWZyYW1lX2RpZyAwIC8vIGtleTogUGx1Z2luc0tleQoJY29uY2F0Cglib3hfbGVuCglzd2FwCglwb3AKCSEKCWR1cAoJYm56ICpza2lwX29yMQoJZnJhbWVfZGlnIC0yIC8vIGNhbGxlcjogQWRkcmVzcwoJZnJhbWVfZGlnIC0xIC8vIGFwcDogQXBwSUQKCWNhbGxzdWIgbWV0aG9kQ2FsbHNBbGxvd2VkCgl8fAoKKnNraXBfb3IxOgoJJiYKCipza2lwX2FuZDg6CgkvLyBzZXQgdGhlIHN1YnJvdXRpbmUgcmV0dXJuIHZhbHVlCglmcmFtZV9idXJ5IDAKCXJldHN1YgoKLy8gbWV0aG9kQ2FsbHNBbGxvd2VkKGFwcDogQXBwSUQsIGNhbGxlcjogQWRkcmVzcyk6IGJvb2xlYW4KbWV0aG9kQ2FsbHNBbGxvd2VkOgoJcHJvdG8gMiAxCgoJLy8gUHVzaCBlbXB0eSBieXRlcyBhZnRlciB0aGUgZnJhbWUgcG9pbnRlciB0byByZXNlcnZlIHNwYWNlIGZvciBsb2NhbCB2YXJpYWJsZXMKCWJ5dGUgMHgKCWR1cG4gNQoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoxNTQKCS8vIGtleTogUGx1Z2luc0tleSA9IHsgYXBwbGljYXRpb246IGFwcCwgYWxsb3dlZENhbGxlcjogY2FsbGVyIH0KCWZyYW1lX2RpZyAtMSAvLyBhcHA6IEFwcElECglpdG9iCglmcmFtZV9kaWcgLTIgLy8gY2FsbGVyOiBBZGRyZXNzCgljb25jYXQKCWZyYW1lX2J1cnkgMCAvLyBrZXk6IFBsdWdpbnNLZXkKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTU1CgkvLyBhbGxvd2VkTWV0aG9kcyA9IHRoaXMubWV0aG9kcyhrZXkpLnZhbHVlCglieXRlIDB4NmQgLy8gIm0iCglmcmFtZV9kaWcgMCAvLyBrZXk6IFBsdWdpbnNLZXkKCWNvbmNhdAoJZnJhbWVfYnVyeSAxIC8vIHN0b3JhZ2Uga2V5Ly9hbGxvd2VkTWV0aG9kcwoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoxNTcKCS8vIGZvciAobGV0IGkgPSAodGhpcy50eG4uZ3JvdXBJbmRleCArIDEpOyBpIDwgdGhpcy50eG5Hcm91cC5sZW5ndGg7IGkgKz0gMSkKCXR4biBHcm91cEluZGV4CglpbnQgMQoJKwoJZnJhbWVfYnVyeSAyIC8vIGk6IHVpbnQ2NAoKKmZvcl8xOgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjE1NwoJLy8gaSA8IHRoaXMudHhuR3JvdXAubGVuZ3RoCglmcmFtZV9kaWcgMiAvLyBpOiB1aW50NjQKCWdsb2JhbCBHcm91cFNpemUKCTwKCWJ6ICpmb3JfMV9lbmQKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTU4CgkvLyB0eG4gPSB0aGlzLnR4bkdyb3VwW2ldCglmcmFtZV9kaWcgMiAvLyBpOiB1aW50NjQKCWZyYW1lX2J1cnkgMyAvLyB0eG46IHR4bgoKCS8vICppZjJfY29uZGl0aW9uCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTYxCgkvLyB0eG4udHlwZUVudW0gIT09IFRyYW5zYWN0aW9uVHlwZS5BcHBsaWNhdGlvbkNhbGwgfHwKCS8vICAgICAgICAgKHR4bi5hcHBsaWNhdGlvbklEICE9PSBhcHAgJiYgdHhuLmFwcGxpY2F0aW9uSUQgIT09IHRoaXMuYXBwKSB8fAoJLy8gICAgICAgICB0eG4uc2VuZGVyICE9PSBjYWxsZXIKCWZyYW1lX2RpZyAzIC8vIHR4bjogdHhuCglndHhucyBUeXBlRW51bQoJaW50IGFwcGwKCSE9CglkdXAKCWJueiAqc2tpcF9vcjIKCWZyYW1lX2RpZyAzIC8vIHR4bjogdHhuCglndHhucyBBcHBsaWNhdGlvbklECglmcmFtZV9kaWcgLTEgLy8gYXBwOiBBcHBJRAoJIT0KCWR1cAoJYnogKnNraXBfYW5kOQoJZnJhbWVfZGlnIDMgLy8gdHhuOiB0eG4KCWd0eG5zIEFwcGxpY2F0aW9uSUQKCXR4bmEgQXBwbGljYXRpb25zIDAKCSE9CgkmJgoKKnNraXBfYW5kOToKCXx8Cgoqc2tpcF9vcjI6CglkdXAKCWJueiAqc2tpcF9vcjMKCWZyYW1lX2RpZyAzIC8vIHR4bjogdHhuCglndHhucyBTZW5kZXIKCWZyYW1lX2RpZyAtMiAvLyBjYWxsZXI6IEFkZHJlc3MKCSE9Cgl8fAoKKnNraXBfb3IzOgoJYnogKmlmMl9lbmQKCgkvLyAqaWYyX2NvbnNlcXVlbnQKCWIgKmZvcl8xX2NvbnRpbnVlCgoqaWYyX2VuZDoKCS8vICppZjNfY29uZGl0aW9uCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTY4CgkvLyB0eG4uYXBwbGljYXRpb25BcmdzWzBdID09PSBtZXRob2QoJ2FyYzU4X3ZlcmlmeUF1dGhBZGRyKCl2b2lkJykKCWZyYW1lX2RpZyAzIC8vIHR4bjogdHhuCglndHhucyBBcHBsaWNhdGlvbkFyZ3MgMAoJbWV0aG9kICJhcmM1OF92ZXJpZnlBdXRoQWRkcigpdm9pZCIKCT09CglieiAqaWYzX2VuZAoKCS8vICppZjNfY29uc2VxdWVudAoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjE2OQoJLy8gcmV0dXJuIHRydWUKCWludCAxCgliICptZXRob2RDYWxsc0FsbG93ZWQqcmV0dXJuCgoqaWYzX2VuZDoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoxNzIKCS8vIGN1cnJlbnRNZXRob2RBbGxvd2VkOiBib29sZWFuID0gZmFsc2UKCWludCAwCglmcmFtZV9idXJ5IDQgLy8gY3VycmVudE1ldGhvZEFsbG93ZWQ6IGJvb2xlYW4KCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTczCgkvLyBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYWxsb3dlZE1ldGhvZHMubGVuZ3RoOyBpaSArPSAxKQoJaW50IDAKCWZyYW1lX2J1cnkgNSAvLyBpaTogdWludDY0CgoqZm9yXzI6CgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTczCgkvLyBpaSA8IGFsbG93ZWRNZXRob2RzLmxlbmd0aAoJZnJhbWVfZGlnIDUgLy8gaWk6IHVpbnQ2NAoJZnJhbWVfZGlnIDEgLy8gc3RvcmFnZSBrZXkvL2FsbG93ZWRNZXRob2RzCglib3hfZ2V0CgoJLy8gYm94IHZhbHVlIGRvZXMgbm90IGV4aXN0OiB0aGlzLm1ldGhvZHMoa2V5KS52YWx1ZQoJYXNzZXJ0CglleHRyYWN0IDIgMAoJbGVuCglpbnQgNAoJLwoJPAoJYnogKmZvcl8yX2VuZAoKCS8vICppZjRfY29uZGl0aW9uCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTc0CgkvLyAodHhuLmFwcGxpY2F0aW9uQXJnc1swXSBhcyBieXRlczw0PikgPT09IGFsbG93ZWRNZXRob2RzW2lpXQoJZnJhbWVfZGlnIDMgLy8gdHhuOiB0eG4KCWd0eG5zIEFwcGxpY2F0aW9uQXJncyAwCglieXRlIDB4MDAwMDAwMDAKCWNvbmNhdAoJZHVwCglleHRyYWN0IDQgMAoJYnl0ZSAweAoJYj09Cglhc3NlcnQKCWV4dHJhY3QgMCA0CglmcmFtZV9kaWcgMSAvLyBzdG9yYWdlIGtleS8vYWxsb3dlZE1ldGhvZHMKCWJveF9nZXQKCgkvLyBib3ggdmFsdWUgZG9lcyBub3QgZXhpc3Q6IHRoaXMubWV0aG9kcyhrZXkpLnZhbHVlCglhc3NlcnQKCWV4dHJhY3QgMiAwCglzdG9yZSAyNTUgLy8gZnVsbCBhcnJheQoJaW50IDAgLy8gaW5pdGlhbCBvZmZzZXQKCWZyYW1lX2RpZyA1IC8vIGlpOiB1aW50NjQKCWludCA0CgkqIC8vIGFjYyAqIHR5cGVMZW5ndGgKCSsKCWxvYWQgMjU1IC8vIGZ1bGwgYXJyYXkKCXN3YXAKCWludCA0CglleHRyYWN0MwoJPT0KCWJ6ICppZjRfZW5kCgoJLy8gKmlmNF9jb25zZXF1ZW50CgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTc1CgkvLyBjdXJyZW50TWV0aG9kQWxsb3dlZCA9IHRydWUKCWludCAxCglmcmFtZV9idXJ5IDQgLy8gY3VycmVudE1ldGhvZEFsbG93ZWQ6IGJvb2xlYW4KCippZjRfZW5kOgoKKmZvcl8yX2NvbnRpbnVlOgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjE3MwoJLy8gaWkgKz0gMQoJZnJhbWVfZGlnIDUgLy8gaWk6IHVpbnQ2NAoJaW50IDEKCSsKCWZyYW1lX2J1cnkgNSAvLyBpaTogdWludDY0CgliICpmb3JfMgoKKmZvcl8yX2VuZDoKCS8vICppZjVfY29uZGl0aW9uCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTc5CgkvLyAhY3VycmVudE1ldGhvZEFsbG93ZWQKCWZyYW1lX2RpZyA0IC8vIGN1cnJlbnRNZXRob2RBbGxvd2VkOiBib29sZWFuCgkhCglieiAqaWY1X2VuZAoKCS8vICppZjVfY29uc2VxdWVudAoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjE4MAoJLy8gcmV0dXJuIGZhbHNlCglpbnQgMAoJYiAqbWV0aG9kQ2FsbHNBbGxvd2VkKnJldHVybgoKKmlmNV9lbmQ6CgoqZm9yXzFfY29udGludWU6CgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MTU3CgkvLyBpICs9IDEKCWZyYW1lX2RpZyAyIC8vIGk6IHVpbnQ2NAoJaW50IDEKCSsKCWZyYW1lX2J1cnkgMiAvLyBpOiB1aW50NjQKCWIgKmZvcl8xCgoqZm9yXzFfZW5kOgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjE4NAoJLy8gcmV0dXJuIHRydWU7CglpbnQgMQoKKm1ldGhvZENhbGxzQWxsb3dlZCpyZXR1cm46CgkvLyBzZXQgdGhlIHN1YnJvdXRpbmUgcmV0dXJuIHZhbHVlCglmcmFtZV9idXJ5IDAKCgkvLyBwb3AgYWxsIGxvY2FsIHZhcmlhYmxlcyBmcm9tIHRoZSBzdGFjawoJcG9wbiA1CglyZXRzdWIKCi8vIGNyZWF0ZUFwcGxpY2F0aW9uKHN0cmluZyxhZGRyZXNzLGFkZHJlc3MsdWludDY0LHN0cmluZyl2b2lkCiphYmlfcm91dGVfY3JlYXRlQXBwbGljYXRpb246CgkvLyBuaWNrbmFtZTogc3RyaW5nCgl0eG5hIEFwcGxpY2F0aW9uQXJncyA1CglleHRyYWN0IDIgMAoKCS8vIHJldm9jYXRpb25BcHA6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAoJYnRvaQoKCS8vIGFkbWluOiBhZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAzCglkdXAKCWxlbgoJaW50IDMyCgk9PQoKCS8vIGFyZ3VtZW50IDIgKGFkbWluKSBmb3IgY3JlYXRlQXBwbGljYXRpb24gbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIGNvbnRyb2xsZWRBZGRyZXNzOiBhZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAyCglkdXAKCWxlbgoJaW50IDMyCgk9PQoKCS8vIGFyZ3VtZW50IDMgKGNvbnRyb2xsZWRBZGRyZXNzKSBmb3IgY3JlYXRlQXBwbGljYXRpb24gbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIHZlcnNpb246IHN0cmluZwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZXh0cmFjdCAyIDAKCgkvLyBleGVjdXRlIGNyZWF0ZUFwcGxpY2F0aW9uKHN0cmluZyxhZGRyZXNzLGFkZHJlc3MsdWludDY0LHN0cmluZyl2b2lkCgljYWxsc3ViIGNyZWF0ZUFwcGxpY2F0aW9uCglpbnQgMQoJcmV0dXJuCgovLyBjcmVhdGVBcHBsaWNhdGlvbih2ZXJzaW9uOiBzdHJpbmcsIGNvbnRyb2xsZWRBZGRyZXNzOiBBZGRyZXNzLCBhZG1pbjogQWRkcmVzcywgcmV2b2NhdGlvbkFwcDogQXBwSUQsIG5pY2tuYW1lOiBzdHJpbmcpOiB2b2lkCi8vCi8vIENyZWF0ZSBhbiBhYnN0cmFjdGVkIGFjY291bnQgYXBwbGljYXRpb24uCi8vIFRoaXMgaXMgbm90IHBhcnQgb2YgQVJDNTggYW5kIGltcGxlbWVudGF0aW9uIHNwZWNpZmljLgovLwovLyBAcGFyYW0gdmVyc2lvbiBUaGUgdmVyc2lvbiBvZiB0aGUgYWJzdHJhY3RlZCBhY2NvdW50IGFwcGxpY2F0aW9uCi8vIEBwYXJhbSBjb250cm9sbGVkQWRkcmVzcyBUaGUgYWRkcmVzcyBvZiB0aGUgYWJzdHJhY3RlZCBhY2NvdW50LiBJZiB6ZXJvQWRkcmVzcywgdGhlbiB0aGUgYWRkcmVzcyBvZiB0aGUgY29udHJhY3QgYWNjb3VudCB3aWxsIGJlIHVzZWQKLy8gQHBhcmFtIGFkbWluIFRoZSBhZGRyZXNzIG9mIHRoZSBhZG1pbiBmb3IgdGhpcyBhcHBsaWNhdGlvbgovLyBAcGFyYW0gcmV2b2NhdGlvbkFwcCBUaGUgYXBwbGljYXRpb24gSUQgb2YgdGhlIHJldm9jYXRpb24gYXBwIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGFic3RyYWN0ZWQgYWNjb3VudAovLyBAcGFyYW0gbmlja25hbWUgQSB1c2VyLWZyaWVuZGx5IG5hbWUgZm9yIHRoaXMgYWJzdHJhY3RlZCBhY2NvdW50CmNyZWF0ZUFwcGxpY2F0aW9uOgoJcHJvdG8gNSAwCgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjIwNAoJLy8gYXNzZXJ0KGFkbWluICE9PSBjb250cm9sbGVkQWRkcmVzcywgZXJycy5BRE1JTl9DQU5OT1RfQkVfQ09OVFJPTExFRCkKCWZyYW1lX2RpZyAtMyAvLyBhZG1pbjogQWRkcmVzcwoJZnJhbWVfZGlnIC0yIC8vIGNvbnRyb2xsZWRBZGRyZXNzOiBBZGRyZXNzCgkhPQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjIwNQoJLy8gYXNzZXJ0KGdsb2JhbHMuY2FsbGVyQXBwbGljYXRpb25JRCAhPT0gQXBwSUQuZnJvbVVpbnQ2NCgwKSwgZXJycy5NVVNUX0JFX0RFUExPWUVEX0ZST01fRkFDVE9SWSkKCWdsb2JhbCBDYWxsZXJBcHBsaWNhdGlvbklECglpbnQgMAoJIT0KCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoyMDcKCS8vIHRoaXMudmVyc2lvbi52YWx1ZSA9IHZlcnNpb24KCWJ5dGUgMHg3NiAvLyAidiIKCWZyYW1lX2RpZyAtMSAvLyB2ZXJzaW9uOiBzdHJpbmcKCWR1cAoJbGVuCglpdG9iCglleHRyYWN0IDYgMgoJc3dhcAoJY29uY2F0CglhcHBfZ2xvYmFsX3B1dAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoyMDgKCS8vIHRoaXMuY29udHJvbGxlZEFkZHJlc3MudmFsdWUgPSBjb250cm9sbGVkQWRkcmVzcyA9PT0gQWRkcmVzcy56ZXJvQWRkcmVzcyA/IHRoaXMuYXBwLmFkZHJlc3MgOiBjb250cm9sbGVkQWRkcmVzcwoJYnl0ZSAweDYzIC8vICJjIgoJZnJhbWVfZGlnIC0yIC8vIGNvbnRyb2xsZWRBZGRyZXNzOiBBZGRyZXNzCglnbG9iYWwgWmVyb0FkZHJlc3MKCT09CglieiAqdGVybmFyeTFfZmFsc2UKCWdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCgliICp0ZXJuYXJ5MV9lbmQKCip0ZXJuYXJ5MV9mYWxzZToKCWZyYW1lX2RpZyAtMiAvLyBjb250cm9sbGVkQWRkcmVzczogQWRkcmVzcwoKKnRlcm5hcnkxX2VuZDoKCWFwcF9nbG9iYWxfcHV0CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjIwOQoJLy8gdGhpcy5hZG1pbi52YWx1ZSA9IGFkbWluCglieXRlIDB4NjEgLy8gImEiCglmcmFtZV9kaWcgLTMgLy8gYWRtaW46IEFkZHJlc3MKCWFwcF9nbG9iYWxfcHV0CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjIxMAoJLy8gdGhpcy5yZXZvY2F0aW9uQXBwLnZhbHVlID0gcmV2b2NhdGlvbkFwcAoJYnl0ZSAweDcyIC8vICJyIgoJZnJhbWVfZGlnIC00IC8vIHJldm9jYXRpb25BcHA6IEFwcElECglhcHBfZ2xvYmFsX3B1dAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoyMTEKCS8vIHRoaXMubmlja25hbWUudmFsdWUgPSBuaWNrbmFtZQoJYnl0ZSAweDZlIC8vICJuIgoJZnJhbWVfZGlnIC01IC8vIG5pY2tuYW1lOiBzdHJpbmcKCWR1cAoJbGVuCglpdG9iCglleHRyYWN0IDYgMgoJc3dhcAoJY29uY2F0CglhcHBfZ2xvYmFsX3B1dAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoyMTIKCS8vIHRoaXMuZmFjdG9yeUFwcC52YWx1ZSA9IGdsb2JhbHMuY2FsbGVyQXBwbGljYXRpb25JRAoJYnl0ZSAweDY2IC8vICJmIgoJZ2xvYmFsIENhbGxlckFwcGxpY2F0aW9uSUQKCWFwcF9nbG9iYWxfcHV0CglyZXRzdWIKCi8vIHVwZGF0ZUFwcGxpY2F0aW9uKHN0cmluZyl2b2lkCiphYmlfcm91dGVfdXBkYXRlQXBwbGljYXRpb246CgkvLyB2ZXJzaW9uOiBzdHJpbmcKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWV4dHJhY3QgMiAwCgoJLy8gZXhlY3V0ZSB1cGRhdGVBcHBsaWNhdGlvbihzdHJpbmcpdm9pZAoJY2FsbHN1YiB1cGRhdGVBcHBsaWNhdGlvbgoJaW50IDEKCXJldHVybgoKLy8gdXBkYXRlQXBwbGljYXRpb24odmVyc2lvbjogc3RyaW5nKTogdm9pZAp1cGRhdGVBcHBsaWNhdGlvbjoKCXByb3RvIDEgMAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoyMTcKCS8vIGFzc2VydCh0aGlzLmlzQWRtaW4oKSwgZXJycy5PTkxZX0FETUlOX0NBTl9VUERBVEUpCgljYWxsc3ViIGlzQWRtaW4KCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoyMTgKCS8vIHRoaXMudmVyc2lvbi52YWx1ZSA9IHZlcnNpb24KCWJ5dGUgMHg3NiAvLyAidiIKCWZyYW1lX2RpZyAtMSAvLyB2ZXJzaW9uOiBzdHJpbmcKCWR1cAoJbGVuCglpdG9iCglleHRyYWN0IDYgMgoJc3dhcAoJY29uY2F0CglhcHBfZ2xvYmFsX3B1dAoJcmV0c3ViCgovLyBjaGFuZ2VSZXZvY2F0aW9uQXBwKHVpbnQ2NCl2b2lkCiphYmlfcm91dGVfY2hhbmdlUmV2b2NhdGlvbkFwcDoKCS8vIG5ld1Jldm9jYXRpb25BcHA6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJYnRvaQoKCS8vIGV4ZWN1dGUgY2hhbmdlUmV2b2NhdGlvbkFwcCh1aW50NjQpdm9pZAoJY2FsbHN1YiBjaGFuZ2VSZXZvY2F0aW9uQXBwCglpbnQgMQoJcmV0dXJuCgovLyBjaGFuZ2VSZXZvY2F0aW9uQXBwKG5ld1Jldm9jYXRpb25BcHA6IEFwcElEKTogdm9pZAovLwovLyBDaGFuZ2VzIHRoZSByZXZvY2F0aW9uIGFwcCBhc3NvY2lhdGVkIHdpdGggdGhlIGNvbnRyYWN0Ci8vCi8vIEBwYXJhbSBuZXdSZXZvY2F0aW9uQXBwIHRoZSBuZXcgcmV2b2NhdGlvbiBhcHAKY2hhbmdlUmV2b2NhdGlvbkFwcDoKCXByb3RvIDEgMAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoyMjcKCS8vIGFzc2VydCh0aGlzLmlzQWRtaW4oKSwgZXJycy5PTkxZX0FETUlOX0NBTl9DSEFOR0VfUkVWT0tFKQoJY2FsbHN1YiBpc0FkbWluCglhc3NlcnQKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MjI4CgkvLyB0aGlzLnJldm9jYXRpb25BcHAudmFsdWUgPSBuZXdSZXZvY2F0aW9uQXBwCglieXRlIDB4NzIgLy8gInIiCglmcmFtZV9kaWcgLTEgLy8gbmV3UmV2b2NhdGlvbkFwcDogQXBwSUQKCWFwcF9nbG9iYWxfcHV0CglyZXRzdWIKCi8vIHNldE5pY2tuYW1lKHN0cmluZyl2b2lkCiphYmlfcm91dGVfc2V0Tmlja25hbWU6CgkvLyBuaWNrbmFtZTogc3RyaW5nCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglleHRyYWN0IDIgMAoKCS8vIGV4ZWN1dGUgc2V0Tmlja25hbWUoc3RyaW5nKXZvaWQKCWNhbGxzdWIgc2V0Tmlja25hbWUKCWludCAxCglyZXR1cm4KCi8vIHNldE5pY2tuYW1lKG5pY2tuYW1lOiBzdHJpbmcpOiB2b2lkCi8vCi8vIENoYW5nZXMgdGhlIG5pY2tuYW1lIG9mIHRoZSB3YWxsZXQKLy8KLy8gQHBhcmFtIG5pY2tuYW1lIHRoZSBuZXcgbmlja25hbWUgb2YgdGhlIHdhbGxldApzZXROaWNrbmFtZToKCXByb3RvIDEgMAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoyMzcKCS8vIGFzc2VydCh0aGlzLmlzQWRtaW4oKSwgZXJycy5PTkxZX0FETUlOX0NBTl9DSEFOR0VfTklDS05BTUUpCgljYWxsc3ViIGlzQWRtaW4KCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoyMzgKCS8vIHRoaXMubmlja25hbWUudmFsdWUgPSBuaWNrbmFtZQoJYnl0ZSAweDZlIC8vICJuIgoJZnJhbWVfZGlnIC0xIC8vIG5pY2tuYW1lOiBzdHJpbmcKCWR1cAoJbGVuCglpdG9iCglleHRyYWN0IDYgMgoJc3dhcAoJY29uY2F0CglhcHBfZ2xvYmFsX3B1dAoJcmV0c3ViCgovLyBhcmM1OF9jaGFuZ2VBZG1pbihhZGRyZXNzKXZvaWQKKmFiaV9yb3V0ZV9hcmM1OF9jaGFuZ2VBZG1pbjoKCS8vIG5ld0FkbWluOiBhZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglkdXAKCWxlbgoJaW50IDMyCgk9PQoKCS8vIGFyZ3VtZW50IDAgKG5ld0FkbWluKSBmb3IgYXJjNThfY2hhbmdlQWRtaW4gbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIGV4ZWN1dGUgYXJjNThfY2hhbmdlQWRtaW4oYWRkcmVzcyl2b2lkCgljYWxsc3ViIGFyYzU4X2NoYW5nZUFkbWluCglpbnQgMQoJcmV0dXJuCgovLyBhcmM1OF9jaGFuZ2VBZG1pbihuZXdBZG1pbjogQWRkcmVzcyk6IHZvaWQKLy8KLy8gQXR0ZW1wdCB0byBjaGFuZ2UgdGhlIGFkbWluIGZvciB0aGlzIGFwcC4gU29tZSBpbXBsZW1lbnRhdGlvbnMgTUFZIG5vdCBzdXBwb3J0IHRoaXMuCi8vCi8vIEBwYXJhbSBuZXdBZG1pbiBUaGUgbmV3IGFkbWluCmFyYzU4X2NoYW5nZUFkbWluOgoJcHJvdG8gMSAwCgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjI0NwoJLy8gYXNzZXJ0KHRoaXMuaXNBZG1pbigpLCBlcnJzLk9OTFlfQURNSU5fQ0FOX0NIQU5HRV9BRE1JTikKCWNhbGxzdWIgaXNBZG1pbgoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjI0OAoJLy8gdGhpcy5hZG1pbi52YWx1ZSA9IG5ld0FkbWluCglieXRlIDB4NjEgLy8gImEiCglmcmFtZV9kaWcgLTEgLy8gbmV3QWRtaW46IEFkZHJlc3MKCWFwcF9nbG9iYWxfcHV0CglyZXRzdWIKCi8vIGFyYzU4X3BsdWdpbkNoYW5nZUFkbWluKHVpbnQ2NCxhZGRyZXNzLGFkZHJlc3Mpdm9pZAoqYWJpX3JvdXRlX2FyYzU4X3BsdWdpbkNoYW5nZUFkbWluOgoJLy8gbmV3QWRtaW46IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDMKCWR1cAoJbGVuCglpbnQgMzIKCT09CgoJLy8gYXJndW1lbnQgMCAobmV3QWRtaW4pIGZvciBhcmM1OF9wbHVnaW5DaGFuZ2VBZG1pbiBtdXN0IGJlIGEgYWRkcmVzcwoJYXNzZXJ0CgoJLy8gYWxsb3dlZENhbGxlcjogYWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgoJZHVwCglsZW4KCWludCAzMgoJPT0KCgkvLyBhcmd1bWVudCAxIChhbGxvd2VkQ2FsbGVyKSBmb3IgYXJjNThfcGx1Z2luQ2hhbmdlQWRtaW4gbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIHBsdWdpbjogdWludDY0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglidG9pCgoJLy8gZXhlY3V0ZSBhcmM1OF9wbHVnaW5DaGFuZ2VBZG1pbih1aW50NjQsYWRkcmVzcyxhZGRyZXNzKXZvaWQKCWNhbGxzdWIgYXJjNThfcGx1Z2luQ2hhbmdlQWRtaW4KCWludCAxCglyZXR1cm4KCi8vIGFyYzU4X3BsdWdpbkNoYW5nZUFkbWluKHBsdWdpbjogQXBwSUQsIGFsbG93ZWRDYWxsZXI6IEFkZHJlc3MsIG5ld0FkbWluOiBBZGRyZXNzKTogdm9pZAovLwovLyBBdHRlbXB0IHRvIGNoYW5nZSB0aGUgYWRtaW4gdmlhIHBsdWdpbi4KLy8KLy8gQHBhcmFtIHBsdWdpbiBUaGUgYXBwIGNhbGxpbmcgdGhlIHBsdWdpbgovLyBAcGFyYW0gYWxsb3dlZENhbGxlciBUaGUgYWRkcmVzcyB0aGF0IHRyaWdnZXJlZCB0aGUgcGx1Z2luCi8vIEBwYXJhbSBuZXdBZG1pbiBUaGUgbmV3IGFkbWluCmFyYzU4X3BsdWdpbkNoYW5nZUFkbWluOgoJcHJvdG8gMyAwCgoJLy8gUHVzaCBlbXB0eSBieXRlcyBhZnRlciB0aGUgZnJhbWUgcG9pbnRlciB0byByZXNlcnZlIHNwYWNlIGZvciBsb2NhbCB2YXJpYWJsZXMKCWJ5dGUgMHgKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MjYwCgkvLyB2ZXJpZnlUeG4odGhpcy50eG4sIHsgc2VuZGVyOiBwbHVnaW4uYWRkcmVzcyB9KQoJLy8gdmVyaWZ5IHNlbmRlcgoJdHhuIFNlbmRlcgoJZnJhbWVfZGlnIC0xIC8vIHBsdWdpbjogQXBwSUQKCWFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKCXBvcAoJPT0KCgkvLyB0cmFuc2FjdGlvbiB2ZXJpZmljYXRpb24gZmFpbGVkOiB7InR4biI6InRoaXMudHhuIiwiZmllbGQiOiJzZW5kZXIiLCJleHBlY3RlZCI6InBsdWdpbi5hZGRyZXNzIn0KCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoyNjIKCS8vIGFzc2VydCh0aGlzLmNvbnRyb2xsZWRBZGRyZXNzLnZhbHVlLmF1dGhBZGRyID09PSBwbHVnaW4uYWRkcmVzcywgZXJycy5QTFVHSU5fRE9FU19OT1RfQ09OVFJPTF9XQUxMRVQpCglieXRlIDB4NjMgLy8gImMiCglhcHBfZ2xvYmFsX2dldAoJYWNjdF9wYXJhbXNfZ2V0IEFjY3RBdXRoQWRkcgoJcG9wCglmcmFtZV9kaWcgLTEgLy8gcGx1Z2luOiBBcHBJRAoJYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwoJcG9wCgk9PQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjI2NAoJLy8ga2V5OiBQbHVnaW5zS2V5ID0geyBhcHBsaWNhdGlvbjogcGx1Z2luLCBhbGxvd2VkQ2FsbGVyOiBhbGxvd2VkQ2FsbGVyIH0KCWZyYW1lX2RpZyAtMSAvLyBwbHVnaW46IEFwcElECglpdG9iCglmcmFtZV9kaWcgLTIgLy8gYWxsb3dlZENhbGxlcjogQWRkcmVzcwoJY29uY2F0CglmcmFtZV9idXJ5IDAgLy8ga2V5OiBQbHVnaW5zS2V5CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjI2NgoJLy8gYXNzZXJ0KHRoaXMucGx1Z2lucyhrZXkpLmV4aXN0cyAmJiB0aGlzLnBsdWdpbnMoa2V5KS52YWx1ZS5hZG1pblByaXZpbGVnZXMsIGVycnMuUExVR0lOX0RPRVNfTk9UX0hBVkVfQURNSU5fUFJJVklMRUdFUykKCWJ5dGUgMHg3MCAvLyAicCIKCWZyYW1lX2RpZyAwIC8vIGtleTogUGx1Z2luc0tleQoJY29uY2F0Cglib3hfbGVuCglzd2FwCglwb3AKCWR1cAoJYnogKnNraXBfYW5kMTAKCWJ5dGUgMHg3MCAvLyAicCIKCWZyYW1lX2RpZyAwIC8vIGtleTogUGx1Z2luc0tleQoJY29uY2F0Cglib3hfZ2V0CgoJLy8gYm94IHZhbHVlIGRvZXMgbm90IGV4aXN0OiB0aGlzLnBsdWdpbnMoa2V5KS52YWx1ZQoJYXNzZXJ0CglzdG9yZSAyNTUgLy8gZnVsbCBhcnJheQoJbG9hZCAyNTUgLy8gZnVsbCBhcnJheQoJaW50IDE5MgoJZ2V0Yml0CgkmJgoKKnNraXBfYW5kMTA6Cglhc3NlcnQKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MjY4CgkvLyB0aGlzLmFkbWluLnZhbHVlID0gbmV3QWRtaW4KCWJ5dGUgMHg2MSAvLyAiYSIKCWZyYW1lX2RpZyAtMyAvLyBuZXdBZG1pbjogQWRkcmVzcwoJYXBwX2dsb2JhbF9wdXQKCXJldHN1YgoKLy8gYXJjNThfZ2V0QWRtaW4oKWFkZHJlc3MKKmFiaV9yb3V0ZV9hcmM1OF9nZXRBZG1pbjoKCS8vIFRoZSBBQkkgcmV0dXJuIHByZWZpeAoJYnl0ZSAweDE1MWY3Yzc1CgoJLy8gZXhlY3V0ZSBhcmM1OF9nZXRBZG1pbigpYWRkcmVzcwoJY2FsbHN1YiBhcmM1OF9nZXRBZG1pbgoJY29uY2F0Cglsb2cKCWludCAxCglyZXR1cm4KCi8vIGFyYzU4X2dldEFkbWluKCk6IEFkZHJlc3MKLy8KLy8gR2V0IHRoZSBhZG1pbiBvZiB0aGlzIGFwcC4gVGhpcyBtZXRob2QgU0hPVUxEIGFsd2F5cyBiZSB1c2VkIHJhdGhlciB0aGFuIHJlYWRpbmcgZGlyZWN0bHkgZnJvbSBzdGF0ZQovLyBiZWNhdXNlIGRpZmZlcmVudCBpbXBsZW1lbnRhdGlvbnMgbWF5IGhhdmUgZGlmZmVyZW50IHdheXMgb2YgZGV0ZXJtaW5pbmcgdGhlIGFkbWluLgovLyBAcmV0dXJucyB0aGUgZGVmYXVsdCBhZG1pbiBhZGRyZXNzCmFyYzU4X2dldEFkbWluOgoJcHJvdG8gMCAxCgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjI3NwoJLy8gcmV0dXJuIHRoaXMuYWRtaW4udmFsdWU7CglieXRlIDB4NjEgLy8gImEiCglhcHBfZ2xvYmFsX2dldAoJcmV0c3ViCgovLyBhcmM1OF92ZXJpZnlBdXRoQWRkcigpdm9pZAoqYWJpX3JvdXRlX2FyYzU4X3ZlcmlmeUF1dGhBZGRyOgoJLy8gZXhlY3V0ZSBhcmM1OF92ZXJpZnlBdXRoQWRkcigpdm9pZAoJY2FsbHN1YiBhcmM1OF92ZXJpZnlBdXRoQWRkcgoJaW50IDEKCXJldHVybgoKLy8gYXJjNThfdmVyaWZ5QXV0aEFkZHIoKTogdm9pZAovLwovLyBWZXJpZnkgdGhlIGFic3RyYWN0ZWQgYWNjb3VudCBpcyByZWtleWVkIHRvIHRoaXMgYXBwCmFyYzU4X3ZlcmlmeUF1dGhBZGRyOgoJcHJvdG8gMCAwCgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjI4NAoJLy8gYXNzZXJ0KHRoaXMuY29udHJvbGxlZEFkZHJlc3MudmFsdWUuYXV0aEFkZHIgPT09IHRoaXMuZ2V0QXV0aEFkZHIoKSkKCWJ5dGUgMHg2MyAvLyAiYyIKCWFwcF9nbG9iYWxfZ2V0CglhY2N0X3BhcmFtc19nZXQgQWNjdEF1dGhBZGRyCglwb3AKCWNhbGxzdWIgZ2V0QXV0aEFkZHIKCT09Cglhc3NlcnQKCXJldHN1YgoKLy8gYXJjNThfcmVrZXlUbyhhZGRyZXNzLGJvb2wpdm9pZAoqYWJpX3JvdXRlX2FyYzU4X3Jla2V5VG86CgkvLyBmbGFzaDogYm9vbAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgoJZHVwCglsZW4KCWludCAxCgk9PQoKCS8vIGFyZ3VtZW50IDAgKGZsYXNoKSBmb3IgYXJjNThfcmVrZXlUbyBtdXN0IGJlIGEgYm9vbAoJYXNzZXJ0CglpbnQgMAoJZ2V0Yml0CgoJLy8gYWRkcjogYWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZHVwCglsZW4KCWludCAzMgoJPT0KCgkvLyBhcmd1bWVudCAxIChhZGRyKSBmb3IgYXJjNThfcmVrZXlUbyBtdXN0IGJlIGEgYWRkcmVzcwoJYXNzZXJ0CgoJLy8gZXhlY3V0ZSBhcmM1OF9yZWtleVRvKGFkZHJlc3MsYm9vbCl2b2lkCgljYWxsc3ViIGFyYzU4X3Jla2V5VG8KCWludCAxCglyZXR1cm4KCi8vIGFyYzU4X3Jla2V5VG8oYWRkcjogQWRkcmVzcywgZmxhc2g6IGJvb2xlYW4pOiB2b2lkCi8vCi8vIFJla2V5IHRoZSBhYnN0cmFjdGVkIGFjY291bnQgdG8gYW5vdGhlciBhZGRyZXNzLiBQcmltYXJpbHkgdXNlZnVsIGZvciByZWtleWluZyB0byBhbiBFT0EuCi8vCi8vIEBwYXJhbSBhZGRyIFRoZSBhZGRyZXNzIHRvIHJla2V5IHRvCi8vIEBwYXJhbSBmbGFzaCBXaGV0aGVyIG9yIG5vdCB0aGlzIHNob3VsZCBiZSBhIGZsYXNoIHJla2V5LiBJZiB0cnVlLCB0aGUgcmVrZXkgYmFjayB0byB0aGUgYXBwIGFkZHJlc3MgbXVzdCBkb25lIGluIHRoZSBzYW1lIHR4biBncm91cCBhcyB0aGlzIGNhbGwKYXJjNThfcmVrZXlUbzoKCXByb3RvIDIgMAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czoyOTQKCS8vIHZlcmlmeUFwcENhbGxUeG4odGhpcy50eG4sIHsgc2VuZGVyOiB0aGlzLmFkbWluLnZhbHVlIH0pCgkvLyB2ZXJpZnkgc2VuZGVyCgl0eG4gU2VuZGVyCglieXRlIDB4NjEgLy8gImEiCglhcHBfZ2xvYmFsX2dldAoJPT0KCgkvLyB0cmFuc2FjdGlvbiB2ZXJpZmljYXRpb24gZmFpbGVkOiB7InR4biI6InRoaXMudHhuIiwiZmllbGQiOiJzZW5kZXIiLCJleHBlY3RlZCI6InRoaXMuYWRtaW4udmFsdWUifQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjI5NgoJLy8gc2VuZFBheW1lbnQoewoJLy8gICAgICAgc2VuZGVyOiB0aGlzLmNvbnRyb2xsZWRBZGRyZXNzLnZhbHVlLAoJLy8gICAgICAgcmVjZWl2ZXI6IGFkZHIsCgkvLyAgICAgICByZWtleVRvOiBhZGRyLAoJLy8gICAgICAgZmVlOiAwLAoJLy8gICAgIH0pCglpdHhuX2JlZ2luCglpbnQgcGF5CglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjI5NwoJLy8gc2VuZGVyOiB0aGlzLmNvbnRyb2xsZWRBZGRyZXNzLnZhbHVlCglieXRlIDB4NjMgLy8gImMiCglhcHBfZ2xvYmFsX2dldAoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6Mjk4CgkvLyByZWNlaXZlcjogYWRkcgoJZnJhbWVfZGlnIC0xIC8vIGFkZHI6IEFkZHJlc3MKCWl0eG5fZmllbGQgUmVjZWl2ZXIKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6Mjk5CgkvLyByZWtleVRvOiBhZGRyCglmcmFtZV9kaWcgLTEgLy8gYWRkcjogQWRkcmVzcwoJaXR4bl9maWVsZCBSZWtleVRvCgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjMwMAoJLy8gZmVlOiAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CgoJLy8gKmlmNl9jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czozMDMKCS8vIGZsYXNoCglmcmFtZV9kaWcgLTIgLy8gZmxhc2g6IGJvb2xlYW4KCWJ6ICppZjZfZW5kCgoJLy8gKmlmNl9jb25zZXF1ZW50CgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MzAzCgkvLyB0aGlzLnZlcmlmeVJla2V5VG9BYnN0cmFjdGVkQWNjb3VudCgpCgljYWxsc3ViIHZlcmlmeVJla2V5VG9BYnN0cmFjdGVkQWNjb3VudAoKKmlmNl9lbmQ6CglyZXRzdWIKCi8vIGFyYzU4X2NhbkNhbGwodWludDY0LGFkZHJlc3MpYm9vbAoqYWJpX3JvdXRlX2FyYzU4X2NhbkNhbGw6CgkvLyBUaGUgQUJJIHJldHVybiBwcmVmaXgKCWJ5dGUgMHgxNTFmN2M3NQoKCS8vIGFkZHJlc3M6IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCWR1cAoJbGVuCglpbnQgMzIKCT09CgoJLy8gYXJndW1lbnQgMCAoYWRkcmVzcykgZm9yIGFyYzU4X2NhbkNhbGwgbXVzdCBiZSBhIGFkZHJlc3MKCWFzc2VydAoKCS8vIHBsdWdpbjogdWludDY0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglidG9pCgoJLy8gZXhlY3V0ZSBhcmM1OF9jYW5DYWxsKHVpbnQ2NCxhZGRyZXNzKWJvb2wKCWNhbGxzdWIgYXJjNThfY2FuQ2FsbAoJYnl0ZSAweDAwCglpbnQgMAoJdW5jb3ZlciAyCglzZXRiaXQKCWNvbmNhdAoJbG9nCglpbnQgMQoJcmV0dXJuCgovLyBhcmM1OF9jYW5DYWxsKHBsdWdpbjogQXBwSUQsIGFkZHJlc3M6IEFkZHJlc3MpOiBib29sZWFuCi8vCi8vIGNoZWNrIHdoZXRoZXIgdGhlIHBsdWdpbiBjYW4gYmUgdXNlZAovLwovLyBAcGFyYW0gcGx1Z2luIHRoZSBwbHVnaW4gdG8gYmUgcmVrZXllZCB0bwovLyBAcmV0dXJucyB3aGV0aGVyIHRoZSBwbHVnaW4gY2FuIGJlIGNhbGxlZCB2aWEgdHhuIHNlbmRlciBvciBnbG9iYWxseQphcmM1OF9jYW5DYWxsOgoJcHJvdG8gMiAxCgoJLy8gUHVzaCBlbXB0eSBieXRlcyBhZnRlciB0aGUgZnJhbWUgcG9pbnRlciB0byByZXNlcnZlIHNwYWNlIGZvciBsb2NhbCB2YXJpYWJsZXMKCWJ5dGUgMHgKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MzE0CgkvLyBnbG9iYWxBbGxvd2VkID0gdGhpcy5wbHVnaW5DYWxsQWxsb3dlZChwbHVnaW4sIEFkZHJlc3MuemVyb0FkZHJlc3MpCglnbG9iYWwgWmVyb0FkZHJlc3MKCWZyYW1lX2RpZyAtMSAvLyBwbHVnaW46IEFwcElECgljYWxsc3ViIHBsdWdpbkNhbGxBbGxvd2VkCglmcmFtZV9idXJ5IDAgLy8gZ2xvYmFsQWxsb3dlZDogYm9vbAoKCS8vICppZjdfY29uZGl0aW9uCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MzE1CgkvLyBnbG9iYWxBbGxvd2VkCglmcmFtZV9kaWcgMCAvLyBnbG9iYWxBbGxvd2VkOiBib29sCglieiAqaWY3X2VuZAoKCS8vICppZjdfY29uc2VxdWVudAoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjMxNgoJLy8gcmV0dXJuIHRydWU7CglpbnQgMQoJYiAqYXJjNThfY2FuQ2FsbCpyZXR1cm4KCippZjdfZW5kOgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjMxOAoJLy8gcmV0dXJuIHRoaXMucGx1Z2luQ2FsbEFsbG93ZWQocGx1Z2luLCBhZGRyZXNzKTsKCWZyYW1lX2RpZyAtMiAvLyBhZGRyZXNzOiBBZGRyZXNzCglmcmFtZV9kaWcgLTEgLy8gcGx1Z2luOiBBcHBJRAoJY2FsbHN1YiBwbHVnaW5DYWxsQWxsb3dlZAoKKmFyYzU4X2NhbkNhbGwqcmV0dXJuOgoJLy8gc2V0IHRoZSBzdWJyb3V0aW5lIHJldHVybiB2YWx1ZQoJZnJhbWVfYnVyeSAwCglyZXRzdWIKCi8vIGFyYzU4X3Jla2V5VG9QbHVnaW4odWludDY0KXZvaWQKKmFiaV9yb3V0ZV9hcmM1OF9yZWtleVRvUGx1Z2luOgoJLy8gcGx1Z2luOiB1aW50NjQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWJ0b2kKCgkvLyBleGVjdXRlIGFyYzU4X3Jla2V5VG9QbHVnaW4odWludDY0KXZvaWQKCWNhbGxzdWIgYXJjNThfcmVrZXlUb1BsdWdpbgoJaW50IDEKCXJldHVybgoKLy8gYXJjNThfcmVrZXlUb1BsdWdpbihwbHVnaW46IEFwcElEKTogdm9pZAovLwovLyBUZW1wb3JhcmlseSByZWtleSB0byBhbiBhcHByb3ZlZCBwbHVnaW4gYXBwIGFkZHJlc3MKLy8KLy8gQHBhcmFtIHBsdWdpbiBUaGUgYXBwIHRvIHJla2V5IHRvCmFyYzU4X3Jla2V5VG9QbHVnaW46Cglwcm90byAxIDAKCgkvLyBQdXNoIGVtcHR5IGJ5dGVzIGFmdGVyIHRoZSBmcmFtZSBwb2ludGVyIHRvIHJlc2VydmUgc3BhY2UgZm9yIGxvY2FsIHZhcmlhYmxlcwoJYnl0ZSAweAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czozMjcKCS8vIGdsb2JhbEFsbG93ZWQgPSB0aGlzLnBsdWdpbkNhbGxBbGxvd2VkKHBsdWdpbiwgQWRkcmVzcy56ZXJvQWRkcmVzcykKCWdsb2JhbCBaZXJvQWRkcmVzcwoJZnJhbWVfZGlnIC0xIC8vIHBsdWdpbjogQXBwSUQKCWNhbGxzdWIgcGx1Z2luQ2FsbEFsbG93ZWQKCWZyYW1lX2J1cnkgMCAvLyBnbG9iYWxBbGxvd2VkOiBib29sCgoJLy8gKmlmOF9jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czozMjkKCS8vICFnbG9iYWxBbGxvd2VkCglmcmFtZV9kaWcgMCAvLyBnbG9iYWxBbGxvd2VkOiBib29sCgkhCglieiAqaWY4X2VuZAoKCS8vICppZjhfY29uc2VxdWVudAoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjMzMAoJLy8gYXNzZXJ0KHRoaXMucGx1Z2luQ2FsbEFsbG93ZWQocGx1Z2luLCB0aGlzLnR4bi5zZW5kZXIpLCAnVGhpcyBzZW5kZXIgaXMgbm90IGFsbG93ZWQgdG8gdHJpZ2dlciB0aGlzIHBsdWdpbicpCgl0eG4gU2VuZGVyCglmcmFtZV9kaWcgLTEgLy8gcGx1Z2luOiBBcHBJRAoJY2FsbHN1YiBwbHVnaW5DYWxsQWxsb3dlZAoKCS8vIFRoaXMgc2VuZGVyIGlzIG5vdCBhbGxvd2VkIHRvIHRyaWdnZXIgdGhpcyBwbHVnaW4KCWFzc2VydAoKKmlmOF9lbmQ6CgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MzMyCgkvLyBzZW5kUGF5bWVudCh7CgkvLyAgICAgICBzZW5kZXI6IHRoaXMuY29udHJvbGxlZEFkZHJlc3MudmFsdWUsCgkvLyAgICAgICByZWNlaXZlcjogdGhpcy5jb250cm9sbGVkQWRkcmVzcy52YWx1ZSwKCS8vICAgICAgIHJla2V5VG86IHBsdWdpbi5hZGRyZXNzLAoJLy8gICAgIH0pCglpdHhuX2JlZ2luCglpbnQgcGF5CglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjMzMwoJLy8gc2VuZGVyOiB0aGlzLmNvbnRyb2xsZWRBZGRyZXNzLnZhbHVlCglieXRlIDB4NjMgLy8gImMiCglhcHBfZ2xvYmFsX2dldAoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MzM0CgkvLyByZWNlaXZlcjogdGhpcy5jb250cm9sbGVkQWRkcmVzcy52YWx1ZQoJYnl0ZSAweDYzIC8vICJjIgoJYXBwX2dsb2JhbF9nZXQKCWl0eG5fZmllbGQgUmVjZWl2ZXIKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MzM1CgkvLyByZWtleVRvOiBwbHVnaW4uYWRkcmVzcwoJZnJhbWVfZGlnIC0xIC8vIHBsdWdpbjogQXBwSUQKCWFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKCXBvcAoJaXR4bl9maWVsZCBSZWtleVRvCgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czozMzgKCS8vIHRoaXMucGx1Z2lucyh7CgkvLyAgICAgICBhcHBsaWNhdGlvbjogcGx1Z2luLAoJLy8gICAgICAgYWxsb3dlZENhbGxlcjogZ2xvYmFsQWxsb3dlZCA/IEFkZHJlc3MuemVyb0FkZHJlc3MgOiB0aGlzLnR4bi5zZW5kZXIsCgkvLyAgICAgfSkudmFsdWUubGFzdENhbGxlZCA9IGdsb2JhbHMucm91bmQKCWJ5dGUgMHg3MCAvLyAicCIKCWZyYW1lX2RpZyAtMSAvLyBwbHVnaW46IEFwcElECglpdG9iCglmcmFtZV9kaWcgMCAvLyBnbG9iYWxBbGxvd2VkOiBib29sCglieiAqdGVybmFyeTNfZmFsc2UKCWdsb2JhbCBaZXJvQWRkcmVzcwoJYiAqdGVybmFyeTNfZW5kCgoqdGVybmFyeTNfZmFsc2U6Cgl0eG4gU2VuZGVyCgoqdGVybmFyeTNfZW5kOgoJY29uY2F0Cgljb25jYXQKCWJveF9nZXQKCgkvLyBib3ggdmFsdWUgZG9lcyBub3QgZXhpc3Q6IHRoaXMucGx1Z2lucyh7IGFwcGxpY2F0aW9uOiBwbHVnaW4sIGFsbG93ZWRDYWxsZXI6IGdsb2JhbEFsbG93ZWQgPyBBZGRyZXNzLnplcm9BZGRyZXNzIDogdGhpcy50eG4uc2VuZGVyLCB9KS52YWx1ZQoJYXNzZXJ0CglzdG9yZSAyNTUgLy8gZnVsbCBhcnJheQoJbG9hZCAyNTUgLy8gZnVsbCBhcnJheQoJaW50IDE2CglnbG9iYWwgUm91bmQKCWl0b2IKCWJ5dGUgMHg3MCAvLyAicCIKCWZyYW1lX2RpZyAtMSAvLyBwbHVnaW46IEFwcElECglpdG9iCglmcmFtZV9kaWcgMCAvLyBnbG9iYWxBbGxvd2VkOiBib29sCglieiAqdGVybmFyeTVfZmFsc2UKCWdsb2JhbCBaZXJvQWRkcmVzcwoJYiAqdGVybmFyeTVfZW5kCgoqdGVybmFyeTVfZmFsc2U6Cgl0eG4gU2VuZGVyCgoqdGVybmFyeTVfZW5kOgoJY29uY2F0Cgljb25jYXQKCWNvdmVyIDIKCWJveF9yZXBsYWNlCgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjM0MwoJLy8gdGhpcy52ZXJpZnlSZWtleVRvQWJzdHJhY3RlZEFjY291bnQoKQoJY2FsbHN1YiB2ZXJpZnlSZWtleVRvQWJzdHJhY3RlZEFjY291bnQKCXJldHN1YgoKLy8gYXJjNThfcmVrZXlUb05hbWVkUGx1Z2luKHN0cmluZyl2b2lkCiphYmlfcm91dGVfYXJjNThfcmVrZXlUb05hbWVkUGx1Z2luOgoJLy8gbmFtZTogc3RyaW5nCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglleHRyYWN0IDIgMAoKCS8vIGV4ZWN1dGUgYXJjNThfcmVrZXlUb05hbWVkUGx1Z2luKHN0cmluZyl2b2lkCgljYWxsc3ViIGFyYzU4X3Jla2V5VG9OYW1lZFBsdWdpbgoJaW50IDEKCXJldHVybgoKLy8gYXJjNThfcmVrZXlUb05hbWVkUGx1Z2luKG5hbWU6IHN0cmluZyk6IHZvaWQKLy8KLy8gVGVtcG9yYXJpbHkgcmVrZXkgdG8gYSBuYW1lZCBwbHVnaW4gYXBwIGFkZHJlc3MKLy8KLy8gQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIHBsdWdpbiB0byByZWtleSB0bwphcmM1OF9yZWtleVRvTmFtZWRQbHVnaW46Cglwcm90byAxIDAKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6MzUyCgkvLyB0aGlzLmFyYzU4X3Jla2V5VG9QbHVnaW4odGhpcy5uYW1lZFBsdWdpbnMobmFtZSkudmFsdWUuYXBwbGljYXRpb24pCglpbnQgMAoJaW50IDgKCWJ5dGUgMHg2ZSAvLyAibiIKCWZyYW1lX2RpZyAtMSAvLyBuYW1lOiBzdHJpbmcKCWNvbmNhdAoJY292ZXIgMgoJYm94X2V4dHJhY3QKCWJ0b2kKCWNhbGxzdWIgYXJjNThfcmVrZXlUb1BsdWdpbgoJcmV0c3ViCgovLyBhcmM1OF9hZGRQbHVnaW4odWludDY0LGFkZHJlc3MsdWludDY0LHVpbnQ2NCxib29sLGJ5dGVbNF1bXSxib29sLHN0cmluZyl2b2lkCiphYmlfcm91dGVfYXJjNThfYWRkUGx1Z2luOgoJLy8gZG9tYWluOiBzdHJpbmcKCXR4bmEgQXBwbGljYXRpb25BcmdzIDgKCWV4dHJhY3QgMiAwCgoJLy8gaXNQYXNza2V5OiBib29sCgl0eG5hIEFwcGxpY2F0aW9uQXJncyA3CglkdXAKCWxlbgoJaW50IDEKCT09CgoJLy8gYXJndW1lbnQgMSAoaXNQYXNza2V5KSBmb3IgYXJjNThfYWRkUGx1Z2luIG11c3QgYmUgYSBib29sCglhc3NlcnQKCWludCAwCglnZXRiaXQKCgkvLyBtZXRob2RzOiBieXRlWzRdW10KCXR4bmEgQXBwbGljYXRpb25BcmdzIDYKCWV4dHJhY3QgMiAwCgoJLy8gYWRtaW5Qcml2aWxlZ2VzOiBib29sCgl0eG5hIEFwcGxpY2F0aW9uQXJncyA1CglkdXAKCWxlbgoJaW50IDEKCT09CgoJLy8gYXJndW1lbnQgMyAoYWRtaW5Qcml2aWxlZ2VzKSBmb3IgYXJjNThfYWRkUGx1Z2luIG11c3QgYmUgYSBib29sCglhc3NlcnQKCWludCAwCglnZXRiaXQKCgkvLyBjb29sZG93bjogdWludDY0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyA0CglidG9pCgoJLy8gbGFzdFZhbGlkUm91bmQ6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwoJYnRvaQoKCS8vIGFsbG93ZWRDYWxsZXI6IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCWR1cAoJbGVuCglpbnQgMzIKCT09CgoJLy8gYXJndW1lbnQgNiAoYWxsb3dlZENhbGxlcikgZm9yIGFyYzU4X2FkZFBsdWdpbiBtdXN0IGJlIGEgYWRkcmVzcwoJYXNzZXJ0CgoJLy8gYXBwOiB1aW50NjQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWJ0b2kKCgkvLyBleGVjdXRlIGFyYzU4X2FkZFBsdWdpbih1aW50NjQsYWRkcmVzcyx1aW50NjQsdWludDY0LGJvb2wsYnl0ZVs0XVtdLGJvb2wsc3RyaW5nKXZvaWQKCWNhbGxzdWIgYXJjNThfYWRkUGx1Z2luCglpbnQgMQoJcmV0dXJuCgovLyBhcmM1OF9hZGRQbHVnaW4oYXBwOiBBcHBJRCwgYWxsb3dlZENhbGxlcjogQWRkcmVzcywgbGFzdFZhbGlkUm91bmQ6IHVpbnQ2NCwgY29vbGRvd246IHVpbnQ2NCwgYWRtaW5Qcml2aWxlZ2VzOiBib29sZWFuLCBtZXRob2RzOiBieXRlczw0PltdLCBpc1Bhc3NrZXk6IGJvb2xlYW4sIGRvbWFpbjogc3RyaW5nKTogdm9pZAovLwovLyBBZGQgYW4gYXBwIHRvIHRoZSBsaXN0IG9mIGFwcHJvdmVkIHBsdWdpbnMKLy8KLy8gQHBhcmFtIGFwcCBUaGUgYXBwIHRvIGFkZAovLyBAcGFyYW0gYWxsb3dlZENhbGxlciBUaGUgYWRkcmVzcyBvZiB0aGF0J3MgYWxsb3dlZCB0byBjYWxsIHRoZSBhcHAKLy8gb3IgdGhlIGdsb2JhbCB6ZXJvIGFkZHJlc3MgZm9yIGFsbCBhZGRyZXNzZXMKLy8gQHBhcmFtIGxhc3RWYWxpZFJvdW5kIFRoZSByb3VuZCB3aGVuIHRoZSBwZXJtaXNzaW9uIGV4cGlyZXMKLy8gQHBhcmFtIGNvb2xkb3duICBUaGUgbnVtYmVyIG9mIHJvdW5kcyB0aGF0IG11c3QgcGFzcyBiZWZvcmUgdGhlIHBsdWdpbiBjYW4gYmUgY2FsbGVkIGFnYWluCi8vIEBwYXJhbSBhZG1pblByaXZpbGVnZXMgV2hldGhlciB0aGUgcGx1Z2luIGhhcyBwZXJtaXNzaW9ucyB0byBjaGFuZ2UgdGhlIGFkbWluIGFjY291bnQKYXJjNThfYWRkUGx1Z2luOgoJcHJvdG8gOCAwCgoJLy8gUHVzaCBlbXB0eSBieXRlcyBhZnRlciB0aGUgZnJhbWUgcG9pbnRlciB0byByZXNlcnZlIHNwYWNlIGZvciBsb2NhbCB2YXJpYWJsZXMKCWJ5dGUgMHgKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6Mzc1CgkvLyBhc3NlcnQodGhpcy5pc0FkbWluKCksIGVycnMuT05MWV9BRE1JTl9DQU5fQUREX1BMVUdJTikKCWNhbGxzdWIgaXNBZG1pbgoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjM3NgoJLy8ga2V5OiBQbHVnaW5zS2V5ID0geyBhcHBsaWNhdGlvbjogYXBwLCBhbGxvd2VkQ2FsbGVyOiBhbGxvd2VkQ2FsbGVyIH0KCWZyYW1lX2RpZyAtMSAvLyBhcHA6IEFwcElECglpdG9iCglmcmFtZV9kaWcgLTIgLy8gYWxsb3dlZENhbGxlcjogQWRkcmVzcwoJY29uY2F0CglmcmFtZV9idXJ5IDAgLy8ga2V5OiBQbHVnaW5zS2V5CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjM3NwoJLy8gdGhpcy5wbHVnaW5zKGtleSkudmFsdWUgPSB7CgkvLyAgICAgICBsYXN0VmFsaWRSb3VuZDogbGFzdFZhbGlkUm91bmQsCgkvLyAgICAgICBjb29sZG93bjogY29vbGRvd24sCgkvLyAgICAgICBsYXN0Q2FsbGVkOiAwLAoJLy8gICAgICAgYWRtaW5Qcml2aWxlZ2VzOiBhZG1pblByaXZpbGVnZXMsCgkvLyAgICAgfQoJYnl0ZSAweDcwIC8vICJwIgoJZnJhbWVfZGlnIDAgLy8ga2V5OiBQbHVnaW5zS2V5Cgljb25jYXQKCWZyYW1lX2RpZyAtMyAvLyBsYXN0VmFsaWRSb3VuZDogdWludDY0CglpdG9iCglmcmFtZV9kaWcgLTQgLy8gY29vbGRvd246IHVpbnQ2NAoJaXRvYgoJY29uY2F0CglieXRlIDB4MDAwMDAwMDAwMDAwMDAwMAoJY29uY2F0CglieXRlIDB4MDAKCWludCAwCglmcmFtZV9kaWcgLTUgLy8gYWRtaW5Qcml2aWxlZ2VzOiBib29sZWFuCglzZXRiaXQKCWNvbmNhdAoJYm94X3B1dAoKCS8vICppZjlfY29uZGl0aW9uCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6Mzg0CgkvLyBtZXRob2RzLmxlbmd0aCA+IDAKCWZyYW1lX2RpZyAtNiAvLyBtZXRob2RzOiBieXRlczw0PltdCglsZW4KCWludCA0CgkvCglpbnQgMAoJPgoJYnogKmlmOV9lbmQKCgkvLyAqaWY5X2NvbnNlcXVlbnQKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czozODUKCS8vIHRoaXMubWV0aG9kcyhrZXkpLnZhbHVlID0gbWV0aG9kcwoJYnl0ZSAweDZkIC8vICJtIgoJZnJhbWVfZGlnIDAgLy8ga2V5OiBQbHVnaW5zS2V5Cgljb25jYXQKCWR1cAoJYm94X2RlbAoJcG9wCglmcmFtZV9kaWcgLTYgLy8gbWV0aG9kczogYnl0ZXM8ND5bXQoJZHVwCglsZW4KCWludCA0CgkvCglpdG9iCglleHRyYWN0IDYgMgoJc3dhcAoJY29uY2F0Cglib3hfcHV0CgoqaWY5X2VuZDoKCS8vICppZjEwX2NvbmRpdGlvbgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjM4OAoJLy8gaXNQYXNza2V5CglmcmFtZV9kaWcgLTcgLy8gaXNQYXNza2V5OiBib29sZWFuCglieiAqaWYxMF9lbmQKCgkvLyAqaWYxMF9jb25zZXF1ZW50CgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6Mzg5CgkvLyBhc3NlcnQoZG9tYWluLmxlbmd0aCA+IDAsIGVycnMuRE9NQUlOX01VU1RfQkVfTE9OR0VSX1RIQU5fWkVSTykKCWZyYW1lX2RpZyAtOCAvLyBkb21haW46IHN0cmluZwoJbGVuCglpbnQgMAoJPgoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjM5MAoJLy8gdGhpcy5wYXNza2V5cyhhbGxvd2VkQ2FsbGVyKS52YWx1ZSA9IGRvbWFpbgoJZnJhbWVfZGlnIC0yIC8vIGFsbG93ZWRDYWxsZXI6IEFkZHJlc3MKCWR1cAoJYm94X2RlbAoJcG9wCglmcmFtZV9kaWcgLTggLy8gZG9tYWluOiBzdHJpbmcKCWR1cAoJbGVuCglpdG9iCglleHRyYWN0IDYgMgoJc3dhcAoJY29uY2F0Cglib3hfcHV0CgoqaWYxMF9lbmQ6CglyZXRzdWIKCi8vIGFyYzU4X3JlbW92ZVBsdWdpbih1aW50NjQsYWRkcmVzcyl2b2lkCiphYmlfcm91dGVfYXJjNThfcmVtb3ZlUGx1Z2luOgoJLy8gYWxsb3dlZENhbGxlcjogYWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgoJZHVwCglsZW4KCWludCAzMgoJPT0KCgkvLyBhcmd1bWVudCAwIChhbGxvd2VkQ2FsbGVyKSBmb3IgYXJjNThfcmVtb3ZlUGx1Z2luIG11c3QgYmUgYSBhZGRyZXNzCglhc3NlcnQKCgkvLyBhcHA6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJYnRvaQoKCS8vIGV4ZWN1dGUgYXJjNThfcmVtb3ZlUGx1Z2luKHVpbnQ2NCxhZGRyZXNzKXZvaWQKCWNhbGxzdWIgYXJjNThfcmVtb3ZlUGx1Z2luCglpbnQgMQoJcmV0dXJuCgovLyBhcmM1OF9yZW1vdmVQbHVnaW4oYXBwOiBBcHBJRCwgYWxsb3dlZENhbGxlcjogQWRkcmVzcyk6IHZvaWQKLy8KLy8gUmVtb3ZlIGFuIGFwcCBmcm9tIHRoZSBsaXN0IG9mIGFwcHJvdmVkIHBsdWdpbnMKLy8KLy8gQHBhcmFtIGFwcCBUaGUgYXBwIHRvIHJlbW92ZQphcmM1OF9yZW1vdmVQbHVnaW46Cglwcm90byAyIDAKCgkvLyBQdXNoIGVtcHR5IGJ5dGVzIGFmdGVyIHRoZSBmcmFtZSBwb2ludGVyIHRvIHJlc2VydmUgc3BhY2UgZm9yIGxvY2FsIHZhcmlhYmxlcwoJYnl0ZSAweAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czo0MDAKCS8vIGFzc2VydCh0aGlzLmlzQWRtaW4oKSB8fCB0aGlzLmNhblJldm9rZSgpLCBlcnJzLk9OTFlfQURNSU5fT1JfUkVWT0NBVElPTl9BUFBfQ0FOX1JFTU9WRV9QTFVHSU4pCgljYWxsc3ViIGlzQWRtaW4KCWR1cAoJYm56ICpza2lwX29yNAoJY2FsbHN1YiBjYW5SZXZva2UKCXx8Cgoqc2tpcF9vcjQ6Cglhc3NlcnQKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6NDAyCgkvLyBrZXk6IFBsdWdpbnNLZXkgPSB7IGFwcGxpY2F0aW9uOiBhcHAsIGFsbG93ZWRDYWxsZXI6IGFsbG93ZWRDYWxsZXIgfQoJZnJhbWVfZGlnIC0xIC8vIGFwcDogQXBwSUQKCWl0b2IKCWZyYW1lX2RpZyAtMiAvLyBhbGxvd2VkQ2FsbGVyOiBBZGRyZXNzCgljb25jYXQKCWZyYW1lX2J1cnkgMCAvLyBrZXk6IFBsdWdpbnNLZXkKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6NDAzCgkvLyB0aGlzLnBsdWdpbnMoa2V5KS5kZWxldGUoKQoJYnl0ZSAweDcwIC8vICJwIgoJZnJhbWVfZGlnIDAgLy8ga2V5OiBQbHVnaW5zS2V5Cgljb25jYXQKCWJveF9kZWwKCXJldHN1YgoKLy8gYXJjNThfYWRkTmFtZWRQbHVnaW4oc3RyaW5nLHVpbnQ2NCxhZGRyZXNzLHVpbnQ2NCx1aW50NjQsYm9vbCl2b2lkCiphYmlfcm91dGVfYXJjNThfYWRkTmFtZWRQbHVnaW46CgkvLyBhZG1pblByaXZpbGVnZXM6IGJvb2wKCXR4bmEgQXBwbGljYXRpb25BcmdzIDYKCWR1cAoJbGVuCglpbnQgMQoJPT0KCgkvLyBhcmd1bWVudCAwIChhZG1pblByaXZpbGVnZXMpIGZvciBhcmM1OF9hZGROYW1lZFBsdWdpbiBtdXN0IGJlIGEgYm9vbAoJYXNzZXJ0CglpbnQgMAoJZ2V0Yml0CgoJLy8gY29vbGRvd246IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNQoJYnRvaQoKCS8vIGxhc3RWYWxpZFJvdW5kOiB1aW50NjQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDQKCWJ0b2kKCgkvLyBhbGxvd2VkQ2FsbGVyOiBhZGRyZXNzCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAzCglkdXAKCWxlbgoJaW50IDMyCgk9PQoKCS8vIGFyZ3VtZW50IDMgKGFsbG93ZWRDYWxsZXIpIGZvciBhcmM1OF9hZGROYW1lZFBsdWdpbiBtdXN0IGJlIGEgYWRkcmVzcwoJYXNzZXJ0CgoJLy8gYXBwOiB1aW50NjQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCWJ0b2kKCgkvLyBuYW1lOiBzdHJpbmcKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWV4dHJhY3QgMiAwCgoJLy8gZXhlY3V0ZSBhcmM1OF9hZGROYW1lZFBsdWdpbihzdHJpbmcsdWludDY0LGFkZHJlc3MsdWludDY0LHVpbnQ2NCxib29sKXZvaWQKCWNhbGxzdWIgYXJjNThfYWRkTmFtZWRQbHVnaW4KCWludCAxCglyZXR1cm4KCi8vIGFyYzU4X2FkZE5hbWVkUGx1Z2luKG5hbWU6IHN0cmluZywgYXBwOiBBcHBJRCwgYWxsb3dlZENhbGxlcjogQWRkcmVzcywgbGFzdFZhbGlkUm91bmQ6IHVpbnQ2NCwgY29vbGRvd246IHVpbnQ2NCwgYWRtaW5Qcml2aWxlZ2VzOiBib29sZWFuKTogdm9pZAovLwovLyBBZGQgYSBuYW1lZCBwbHVnaW4KLy8KLy8gQHBhcmFtIGFwcCBUaGUgcGx1Z2luIGFwcAovLyBAcGFyYW0gbmFtZSBUaGUgcGx1Z2luIG5hbWUKLy8gQHBhcmFtIGFsbG93ZWRDYWxsZXIgVGhlIGFkZHJlc3Mgb2YgdGhhdCdzIGFsbG93ZWQgdG8gY2FsbCB0aGUgYXBwCi8vIG9yIHRoZSBnbG9iYWwgemVybyBhZGRyZXNzIGZvciBhbGwgYWRkcmVzc2VzCi8vIEBwYXJhbSBsYXN0VmFsaWRSb3VuZCBUaGUgcm91bmQgd2hlbiB0aGUgcGVybWlzc2lvbiBleHBpcmVzCi8vIEBwYXJhbSBjb29sZG93biAgVGhlIG51bWJlciBvZiByb3VuZHMgdGhhdCBtdXN0IHBhc3MgYmVmb3JlIHRoZSBwbHVnaW4gY2FuIGJlIGNhbGxlZCBhZ2FpbgovLyBAcGFyYW0gYWRtaW5Qcml2aWxlZ2VzIFdoZXRoZXIgdGhlIHBsdWdpbiBoYXMgcGVybWlzc2lvbnMgdG8gY2hhbmdlIHRoZSBhZG1pbiBhY2NvdW50CmFyYzU4X2FkZE5hbWVkUGx1Z2luOgoJcHJvdG8gNiAwCgoJLy8gUHVzaCBlbXB0eSBieXRlcyBhZnRlciB0aGUgZnJhbWUgcG9pbnRlciB0byByZXNlcnZlIHNwYWNlIGZvciBsb2NhbCB2YXJpYWJsZXMKCWJ5dGUgMHgKCWR1cAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czo0MjUKCS8vIGFzc2VydCh0aGlzLmlzQWRtaW4oKSwgZXJycy5PTkxZX0FETUlOX0NBTl9BRERfUExVR0lOKQoJY2FsbHN1YiBpc0FkbWluCglhc3NlcnQKCgkvLyBjb250cmFjdHMvYXJjNTgvYWJzdHJhY3RlZF9hY2NvdW50LmFsZ28udHM6NDI2CgkvLyBhc3NlcnQoIXRoaXMubmFtZWRQbHVnaW5zKG5hbWUpLmV4aXN0cywgZXJycy5OQU1FRF9QTFVHSU5fQUxSRUFEWV9FWElTVFMpCglieXRlIDB4NmUgLy8gIm4iCglmcmFtZV9kaWcgLTEgLy8gbmFtZTogc3RyaW5nCgljb25jYXQKCWJveF9sZW4KCXN3YXAKCXBvcAoJIQoJYXNzZXJ0CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjQyOAoJLy8ga2V5OiBQbHVnaW5zS2V5ID0geyBhcHBsaWNhdGlvbjogYXBwLCBhbGxvd2VkQ2FsbGVyOiBhbGxvd2VkQ2FsbGVyIH0KCWZyYW1lX2RpZyAtMiAvLyBhcHA6IEFwcElECglpdG9iCglmcmFtZV9kaWcgLTMgLy8gYWxsb3dlZENhbGxlcjogQWRkcmVzcwoJY29uY2F0CglmcmFtZV9idXJ5IDAgLy8ga2V5OiBQbHVnaW5zS2V5CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjQyOQoJLy8gdGhpcy5uYW1lZFBsdWdpbnMobmFtZSkudmFsdWUgPSBrZXkKCWJ5dGUgMHg2ZSAvLyAibiIKCWZyYW1lX2RpZyAtMSAvLyBuYW1lOiBzdHJpbmcKCWNvbmNhdAoJZnJhbWVfZGlnIDAgLy8ga2V5OiBQbHVnaW5zS2V5Cglib3hfcHV0CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjQzMQoJLy8gcGx1Z2luSW5mbzogUGx1Z2luSW5mbyA9IHsKCS8vICAgICAgIGxhc3RWYWxpZFJvdW5kOiBsYXN0VmFsaWRSb3VuZCwKCS8vICAgICAgIGNvb2xkb3duOiBjb29sZG93biwKCS8vICAgICAgIGxhc3RDYWxsZWQ6IDAsCgkvLyAgICAgICBhZG1pblByaXZpbGVnZXM6IGFkbWluUHJpdmlsZWdlcywKCS8vICAgICB9CglmcmFtZV9kaWcgLTQgLy8gbGFzdFZhbGlkUm91bmQ6IHVpbnQ2NAoJaXRvYgoJZnJhbWVfZGlnIC01IC8vIGNvb2xkb3duOiB1aW50NjQKCWl0b2IKCWNvbmNhdAoJYnl0ZSAweDAwMDAwMDAwMDAwMDAwMDAKCWNvbmNhdAoJYnl0ZSAweDAwCglpbnQgMAoJZnJhbWVfZGlnIC02IC8vIGFkbWluUHJpdmlsZWdlczogYm9vbGVhbgoJc2V0Yml0Cgljb25jYXQKCWZyYW1lX2J1cnkgMSAvLyBwbHVnaW5JbmZvOiBQbHVnaW5JbmZvCgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjQzOAoJLy8gdGhpcy5wbHVnaW5zKGtleSkudmFsdWUgPSBwbHVnaW5JbmZvCglieXRlIDB4NzAgLy8gInAiCglmcmFtZV9kaWcgMCAvLyBrZXk6IFBsdWdpbnNLZXkKCWNvbmNhdAoJZnJhbWVfZGlnIDEgLy8gcGx1Z2luSW5mbzogUGx1Z2luSW5mbwoJYm94X3B1dAoJcmV0c3ViCgovLyBhcmM1OF9yZW1vdmVOYW1lZFBsdWdpbihzdHJpbmcpdm9pZAoqYWJpX3JvdXRlX2FyYzU4X3JlbW92ZU5hbWVkUGx1Z2luOgoJLy8gbmFtZTogc3RyaW5nCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglleHRyYWN0IDIgMAoKCS8vIGV4ZWN1dGUgYXJjNThfcmVtb3ZlTmFtZWRQbHVnaW4oc3RyaW5nKXZvaWQKCWNhbGxzdWIgYXJjNThfcmVtb3ZlTmFtZWRQbHVnaW4KCWludCAxCglyZXR1cm4KCi8vIGFyYzU4X3JlbW92ZU5hbWVkUGx1Z2luKG5hbWU6IHN0cmluZyk6IHZvaWQKLy8KLy8gUmVtb3ZlIGEgbmFtZWQgcGx1Z2luCi8vCi8vIEBwYXJhbSBuYW1lIFRoZSBwbHVnaW4gbmFtZQphcmM1OF9yZW1vdmVOYW1lZFBsdWdpbjoKCXByb3RvIDEgMAoKCS8vIFB1c2ggZW1wdHkgYnl0ZXMgYWZ0ZXIgdGhlIGZyYW1lIHBvaW50ZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgbG9jYWwgdmFyaWFibGVzCglieXRlIDB4CgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjQ0NwoJLy8gYXNzZXJ0KHRoaXMuaXNBZG1pbigpIHx8IHRoaXMuY2FuUmV2b2tlKCksIGVycnMuT05MWV9BRE1JTl9PUl9SRVZPQ0FUSU9OX0FQUF9DQU5fUkVNT1ZFX1BMVUdJTikKCWNhbGxzdWIgaXNBZG1pbgoJZHVwCglibnogKnNraXBfb3I1CgljYWxsc3ViIGNhblJldm9rZQoJfHwKCipza2lwX29yNToKCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czo0NDkKCS8vIGFwcCA9IHRoaXMubmFtZWRQbHVnaW5zKG5hbWUpLnZhbHVlCglieXRlIDB4NmUgLy8gIm4iCglmcmFtZV9kaWcgLTEgLy8gbmFtZTogc3RyaW5nCgljb25jYXQKCWZyYW1lX2J1cnkgMCAvLyBzdG9yYWdlIGtleS8vYXBwCgoJLy8gY29udHJhY3RzL2FyYzU4L2Fic3RyYWN0ZWRfYWNjb3VudC5hbGdvLnRzOjQ1MAoJLy8gdGhpcy5uYW1lZFBsdWdpbnMobmFtZSkuZGVsZXRlKCkKCWJ5dGUgMHg2ZSAvLyAibiIKCWZyYW1lX2RpZyAtMSAvLyBuYW1lOiBzdHJpbmcKCWNvbmNhdAoJYm94X2RlbAoKCS8vIGNvbnRyYWN0cy9hcmM1OC9hYnN0cmFjdGVkX2FjY291bnQuYWxnby50czo0NTEKCS8vIHRoaXMucGx1Z2lucyhhcHApLmRlbGV0ZSgpCglieXRlIDB4NzAgLy8gInAiCglmcmFtZV9kaWcgMCAvLyBzdG9yYWdlIGtleS8vYXBwCglib3hfZ2V0CgoJLy8gYm94IHZhbHVlIGRvZXMgbm90IGV4aXN0OiB0aGlzLm5hbWVkUGx1Z2lucyhuYW1lKS52YWx1ZQoJYXNzZXJ0Cgljb25jYXQKCWJveF9kZWwKCXJldHN1YgoKKmNyZWF0ZV9Ob09wOgoJbWV0aG9kICJjcmVhdGVBcHBsaWNhdGlvbihzdHJpbmcsYWRkcmVzcyxhZGRyZXNzLHVpbnQ2NCxzdHJpbmcpdm9pZCIKCXR4bmEgQXBwbGljYXRpb25BcmdzIDAKCW1hdGNoICphYmlfcm91dGVfY3JlYXRlQXBwbGljYXRpb24KCgkvLyB0aGlzIGNvbnRyYWN0IGRvZXMgbm90IGltcGxlbWVudCB0aGUgZ2l2ZW4gQUJJIG1ldGhvZCBmb3IgY3JlYXRlIE5vT3AKCWVycgoKKmNhbGxfTm9PcDoKCW1ldGhvZCAiY2hhbmdlUmV2b2NhdGlvbkFwcCh1aW50NjQpdm9pZCIKCW1ldGhvZCAic2V0Tmlja25hbWUoc3RyaW5nKXZvaWQiCgltZXRob2QgImFyYzU4X2NoYW5nZUFkbWluKGFkZHJlc3Mpdm9pZCIKCW1ldGhvZCAiYXJjNThfcGx1Z2luQ2hhbmdlQWRtaW4odWludDY0LGFkZHJlc3MsYWRkcmVzcyl2b2lkIgoJbWV0aG9kICJhcmM1OF9nZXRBZG1pbigpYWRkcmVzcyIKCW1ldGhvZCAiYXJjNThfdmVyaWZ5QXV0aEFkZHIoKXZvaWQiCgltZXRob2QgImFyYzU4X3Jla2V5VG8oYWRkcmVzcyxib29sKXZvaWQiCgltZXRob2QgImFyYzU4X2NhbkNhbGwodWludDY0LGFkZHJlc3MpYm9vbCIKCW1ldGhvZCAiYXJjNThfcmVrZXlUb1BsdWdpbih1aW50NjQpdm9pZCIKCW1ldGhvZCAiYXJjNThfcmVrZXlUb05hbWVkUGx1Z2luKHN0cmluZyl2b2lkIgoJbWV0aG9kICJhcmM1OF9hZGRQbHVnaW4odWludDY0LGFkZHJlc3MsdWludDY0LHVpbnQ2NCxib29sLGJ5dGVbNF1bXSxib29sLHN0cmluZyl2b2lkIgoJbWV0aG9kICJhcmM1OF9yZW1vdmVQbHVnaW4odWludDY0LGFkZHJlc3Mpdm9pZCIKCW1ldGhvZCAiYXJjNThfYWRkTmFtZWRQbHVnaW4oc3RyaW5nLHVpbnQ2NCxhZGRyZXNzLHVpbnQ2NCx1aW50NjQsYm9vbCl2b2lkIgoJbWV0aG9kICJhcmM1OF9yZW1vdmVOYW1lZFBsdWdpbihzdHJpbmcpdm9pZCIKCXR4bmEgQXBwbGljYXRpb25BcmdzIDAKCW1hdGNoICphYmlfcm91dGVfY2hhbmdlUmV2b2NhdGlvbkFwcCAqYWJpX3JvdXRlX3NldE5pY2tuYW1lICphYmlfcm91dGVfYXJjNThfY2hhbmdlQWRtaW4gKmFiaV9yb3V0ZV9hcmM1OF9wbHVnaW5DaGFuZ2VBZG1pbiAqYWJpX3JvdXRlX2FyYzU4X2dldEFkbWluICphYmlfcm91dGVfYXJjNThfdmVyaWZ5QXV0aEFkZHIgKmFiaV9yb3V0ZV9hcmM1OF9yZWtleVRvICphYmlfcm91dGVfYXJjNThfY2FuQ2FsbCAqYWJpX3JvdXRlX2FyYzU4X3Jla2V5VG9QbHVnaW4gKmFiaV9yb3V0ZV9hcmM1OF9yZWtleVRvTmFtZWRQbHVnaW4gKmFiaV9yb3V0ZV9hcmM1OF9hZGRQbHVnaW4gKmFiaV9yb3V0ZV9hcmM1OF9yZW1vdmVQbHVnaW4gKmFiaV9yb3V0ZV9hcmM1OF9hZGROYW1lZFBsdWdpbiAqYWJpX3JvdXRlX2FyYzU4X3JlbW92ZU5hbWVkUGx1Z2luCgoJLy8gdGhpcyBjb250cmFjdCBkb2VzIG5vdCBpbXBsZW1lbnQgdGhlIGdpdmVuIEFCSSBtZXRob2QgZm9yIGNhbGwgTm9PcAoJZXJyCgoqY2FsbF9VcGRhdGVBcHBsaWNhdGlvbjoKCW1ldGhvZCAidXBkYXRlQXBwbGljYXRpb24oc3RyaW5nKXZvaWQiCgl0eG5hIEFwcGxpY2F0aW9uQXJncyAwCgltYXRjaCAqYWJpX3JvdXRlX3VwZGF0ZUFwcGxpY2F0aW9uCgoJLy8gdGhpcyBjb250cmFjdCBkb2VzIG5vdCBpbXBsZW1lbnQgdGhlIGdpdmVuIEFCSSBtZXRob2QgZm9yIGNhbGwgVXBkYXRlQXBwbGljYXRpb24KCWVycg==",
    "clear": "I3ByYWdtYSB2ZXJzaW9uIDEw"
  },
  "contract": {
    "name": "AbstractedAccount",
    "desc": "",
    "methods": [
      {
        "name": "createApplication",
        "desc": "Create an abstracted account application.\nThis is not part of ARC58 and implementation specific.",
        "args": [
          {
            "name": "version",
            "type": "string",
            "desc": "The version of the abstracted account application"
          },
          {
            "name": "controlledAddress",
            "type": "address",
            "desc": "The address of the abstracted account. If zeroAddress, then the address of the contract account will be used"
          },
          {
            "name": "admin",
            "type": "address",
            "desc": "The address of the admin for this application"
          },
          {
            "name": "revocationApp",
            "type": "uint64",
            "desc": "The application ID of the revocation app associated with this abstracted account"
          },
          {
            "name": "nickname",
            "type": "string",
            "desc": "A user-friendly name for this abstracted account"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "updateApplication",
        "args": [
          {
            "name": "version",
            "type": "string"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "changeRevocationApp",
        "desc": "Changes the revocation app associated with the contract",
        "args": [
          {
            "name": "newRevocationApp",
            "type": "uint64",
            "desc": "the new revocation app"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "setNickname",
        "desc": "Changes the nickname of the wallet",
        "args": [
          {
            "name": "nickname",
            "type": "string",
            "desc": "the new nickname of the wallet"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "arc58_changeAdmin",
        "desc": "Attempt to change the admin for this app. Some implementations MAY not support this.",
        "args": [
          {
            "name": "newAdmin",
            "type": "address",
            "desc": "The new admin"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "arc58_pluginChangeAdmin",
        "desc": "Attempt to change the admin via plugin.",
        "args": [
          {
            "name": "plugin",
            "type": "uint64",
            "desc": "The app calling the plugin"
          },
          {
            "name": "allowedCaller",
            "type": "address",
            "desc": "The address that triggered the plugin"
          },
          {
            "name": "newAdmin",
            "type": "address",
            "desc": "The new admin"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "arc58_getAdmin",
        "desc": "Get the admin of this app. This method SHOULD always be used rather than reading directly from state\nbecause different implementations may have different ways of determining the admin.",
        "args": [],
        "returns": {
          "type": "address",
          "desc": "the default admin address"
        }
      },
      {
        "name": "arc58_verifyAuthAddr",
        "desc": "Verify the abstracted account is rekeyed to this app",
        "args": [],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "arc58_rekeyTo",
        "desc": "Rekey the abstracted account to another address. Primarily useful for rekeying to an EOA.",
        "args": [
          {
            "name": "addr",
            "type": "address",
            "desc": "The address to rekey to"
          },
          {
            "name": "flash",
            "type": "bool",
            "desc": "Whether or not this should be a flash rekey. If true, the rekey back to the app address must done in the same txn group as this call"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "arc58_canCall",
        "desc": "check whether the plugin can be used",
        "readonly": true,
        "args": [
          {
            "name": "plugin",
            "type": "uint64",
            "desc": "the plugin to be rekeyed to"
          },
          {
            "name": "address",
            "type": "address"
          }
        ],
        "returns": {
          "type": "bool",
          "desc": "whether the plugin can be called via txn sender or globally"
        }
      },
      {
        "name": "arc58_rekeyToPlugin",
        "desc": "Temporarily rekey to an approved plugin app address",
        "args": [
          {
            "name": "plugin",
            "type": "uint64",
            "desc": "The app to rekey to"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "arc58_rekeyToNamedPlugin",
        "desc": "Temporarily rekey to a named plugin app address",
        "args": [
          {
            "name": "name",
            "type": "string",
            "desc": "The name of the plugin to rekey to"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "arc58_addPlugin",
        "desc": "Add an app to the list of approved plugins",
        "args": [
          {
            "name": "app",
            "type": "uint64",
            "desc": "The app to add"
          },
          {
            "name": "allowedCaller",
            "type": "address",
            "desc": "The address of that's allowed to call the app\nor the global zero address for all addresses"
          },
          {
            "name": "lastValidRound",
            "type": "uint64",
            "desc": "The round when the permission expires"
          },
          {
            "name": "cooldown",
            "type": "uint64",
            "desc": "The number of rounds that must pass before the plugin can be called again"
          },
          {
            "name": "adminPrivileges",
            "type": "bool",
            "desc": "Whether the plugin has permissions to change the admin account"
          },
          {
            "name": "methods",
            "type": "byte[4][]"
          },
          {
            "name": "isPasskey",
            "type": "bool"
          },
          {
            "name": "domain",
            "type": "string"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "arc58_removePlugin",
        "desc": "Remove an app from the list of approved plugins",
        "args": [
          {
            "name": "app",
            "type": "uint64",
            "desc": "The app to remove"
          },
          {
            "name": "allowedCaller",
            "type": "address"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "arc58_addNamedPlugin",
        "desc": "Add a named plugin",
        "args": [
          {
            "name": "name",
            "type": "string",
            "desc": "The plugin name"
          },
          {
            "name": "app",
            "type": "uint64",
            "desc": "The plugin app"
          },
          {
            "name": "allowedCaller",
            "type": "address",
            "desc": "The address of that's allowed to call the app\nor the global zero address for all addresses"
          },
          {
            "name": "lastValidRound",
            "type": "uint64",
            "desc": "The round when the permission expires"
          },
          {
            "name": "cooldown",
            "type": "uint64",
            "desc": "The number of rounds that must pass before the plugin can be called again"
          },
          {
            "name": "adminPrivileges",
            "type": "bool",
            "desc": "Whether the plugin has permissions to change the admin account"
          }
        ],
        "returns": {
          "type": "void"
        }
      },
      {
        "name": "arc58_removeNamedPlugin",
        "desc": "Remove a named plugin",
        "args": [
          {
            "name": "name",
            "type": "string",
            "desc": "The plugin name"
          }
        ],
        "returns": {
          "type": "void"
        }
      }
    ]
  }
}

/**
 * Defines an onCompletionAction of 'no_op'
 */
export type OnCompleteNoOp =  { onCompleteAction?: 'no_op' | OnApplicationComplete.NoOpOC }
/**
 * Defines an onCompletionAction of 'opt_in'
 */
export type OnCompleteOptIn =  { onCompleteAction: 'opt_in' | OnApplicationComplete.OptInOC }
/**
 * Defines an onCompletionAction of 'close_out'
 */
export type OnCompleteCloseOut =  { onCompleteAction: 'close_out' | OnApplicationComplete.CloseOutOC }
/**
 * Defines an onCompletionAction of 'delete_application'
 */
export type OnCompleteDelApp =  { onCompleteAction: 'delete_application' | OnApplicationComplete.DeleteApplicationOC }
/**
 * Defines an onCompletionAction of 'update_application'
 */
export type OnCompleteUpdApp =  { onCompleteAction: 'update_application' | OnApplicationComplete.UpdateApplicationOC }
/**
 * A state record containing a single unsigned integer
 */
export type IntegerState = {
  /**
   * Gets the state value as a BigInt.
   */
  asBigInt(): bigint
  /**
   * Gets the state value as a number.
   */
  asNumber(): number
}
/**
 * A state record containing binary data
 */
export type BinaryState = {
  /**
   * Gets the state value as a Uint8Array
   */
  asByteArray(): Uint8Array
  /**
   * Gets the state value as a string
   */
  asString(): string
}

export type AppCreateCallTransactionResult = AppCallTransactionResult & Partial<AppCompilationResult> & AppReference
export type AppUpdateCallTransactionResult = AppCallTransactionResult & Partial<AppCompilationResult>

export type AppClientComposeCallCoreParams = Omit<AppClientCallCoreParams, 'sendParams'> & {
  sendParams?: Omit<SendTransactionParams, 'skipSending' | 'atc' | 'skipWaiting' | 'maxRoundsToWaitForConfirmation' | 'populateAppCallResources'>
}
export type AppClientComposeExecuteParams = Pick<SendTransactionParams, 'skipWaiting' | 'maxRoundsToWaitForConfirmation' | 'populateAppCallResources' | 'suppressLog'>

/**
 * Defines the types of available calls and state of the AbstractedAccount smart contract.
 */
export type AbstractedAccount = {
  /**
   * Maps method signatures / names to their argument and return types.
   */
  methods:
    & Record<'createApplication(string,address,address,uint64,string)void' | 'createApplication', {
      argsObj: {
        /**
         * The version of the abstracted account application
         */
        version: string
        /**
         * The address of the abstracted account. If zeroAddress, then the address of the contract account will be used
         */
        controlledAddress: string
        /**
         * The address of the admin for this application
         */
        admin: string
        /**
         * The application ID of the revocation app associated with this abstracted account
         */
        revocationApp: bigint | number
        /**
         * A user-friendly name for this abstracted account
         */
        nickname: string
      }
      argsTuple: [version: string, controlledAddress: string, admin: string, revocationApp: bigint | number, nickname: string]
      returns: void
    }>
    & Record<'updateApplication(string)void' | 'updateApplication', {
      argsObj: {
        version: string
      }
      argsTuple: [version: string]
      returns: void
    }>
    & Record<'changeRevocationApp(uint64)void' | 'changeRevocationApp', {
      argsObj: {
        /**
         * the new revocation app
         */
        newRevocationApp: bigint | number
      }
      argsTuple: [newRevocationApp: bigint | number]
      returns: void
    }>
    & Record<'setNickname(string)void' | 'setNickname', {
      argsObj: {
        /**
         * the new nickname of the wallet
         */
        nickname: string
      }
      argsTuple: [nickname: string]
      returns: void
    }>
    & Record<'arc58_changeAdmin(address)void' | 'arc58_changeAdmin', {
      argsObj: {
        /**
         * The new admin
         */
        newAdmin: string
      }
      argsTuple: [newAdmin: string]
      returns: void
    }>
    & Record<'arc58_pluginChangeAdmin(uint64,address,address)void' | 'arc58_pluginChangeAdmin', {
      argsObj: {
        /**
         * The app calling the plugin
         */
        plugin: bigint | number
        /**
         * The address that triggered the plugin
         */
        allowedCaller: string
        /**
         * The new admin
         */
        newAdmin: string
      }
      argsTuple: [plugin: bigint | number, allowedCaller: string, newAdmin: string]
      returns: void
    }>
    & Record<'arc58_getAdmin()address' | 'arc58_getAdmin', {
      argsObj: {
      }
      argsTuple: []
      /**
       * the default admin address
       */
      returns: string
    }>
    & Record<'arc58_verifyAuthAddr()void' | 'arc58_verifyAuthAddr', {
      argsObj: {
      }
      argsTuple: []
      returns: void
    }>
    & Record<'arc58_rekeyTo(address,bool)void' | 'arc58_rekeyTo', {
      argsObj: {
        /**
         * The address to rekey to
         */
        addr: string
        /**
         * Whether or not this should be a flash rekey. If true, the rekey back to the app address must done in the same txn group as this call
         */
        flash: boolean
      }
      argsTuple: [addr: string, flash: boolean]
      returns: void
    }>
    & Record<'arc58_canCall(uint64,address)bool' | 'arc58_canCall', {
      argsObj: {
        /**
         * the plugin to be rekeyed to
         */
        plugin: bigint | number
        address: string
      }
      argsTuple: [plugin: bigint | number, address: string]
      /**
       * whether the plugin can be called via txn sender or globally
       */
      returns: boolean
    }>
    & Record<'arc58_rekeyToPlugin(uint64)void' | 'arc58_rekeyToPlugin', {
      argsObj: {
        /**
         * The app to rekey to
         */
        plugin: bigint | number
      }
      argsTuple: [plugin: bigint | number]
      returns: void
    }>
    & Record<'arc58_rekeyToNamedPlugin(string)void' | 'arc58_rekeyToNamedPlugin', {
      argsObj: {
        /**
         * The name of the plugin to rekey to
         */
        name: string
      }
      argsTuple: [name: string]
      returns: void
    }>
    & Record<'arc58_addPlugin(uint64,address,uint64,uint64,bool,byte[4][],bool,string)void' | 'arc58_addPlugin', {
      argsObj: {
        /**
         * The app to add
         */
        app: bigint | number
        /**
         * The address of that's allowed to call the app
or the global zero address for all addresses
         */
        allowedCaller: string
        /**
         * The round when the permission expires
         */
        lastValidRound: bigint | number
        /**
         * The number of rounds that must pass before the plugin can be called again
         */
        cooldown: bigint | number
        /**
         * Whether the plugin has permissions to change the admin account
         */
        adminPrivileges: boolean
        methods: Uint8Array[]
        isPasskey: boolean
        domain: string
      }
      argsTuple: [app: bigint | number, allowedCaller: string, lastValidRound: bigint | number, cooldown: bigint | number, adminPrivileges: boolean, methods: Uint8Array[], isPasskey: boolean, domain: string]
      returns: void
    }>
    & Record<'arc58_removePlugin(uint64,address)void' | 'arc58_removePlugin', {
      argsObj: {
        /**
         * The app to remove
         */
        app: bigint | number
        allowedCaller: string
      }
      argsTuple: [app: bigint | number, allowedCaller: string]
      returns: void
    }>
    & Record<'arc58_addNamedPlugin(string,uint64,address,uint64,uint64,bool)void' | 'arc58_addNamedPlugin', {
      argsObj: {
        /**
         * The plugin name
         */
        name: string
        /**
         * The plugin app
         */
        app: bigint | number
        /**
         * The address of that's allowed to call the app
or the global zero address for all addresses
         */
        allowedCaller: string
        /**
         * The round when the permission expires
         */
        lastValidRound: bigint | number
        /**
         * The number of rounds that must pass before the plugin can be called again
         */
        cooldown: bigint | number
        /**
         * Whether the plugin has permissions to change the admin account
         */
        adminPrivileges: boolean
      }
      argsTuple: [name: string, app: bigint | number, allowedCaller: string, lastValidRound: bigint | number, cooldown: bigint | number, adminPrivileges: boolean]
      returns: void
    }>
    & Record<'arc58_removeNamedPlugin(string)void' | 'arc58_removeNamedPlugin', {
      argsObj: {
        /**
         * The plugin name
         */
        name: string
      }
      argsTuple: [name: string]
      returns: void
    }>
  /**
   * Defines the shape of the global and local state of the application.
   */
  state: {
    global: {
      'v'?: BinaryState
      'f'?: IntegerState
      'a'?: BinaryState
      'c'?: BinaryState
      'r'?: IntegerState
      'n'?: BinaryState
    }
  }
}
/**
 * Defines the possible abi call signatures
 */
export type AbstractedAccountSig = keyof AbstractedAccount['methods']
/**
 * Defines an object containing all relevant parameters for a single call to the contract. Where TSignature is undefined, a bare call is made
 */
export type TypedCallParams<TSignature extends AbstractedAccountSig | undefined> = {
  method: TSignature
  methodArgs: TSignature extends undefined ? undefined : Array<ABIAppCallArg | undefined>
} & AppClientCallCoreParams & CoreAppCallArgs
/**
 * Defines the arguments required for a bare call
 */
export type BareCallArgs = Omit<RawAppCallArgs, keyof CoreAppCallArgs>
/**
 * Maps a method signature from the AbstractedAccount smart contract to the method's arguments in either tuple of struct form
 */
export type MethodArgs<TSignature extends AbstractedAccountSig> = AbstractedAccount['methods'][TSignature]['argsObj' | 'argsTuple']
/**
 * Maps a method signature from the AbstractedAccount smart contract to the method's return type
 */
export type MethodReturn<TSignature extends AbstractedAccountSig> = AbstractedAccount['methods'][TSignature]['returns']

/**
 * A factory for available 'create' calls
 */
export type AbstractedAccountCreateCalls = (typeof AbstractedAccountCallFactory)['create']
/**
 * Defines supported create methods for this smart contract
 */
export type AbstractedAccountCreateCallParams =
  | (TypedCallParams<'createApplication(string,address,address,uint64,string)void'> & (OnCompleteNoOp))
/**
 * A factory for available 'update' calls
 */
export type AbstractedAccountUpdateCalls = (typeof AbstractedAccountCallFactory)['update']
/**
 * Defines supported update methods for this smart contract
 */
export type AbstractedAccountUpdateCallParams =
  | TypedCallParams<'updateApplication(string)void'>
/**
 * Defines arguments required for the deploy method.
 */
export type AbstractedAccountDeployArgs = {
  deployTimeParams?: TealTemplateParams
  /**
   * A delegate which takes a create call factory and returns the create call params for this smart contract
   */
  createCall?: (callFactory: AbstractedAccountCreateCalls) => AbstractedAccountCreateCallParams
  /**
   * A delegate which takes a update call factory and returns the update call params for this smart contract
   */
  updateCall?: (callFactory: AbstractedAccountUpdateCalls) => AbstractedAccountUpdateCallParams
}


/**
 * Exposes methods for constructing all available smart contract calls
 */
export abstract class AbstractedAccountCallFactory {
  /**
   * Gets available create call factories
   */
  static get create() {
    return {
      /**
       * Constructs a create call for the AbstractedAccount smart contract using the createApplication(string,address,address,uint64,string)void ABI method
       *
       * @param args Any args for the contract call
       * @param params Any additional parameters for the call
       * @returns A TypedCallParams object for the call
       */
      createApplication(args: MethodArgs<'createApplication(string,address,address,uint64,string)void'>, params: AppClientCallCoreParams & CoreAppCallArgs & AppClientCompilationParams & (OnCompleteNoOp) = {}) {
        return {
          method: 'createApplication(string,address,address,uint64,string)void' as const,
          methodArgs: Array.isArray(args) ? args : [args.version, args.controlledAddress, args.admin, args.revocationApp, args.nickname],
          ...params,
        }
      },
    }
  }

  /**
   * Gets available update call factories
   */
  static get update() {
    return {
      /**
       * Constructs an update call for the AbstractedAccount smart contract using the updateApplication(string)void ABI method
       *
       * @param args Any args for the contract call
       * @param params Any additional parameters for the call
       * @returns A TypedCallParams object for the call
       */
      updateApplication(args: MethodArgs<'updateApplication(string)void'>, params: AppClientCallCoreParams & CoreAppCallArgs & AppClientCompilationParams = {}) {
        return {
          method: 'updateApplication(string)void' as const,
          methodArgs: Array.isArray(args) ? args : [args.version],
          ...params,
        }
      },
    }
  }

  /**
   * Constructs a no op call for the changeRevocationApp(uint64)void ABI method
   *
   * Changes the revocation app associated with the contract
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static changeRevocationApp(args: MethodArgs<'changeRevocationApp(uint64)void'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'changeRevocationApp(uint64)void' as const,
      methodArgs: Array.isArray(args) ? args : [args.newRevocationApp],
      ...params,
    }
  }
  /**
   * Constructs a no op call for the setNickname(string)void ABI method
   *
   * Changes the nickname of the wallet
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static setNickname(args: MethodArgs<'setNickname(string)void'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'setNickname(string)void' as const,
      methodArgs: Array.isArray(args) ? args : [args.nickname],
      ...params,
    }
  }
  /**
   * Constructs a no op call for the arc58_changeAdmin(address)void ABI method
   *
   * Attempt to change the admin for this app. Some implementations MAY not support this.
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static arc58ChangeAdmin(args: MethodArgs<'arc58_changeAdmin(address)void'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'arc58_changeAdmin(address)void' as const,
      methodArgs: Array.isArray(args) ? args : [args.newAdmin],
      ...params,
    }
  }
  /**
   * Constructs a no op call for the arc58_pluginChangeAdmin(uint64,address,address)void ABI method
   *
   * Attempt to change the admin via plugin.
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static arc58PluginChangeAdmin(args: MethodArgs<'arc58_pluginChangeAdmin(uint64,address,address)void'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'arc58_pluginChangeAdmin(uint64,address,address)void' as const,
      methodArgs: Array.isArray(args) ? args : [args.plugin, args.allowedCaller, args.newAdmin],
      ...params,
    }
  }
  /**
   * Constructs a no op call for the arc58_getAdmin()address ABI method
   *
   * Get the admin of this app. This method SHOULD always be used rather than reading directly from state
because different implementations may have different ways of determining the admin.
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static arc58GetAdmin(args: MethodArgs<'arc58_getAdmin()address'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'arc58_getAdmin()address' as const,
      methodArgs: Array.isArray(args) ? args : [],
      ...params,
    }
  }
  /**
   * Constructs a no op call for the arc58_verifyAuthAddr()void ABI method
   *
   * Verify the abstracted account is rekeyed to this app
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static arc58VerifyAuthAddr(args: MethodArgs<'arc58_verifyAuthAddr()void'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'arc58_verifyAuthAddr()void' as const,
      methodArgs: Array.isArray(args) ? args : [],
      ...params,
    }
  }
  /**
   * Constructs a no op call for the arc58_rekeyTo(address,bool)void ABI method
   *
   * Rekey the abstracted account to another address. Primarily useful for rekeying to an EOA.
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static arc58RekeyTo(args: MethodArgs<'arc58_rekeyTo(address,bool)void'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'arc58_rekeyTo(address,bool)void' as const,
      methodArgs: Array.isArray(args) ? args : [args.addr, args.flash],
      ...params,
    }
  }
  /**
   * Constructs a no op call for the arc58_canCall(uint64,address)bool ABI method
   *
   * check whether the plugin can be used
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static arc58CanCall(args: MethodArgs<'arc58_canCall(uint64,address)bool'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'arc58_canCall(uint64,address)bool' as const,
      methodArgs: Array.isArray(args) ? args : [args.plugin, args.address],
      ...params,
    }
  }
  /**
   * Constructs a no op call for the arc58_rekeyToPlugin(uint64)void ABI method
   *
   * Temporarily rekey to an approved plugin app address
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static arc58RekeyToPlugin(args: MethodArgs<'arc58_rekeyToPlugin(uint64)void'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'arc58_rekeyToPlugin(uint64)void' as const,
      methodArgs: Array.isArray(args) ? args : [args.plugin],
      ...params,
    }
  }
  /**
   * Constructs a no op call for the arc58_rekeyToNamedPlugin(string)void ABI method
   *
   * Temporarily rekey to a named plugin app address
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static arc58RekeyToNamedPlugin(args: MethodArgs<'arc58_rekeyToNamedPlugin(string)void'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'arc58_rekeyToNamedPlugin(string)void' as const,
      methodArgs: Array.isArray(args) ? args : [args.name],
      ...params,
    }
  }
  /**
   * Constructs a no op call for the arc58_addPlugin(uint64,address,uint64,uint64,bool,byte[4][],bool,string)void ABI method
   *
   * Add an app to the list of approved plugins
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static arc58AddPlugin(args: MethodArgs<'arc58_addPlugin(uint64,address,uint64,uint64,bool,byte[4][],bool,string)void'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'arc58_addPlugin(uint64,address,uint64,uint64,bool,byte[4][],bool,string)void' as const,
      methodArgs: Array.isArray(args) ? args : [args.app, args.allowedCaller, args.lastValidRound, args.cooldown, args.adminPrivileges, args.methods, args.isPasskey, args.domain],
      ...params,
    }
  }
  /**
   * Constructs a no op call for the arc58_removePlugin(uint64,address)void ABI method
   *
   * Remove an app from the list of approved plugins
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static arc58RemovePlugin(args: MethodArgs<'arc58_removePlugin(uint64,address)void'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'arc58_removePlugin(uint64,address)void' as const,
      methodArgs: Array.isArray(args) ? args : [args.app, args.allowedCaller],
      ...params,
    }
  }
  /**
   * Constructs a no op call for the arc58_addNamedPlugin(string,uint64,address,uint64,uint64,bool)void ABI method
   *
   * Add a named plugin
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static arc58AddNamedPlugin(args: MethodArgs<'arc58_addNamedPlugin(string,uint64,address,uint64,uint64,bool)void'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'arc58_addNamedPlugin(string,uint64,address,uint64,uint64,bool)void' as const,
      methodArgs: Array.isArray(args) ? args : [args.name, args.app, args.allowedCaller, args.lastValidRound, args.cooldown, args.adminPrivileges],
      ...params,
    }
  }
  /**
   * Constructs a no op call for the arc58_removeNamedPlugin(string)void ABI method
   *
   * Remove a named plugin
   *
   * @param args Any args for the contract call
   * @param params Any additional parameters for the call
   * @returns A TypedCallParams object for the call
   */
  static arc58RemoveNamedPlugin(args: MethodArgs<'arc58_removeNamedPlugin(string)void'>, params: AppClientCallCoreParams & CoreAppCallArgs) {
    return {
      method: 'arc58_removeNamedPlugin(string)void' as const,
      methodArgs: Array.isArray(args) ? args : [args.name],
      ...params,
    }
  }
}

/**
 * A client to make calls to the AbstractedAccount smart contract
 */
export class AbstractedAccountClient {
  /**
   * The underlying `ApplicationClient` for when you want to have more flexibility
   */
  public readonly appClient: ApplicationClient

  private readonly sender: SendTransactionFrom | undefined

  /**
   * Creates a new instance of `AbstractedAccountClient`
   *
   * @param appDetails appDetails The details to identify the app to deploy
   * @param algod An algod client instance
   */
  constructor(appDetails: AppDetails, private algod: Algodv2) {
    this.sender = appDetails.sender
    this.appClient = algokit.getAppClient({
      ...appDetails,
      app: APP_SPEC
    }, algod)
  }

  /**
   * Checks for decode errors on the AppCallTransactionResult and maps the return value to the specified generic type
   *
   * @param result The AppCallTransactionResult to be mapped
   * @param returnValueFormatter An optional delegate to format the return value if required
   * @returns The smart contract response with an updated return value
   */
  protected mapReturnValue<TReturn, TResult extends AppCallTransactionResult = AppCallTransactionResult>(result: AppCallTransactionResult, returnValueFormatter?: (value: any) => TReturn): AppCallTransactionResultOfType<TReturn> & TResult {
    if(result.return?.decodeError) {
      throw result.return.decodeError
    }
    const returnValue = result.return?.returnValue !== undefined && returnValueFormatter !== undefined
      ? returnValueFormatter(result.return.returnValue)
      : result.return?.returnValue as TReturn | undefined
      return { ...result, return: returnValue } as AppCallTransactionResultOfType<TReturn> & TResult
  }

  /**
   * Calls the ABI method with the matching signature using an onCompletion code of NO_OP
   *
   * @param typedCallParams An object containing the method signature, args, and any other relevant parameters
   * @param returnValueFormatter An optional delegate which when provided will be used to map non-undefined return values to the target type
   * @returns The result of the smart contract call
   */
  public async call<TSignature extends keyof AbstractedAccount['methods']>(typedCallParams: TypedCallParams<TSignature>, returnValueFormatter?: (value: any) => MethodReturn<TSignature>) {
    return this.mapReturnValue<MethodReturn<TSignature>>(await this.appClient.call(typedCallParams), returnValueFormatter)
  }

  /**
   * Idempotently deploys the AbstractedAccount smart contract.
   *
   * @param params The arguments for the contract calls and any additional parameters for the call
   * @returns The deployment result
   */
  public deploy(params: AbstractedAccountDeployArgs & AppClientDeployCoreParams = {}): ReturnType<ApplicationClient['deploy']> {
    const createArgs = params.createCall?.(AbstractedAccountCallFactory.create)
    const updateArgs = params.updateCall?.(AbstractedAccountCallFactory.update)
    return this.appClient.deploy({
      ...params,
      updateArgs,
      createArgs,
      createOnCompleteAction: createArgs?.onCompleteAction,
    })
  }

  /**
   * Gets available create methods
   */
  public get create() {
    const $this = this
    return {
      /**
       * Creates a new instance of the AbstractedAccount smart contract using the createApplication(string,address,address,uint64,string)void ABI method.
       *
       * @param args The arguments for the smart contract call
       * @param params Any additional parameters for the call
       * @returns The create result
       */
      async createApplication(args: MethodArgs<'createApplication(string,address,address,uint64,string)void'>, params: AppClientCallCoreParams & AppClientCompilationParams & (OnCompleteNoOp) = {}) {
        return $this.mapReturnValue<MethodReturn<'createApplication(string,address,address,uint64,string)void'>, AppCreateCallTransactionResult>(await $this.appClient.create(AbstractedAccountCallFactory.create.createApplication(args, params)))
      },
    }
  }

  /**
   * Gets available update methods
   */
  public get update() {
    const $this = this
    return {
      /**
       * Updates an existing instance of the AbstractedAccount smart contract using the updateApplication(string)void ABI method.
       *
       * @param args The arguments for the smart contract call
       * @param params Any additional parameters for the call
       * @returns The update result
       */
      async updateApplication(args: MethodArgs<'updateApplication(string)void'>, params: AppClientCallCoreParams & AppClientCompilationParams = {}) {
        return $this.mapReturnValue<MethodReturn<'updateApplication(string)void'>, AppUpdateCallTransactionResult>(await $this.appClient.update(AbstractedAccountCallFactory.update.updateApplication(args, params)))
      },
    }
  }

  /**
   * Makes a clear_state call to an existing instance of the AbstractedAccount smart contract.
   *
   * @param args The arguments for the bare call
   * @returns The clear_state result
   */
  public clearState(args: BareCallArgs & AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.appClient.clearState(args)
  }

  /**
   * Calls the changeRevocationApp(uint64)void ABI method.
   *
   * Changes the revocation app associated with the contract
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public changeRevocationApp(args: MethodArgs<'changeRevocationApp(uint64)void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.changeRevocationApp(args, params))
  }

  /**
   * Calls the setNickname(string)void ABI method.
   *
   * Changes the nickname of the wallet
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public setNickname(args: MethodArgs<'setNickname(string)void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.setNickname(args, params))
  }

  /**
   * Calls the arc58_changeAdmin(address)void ABI method.
   *
   * Attempt to change the admin for this app. Some implementations MAY not support this.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public arc58ChangeAdmin(args: MethodArgs<'arc58_changeAdmin(address)void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.arc58ChangeAdmin(args, params))
  }

  /**
   * Calls the arc58_pluginChangeAdmin(uint64,address,address)void ABI method.
   *
   * Attempt to change the admin via plugin.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public arc58PluginChangeAdmin(args: MethodArgs<'arc58_pluginChangeAdmin(uint64,address,address)void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.arc58PluginChangeAdmin(args, params))
  }

  /**
   * Calls the arc58_getAdmin()address ABI method.
   *
   * Get the admin of this app. This method SHOULD always be used rather than reading directly from state
because different implementations may have different ways of determining the admin.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call: the default admin address
   */
  public arc58GetAdmin(args: MethodArgs<'arc58_getAdmin()address'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.arc58GetAdmin(args, params))
  }

  /**
   * Calls the arc58_verifyAuthAddr()void ABI method.
   *
   * Verify the abstracted account is rekeyed to this app
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public arc58VerifyAuthAddr(args: MethodArgs<'arc58_verifyAuthAddr()void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.arc58VerifyAuthAddr(args, params))
  }

  /**
   * Calls the arc58_rekeyTo(address,bool)void ABI method.
   *
   * Rekey the abstracted account to another address. Primarily useful for rekeying to an EOA.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public arc58RekeyTo(args: MethodArgs<'arc58_rekeyTo(address,bool)void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.arc58RekeyTo(args, params))
  }

  /**
   * Calls the arc58_canCall(uint64,address)bool ABI method.
   *
   * check whether the plugin can be used
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call: whether the plugin can be called via txn sender or globally
   */
  public arc58CanCall(args: MethodArgs<'arc58_canCall(uint64,address)bool'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.arc58CanCall(args, params))
  }

  /**
   * Calls the arc58_rekeyToPlugin(uint64)void ABI method.
   *
   * Temporarily rekey to an approved plugin app address
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public arc58RekeyToPlugin(args: MethodArgs<'arc58_rekeyToPlugin(uint64)void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.arc58RekeyToPlugin(args, params))
  }

  /**
   * Calls the arc58_rekeyToNamedPlugin(string)void ABI method.
   *
   * Temporarily rekey to a named plugin app address
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public arc58RekeyToNamedPlugin(args: MethodArgs<'arc58_rekeyToNamedPlugin(string)void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.arc58RekeyToNamedPlugin(args, params))
  }

  /**
   * Calls the arc58_addPlugin(uint64,address,uint64,uint64,bool,byte[4][],bool,string)void ABI method.
   *
   * Add an app to the list of approved plugins
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public arc58AddPlugin(args: MethodArgs<'arc58_addPlugin(uint64,address,uint64,uint64,bool,byte[4][],bool,string)void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.arc58AddPlugin(args, params))
  }

  /**
   * Calls the arc58_removePlugin(uint64,address)void ABI method.
   *
   * Remove an app from the list of approved plugins
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public arc58RemovePlugin(args: MethodArgs<'arc58_removePlugin(uint64,address)void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.arc58RemovePlugin(args, params))
  }

  /**
   * Calls the arc58_addNamedPlugin(string,uint64,address,uint64,uint64,bool)void ABI method.
   *
   * Add a named plugin
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public arc58AddNamedPlugin(args: MethodArgs<'arc58_addNamedPlugin(string,uint64,address,uint64,uint64,bool)void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.arc58AddNamedPlugin(args, params))
  }

  /**
   * Calls the arc58_removeNamedPlugin(string)void ABI method.
   *
   * Remove a named plugin
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The result of the call
   */
  public arc58RemoveNamedPlugin(args: MethodArgs<'arc58_removeNamedPlugin(string)void'>, params: AppClientCallCoreParams & CoreAppCallArgs = {}) {
    return this.call(AbstractedAccountCallFactory.arc58RemoveNamedPlugin(args, params))
  }

  /**
   * Extracts a binary state value out of an AppState dictionary
   *
   * @param state The state dictionary containing the state value
   * @param key The key of the state value
   * @returns A BinaryState instance containing the state value, or undefined if the key was not found
   */
  private static getBinaryState(state: AppState, key: string): BinaryState | undefined {
    const value = state[key]
    if (!value) return undefined
    if (!('valueRaw' in value))
      throw new Error(`Failed to parse state value for ${key}; received an int when expected a byte array`)
    return {
      asString(): string {
        return value.value
      },
      asByteArray(): Uint8Array {
        return value.valueRaw
      }
    }
  }

  /**
   * Extracts a integer state value out of an AppState dictionary
   *
   * @param state The state dictionary containing the state value
   * @param key The key of the state value
   * @returns An IntegerState instance containing the state value, or undefined if the key was not found
   */
  private static getIntegerState(state: AppState, key: string): IntegerState | undefined {
    const value = state[key]
    if (!value) return undefined
    if ('valueRaw' in value)
      throw new Error(`Failed to parse state value for ${key}; received a byte array when expected a number`)
    return {
      asBigInt() {
        return typeof value.value === 'bigint' ? value.value : BigInt(value.value)
      },
      asNumber(): number {
        return typeof value.value === 'bigint' ? Number(value.value) : value.value
      },
    }
  }

  /**
   * Returns the smart contract's global state wrapped in a strongly typed accessor with options to format the stored value
   */
  public async getGlobalState(): Promise<AbstractedAccount['state']['global']> {
    const state = await this.appClient.getGlobalState()
    return {
      get v() {
        return AbstractedAccountClient.getBinaryState(state, 'v')
      },
      get f() {
        return AbstractedAccountClient.getIntegerState(state, 'f')
      },
      get a() {
        return AbstractedAccountClient.getBinaryState(state, 'a')
      },
      get c() {
        return AbstractedAccountClient.getBinaryState(state, 'c')
      },
      get r() {
        return AbstractedAccountClient.getIntegerState(state, 'r')
      },
      get n() {
        return AbstractedAccountClient.getBinaryState(state, 'n')
      },
    }
  }

  public compose(): AbstractedAccountComposer {
    const client = this
    const atc = new AtomicTransactionComposer()
    let promiseChain:Promise<unknown> = Promise.resolve()
    const resultMappers: Array<undefined | ((x: any) => any)> = []
    return {
      changeRevocationApp(args: MethodArgs<'changeRevocationApp(uint64)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.changeRevocationApp(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      setNickname(args: MethodArgs<'setNickname(string)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.setNickname(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      arc58ChangeAdmin(args: MethodArgs<'arc58_changeAdmin(address)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.arc58ChangeAdmin(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      arc58PluginChangeAdmin(args: MethodArgs<'arc58_pluginChangeAdmin(uint64,address,address)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.arc58PluginChangeAdmin(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      arc58GetAdmin(args: MethodArgs<'arc58_getAdmin()address'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.arc58GetAdmin(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      arc58VerifyAuthAddr(args: MethodArgs<'arc58_verifyAuthAddr()void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.arc58VerifyAuthAddr(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      arc58RekeyTo(args: MethodArgs<'arc58_rekeyTo(address,bool)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.arc58RekeyTo(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      arc58CanCall(args: MethodArgs<'arc58_canCall(uint64,address)bool'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.arc58CanCall(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      arc58RekeyToPlugin(args: MethodArgs<'arc58_rekeyToPlugin(uint64)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.arc58RekeyToPlugin(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      arc58RekeyToNamedPlugin(args: MethodArgs<'arc58_rekeyToNamedPlugin(string)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.arc58RekeyToNamedPlugin(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      arc58AddPlugin(args: MethodArgs<'arc58_addPlugin(uint64,address,uint64,uint64,bool,byte[4][],bool,string)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.arc58AddPlugin(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      arc58RemovePlugin(args: MethodArgs<'arc58_removePlugin(uint64,address)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.arc58RemovePlugin(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      arc58AddNamedPlugin(args: MethodArgs<'arc58_addNamedPlugin(string,uint64,address,uint64,uint64,bool)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.arc58AddNamedPlugin(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      arc58RemoveNamedPlugin(args: MethodArgs<'arc58_removeNamedPlugin(string)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.arc58RemoveNamedPlugin(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      get update() {
        const $this = this
        return {
          updateApplication(args: MethodArgs<'updateApplication(string)void'>, params?: AppClientComposeCallCoreParams & AppClientCompilationParams) {
            promiseChain = promiseChain.then(() => client.update.updateApplication(args, {...params, sendParams: {...params?.sendParams, skipSending: true, atc}}))
            resultMappers.push(undefined)
            return $this
          },
        }
      },
      clearState(args?: BareCallArgs & AppClientComposeCallCoreParams & CoreAppCallArgs) {
        promiseChain = promiseChain.then(() => client.clearState({...args, sendParams: {...args?.sendParams, skipSending: true, atc}}))
        resultMappers.push(undefined)
        return this
      },
      addTransaction(txn: TransactionWithSigner | TransactionToSign | Transaction | Promise<SendTransactionResult>, defaultSender?: SendTransactionFrom) {
        promiseChain = promiseChain.then(async () => atc.addTransaction(await algokit.getTransactionWithSigner(txn, defaultSender ?? client.sender)))
        return this
      },
      async atc() {
        await promiseChain
        return atc
      },
      async simulate(options?: SimulateOptions) {
        await promiseChain
        const result = await atc.simulate(client.algod, new modelsv2.SimulateRequest({ txnGroups: [], ...options }))
        return {
          ...result,
          returns: result.methodResults?.map((val, i) => resultMappers[i] !== undefined ? resultMappers[i]!(val.returnValue) : val.returnValue)
        }
      },
      async execute(sendParams?: AppClientComposeExecuteParams) {
        await promiseChain
        const result = await algokit.sendAtomicTransactionComposer({ atc, sendParams }, client.algod)
        return {
          ...result,
          returns: result.returns?.map((val, i) => resultMappers[i] !== undefined ? resultMappers[i]!(val.returnValue) : val.returnValue)
        }
      }
    } as unknown as AbstractedAccountComposer
  }
}
export type AbstractedAccountComposer<TReturns extends [...any[]] = []> = {
  /**
   * Calls the changeRevocationApp(uint64)void ABI method.
   *
   * Changes the revocation app associated with the contract
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  changeRevocationApp(args: MethodArgs<'changeRevocationApp(uint64)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'changeRevocationApp(uint64)void'>]>

  /**
   * Calls the setNickname(string)void ABI method.
   *
   * Changes the nickname of the wallet
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  setNickname(args: MethodArgs<'setNickname(string)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'setNickname(string)void'>]>

  /**
   * Calls the arc58_changeAdmin(address)void ABI method.
   *
   * Attempt to change the admin for this app. Some implementations MAY not support this.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  arc58ChangeAdmin(args: MethodArgs<'arc58_changeAdmin(address)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'arc58_changeAdmin(address)void'>]>

  /**
   * Calls the arc58_pluginChangeAdmin(uint64,address,address)void ABI method.
   *
   * Attempt to change the admin via plugin.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  arc58PluginChangeAdmin(args: MethodArgs<'arc58_pluginChangeAdmin(uint64,address,address)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'arc58_pluginChangeAdmin(uint64,address,address)void'>]>

  /**
   * Calls the arc58_getAdmin()address ABI method.
   *
   * Get the admin of this app. This method SHOULD always be used rather than reading directly from state
because different implementations may have different ways of determining the admin.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  arc58GetAdmin(args: MethodArgs<'arc58_getAdmin()address'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'arc58_getAdmin()address'>]>

  /**
   * Calls the arc58_verifyAuthAddr()void ABI method.
   *
   * Verify the abstracted account is rekeyed to this app
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  arc58VerifyAuthAddr(args: MethodArgs<'arc58_verifyAuthAddr()void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'arc58_verifyAuthAddr()void'>]>

  /**
   * Calls the arc58_rekeyTo(address,bool)void ABI method.
   *
   * Rekey the abstracted account to another address. Primarily useful for rekeying to an EOA.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  arc58RekeyTo(args: MethodArgs<'arc58_rekeyTo(address,bool)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'arc58_rekeyTo(address,bool)void'>]>

  /**
   * Calls the arc58_canCall(uint64,address)bool ABI method.
   *
   * check whether the plugin can be used
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  arc58CanCall(args: MethodArgs<'arc58_canCall(uint64,address)bool'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'arc58_canCall(uint64,address)bool'>]>

  /**
   * Calls the arc58_rekeyToPlugin(uint64)void ABI method.
   *
   * Temporarily rekey to an approved plugin app address
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  arc58RekeyToPlugin(args: MethodArgs<'arc58_rekeyToPlugin(uint64)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'arc58_rekeyToPlugin(uint64)void'>]>

  /**
   * Calls the arc58_rekeyToNamedPlugin(string)void ABI method.
   *
   * Temporarily rekey to a named plugin app address
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  arc58RekeyToNamedPlugin(args: MethodArgs<'arc58_rekeyToNamedPlugin(string)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'arc58_rekeyToNamedPlugin(string)void'>]>

  /**
   * Calls the arc58_addPlugin(uint64,address,uint64,uint64,bool,byte[4][],bool,string)void ABI method.
   *
   * Add an app to the list of approved plugins
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  arc58AddPlugin(args: MethodArgs<'arc58_addPlugin(uint64,address,uint64,uint64,bool,byte[4][],bool,string)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'arc58_addPlugin(uint64,address,uint64,uint64,bool,byte[4][],bool,string)void'>]>

  /**
   * Calls the arc58_removePlugin(uint64,address)void ABI method.
   *
   * Remove an app from the list of approved plugins
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  arc58RemovePlugin(args: MethodArgs<'arc58_removePlugin(uint64,address)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'arc58_removePlugin(uint64,address)void'>]>

  /**
   * Calls the arc58_addNamedPlugin(string,uint64,address,uint64,uint64,bool)void ABI method.
   *
   * Add a named plugin
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  arc58AddNamedPlugin(args: MethodArgs<'arc58_addNamedPlugin(string,uint64,address,uint64,uint64,bool)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'arc58_addNamedPlugin(string,uint64,address,uint64,uint64,bool)void'>]>

  /**
   * Calls the arc58_removeNamedPlugin(string)void ABI method.
   *
   * Remove a named plugin
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  arc58RemoveNamedPlugin(args: MethodArgs<'arc58_removeNamedPlugin(string)void'>, params?: AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, MethodReturn<'arc58_removeNamedPlugin(string)void'>]>

  /**
   * Gets available update methods
   */
  readonly update: {
    /**
     * Updates an existing instance of the AbstractedAccount smart contract using the updateApplication(string)void ABI method.
     *
     * @param args The arguments for the smart contract call
     * @param params Any additional parameters for the call
     * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
     */
    updateApplication(args: MethodArgs<'updateApplication(string)void'>, params?: AppClientComposeCallCoreParams & AppClientCompilationParams): AbstractedAccountComposer<[...TReturns, MethodReturn<'updateApplication(string)void'>]>
  }

  /**
   * Makes a clear_state call to an existing instance of the AbstractedAccount smart contract.
   *
   * @param args The arguments for the bare call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  clearState(args?: BareCallArgs & AppClientComposeCallCoreParams & CoreAppCallArgs): AbstractedAccountComposer<[...TReturns, undefined]>

  /**
   * Adds a transaction to the composer
   *
   * @param txn One of: A TransactionWithSigner object (returned as is), a TransactionToSign object (signer is obtained from the signer property), a Transaction object (signer is extracted from the defaultSender parameter), an async SendTransactionResult returned by one of algokit utils helpers (signer is obtained from the defaultSender parameter)
   * @param defaultSender The default sender to be used to obtain a signer where the object provided to the transaction parameter does not include a signer.
   */
  addTransaction(txn: TransactionWithSigner | TransactionToSign | Transaction | Promise<SendTransactionResult>, defaultSender?: SendTransactionFrom): AbstractedAccountComposer<TReturns>
  /**
   * Returns the underlying AtomicTransactionComposer instance
   */
  atc(): Promise<AtomicTransactionComposer>
  /**
   * Simulates the transaction group and returns the result
   */
  simulate(options?: SimulateOptions): Promise<AbstractedAccountComposerSimulateResult<TReturns>>
  /**
   * Executes the transaction group and returns the results
   */
  execute(sendParams?: AppClientComposeExecuteParams): Promise<AbstractedAccountComposerResults<TReturns>>
}
export type SimulateOptions = Omit<ConstructorParameters<typeof modelsv2.SimulateRequest>[0], 'txnGroups'>
export type AbstractedAccountComposerSimulateResult<TReturns extends [...any[]]> = {
  returns: TReturns
  methodResults: ABIResult[]
  simulateResponse: modelsv2.SimulateResponse
}
export type AbstractedAccountComposerResults<TReturns extends [...any[]]> = {
  returns: TReturns
  groupId: string
  txIds: string[]
  transactions: Transaction[]
}
