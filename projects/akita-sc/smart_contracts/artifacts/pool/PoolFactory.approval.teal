#pragma version 10
#pragma typetrack false

// @algorandfoundation/algorand-typescript/arc4/index.d.ts::Contract.approvalProgram() -> uint64:
main:
    intcblock 1 0 4 2
    bytecblock "akita_dao" "version" "child_contract_version"
    // smart_contracts/pool/factory.algo.ts:15-19
    // export class PoolFactory extends classes(
    //   BasePool,
    //   ServiceFactoryContract,
    //   ContractWithOptIn
    // ) {
    txn NumAppArgs
    bz main_after_if_else@14
    pushbytess 0x08936709 0x3be19b43 0x3ea11832 0xc385cfae 0x33e92c94 0xd9a35fa4 // method "createApplication(string,string,uint64,uint64)void", method "newPool(pay,string,uint8,(uint64,uint8,uint64,uint64,uint64),address,(address,string),uint64,uint64,uint64)uint64", method "optin(pay,uint64)void", method "updateApplication(string,string)void", method "updateAkitaDAO(uint64)void", method "mbr()(uint64,uint64,uint64)"
    txna ApplicationArgs 0
    match main_createApplication_route@5 main_newPool_route@6 main_optin_route@7 main_updateApplication_route@8 main_updateAkitaDAO_route@9 main_mbr_route@10

main_after_if_else@14:
    // smart_contracts/pool/factory.algo.ts:15-19
    // export class PoolFactory extends classes(
    //   BasePool,
    //   ServiceFactoryContract,
    //   ContractWithOptIn
    // ) {
    intc_1 // 0
    return

main_mbr_route@10:
    // smart_contracts/pool/base.ts:6
    // @abimethod({ readonly: true })
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    pushbytes 0x151f7c7500000000000062d400000000000062d400000000000017d4
    log
    intc_0 // 1
    return

main_updateAkitaDAO_route@9:
    // smart_contracts/utils/base-contracts/factory.ts:59
    // updateAkitaDAO(app: uint64): void {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/pool/factory.algo.ts:15-19
    // export class PoolFactory extends classes(
    //   BasePool,
    //   ServiceFactoryContract,
    //   ContractWithOptIn
    // ) {
    txna ApplicationArgs 1
    btoi
    // smart_contracts/utils/base-contracts/factory.ts:59
    // updateAkitaDAO(app: uint64): void {
    callsub updateAkitaDAO
    intc_0 // 1
    return

main_updateApplication_route@8:
    // smart_contracts/utils/base-contracts/factory.ts:50
    // @abimethod({ allowActions: ['UpdateApplication'] })
    txn OnCompletion
    intc_2 // UpdateApplication
    ==
    assert // OnCompletion is not UpdateApplication
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/pool/factory.algo.ts:15-19
    // export class PoolFactory extends classes(
    //   BasePool,
    //   ServiceFactoryContract,
    //   ContractWithOptIn
    // ) {
    txna ApplicationArgs 1
    extract 2 0
    txna ApplicationArgs 2
    extract 2 0
    // smart_contracts/utils/base-contracts/factory.ts:50
    // @abimethod({ allowActions: ['UpdateApplication'] })
    callsub updateApplication
    intc_0 // 1
    return

main_optin_route@7:
    // smart_contracts/utils/base-contracts/optin.ts:22
    // optin(payment: gtxn.PaymentTxn, asset: uint64): void {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/pool/factory.algo.ts:15-19
    // export class PoolFactory extends classes(
    //   BasePool,
    //   ServiceFactoryContract,
    //   ContractWithOptIn
    // ) {
    txn GroupIndex
    intc_0 // 1
    -
    dup
    gtxns TypeEnum
    intc_0 // pay
    ==
    assert // transaction type is pay
    txna ApplicationArgs 1
    btoi
    // smart_contracts/utils/base-contracts/optin.ts:22
    // optin(payment: gtxn.PaymentTxn, asset: uint64): void {
    callsub optin
    intc_0 // 1
    return

main_newPool_route@6:
    // smart_contracts/pool/factory.algo.ts:35-45
    // newPool(
    //   payment: gtxn.PaymentTxn,
    //   title: string,
    //   type: StakingType,
    //   reward: arc4Reward,
    //   marketplace: Address,
    //   stakeKey: arc4RootKey,
    //   minimumStakeAmount: uint64,
    //   gateID: uint64,
    //   maxEntries: uint64,
    // ): uint64 {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/pool/factory.algo.ts:15-19
    // export class PoolFactory extends classes(
    //   BasePool,
    //   ServiceFactoryContract,
    //   ContractWithOptIn
    // ) {
    txn GroupIndex
    intc_0 // 1
    -
    dup
    gtxns TypeEnum
    intc_0 // pay
    ==
    assert // transaction type is pay
    txna ApplicationArgs 1
    extract 2 0
    txna ApplicationArgs 2
    txna ApplicationArgs 3
    txna ApplicationArgs 4
    txna ApplicationArgs 5
    txna ApplicationArgs 6
    btoi
    txna ApplicationArgs 7
    btoi
    txna ApplicationArgs 8
    btoi
    // smart_contracts/pool/factory.algo.ts:35-45
    // newPool(
    //   payment: gtxn.PaymentTxn,
    //   title: string,
    //   type: StakingType,
    //   reward: arc4Reward,
    //   marketplace: Address,
    //   stakeKey: arc4RootKey,
    //   minimumStakeAmount: uint64,
    //   gateID: uint64,
    //   maxEntries: uint64,
    // ): uint64 {
    callsub newPool
    itob
    pushbytes 0x151f7c75
    swap
    concat
    log
    intc_0 // 1
    return

main_createApplication_route@5:
    // smart_contracts/pool/factory.algo.ts:25
    // @abimethod({ onCreate: 'require' })
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    !
    assert // can only call when creating
    // smart_contracts/pool/factory.algo.ts:15-19
    // export class PoolFactory extends classes(
    //   BasePool,
    //   ServiceFactoryContract,
    //   ContractWithOptIn
    // ) {
    txna ApplicationArgs 1
    extract 2 0
    txna ApplicationArgs 2
    extract 2 0
    txna ApplicationArgs 3
    btoi
    txna ApplicationArgs 4
    btoi
    // smart_contracts/pool/factory.algo.ts:25
    // @abimethod({ onCreate: 'require' })
    callsub createApplication
    intc_0 // 1
    return


// smart_contracts/pool/factory.algo.ts::PoolFactory.createApplication(version: bytes, childVersion: bytes, akitaDAO: uint64, escrow: uint64) -> void:
createApplication:
    // smart_contracts/pool/factory.algo.ts:25-26
    // @abimethod({ onCreate: 'require' })
    // createApplication(version: string, childVersion: string, akitaDAO: uint64, escrow: uint64): void {
    proto 4 0
    // smart_contracts/constants.ts:3
    // export const GlobalStateKeyVersion = 'version'
    bytec_1 // "version"
    // smart_contracts/pool/factory.algo.ts:27
    // this.version.value = version
    frame_dig -4
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:15
    // export const BaseFactoryGlobalStateKeyChildContractVersion = 'child_contract_version'
    bytec_2 // "child_contract_version"
    // smart_contracts/pool/factory.algo.ts:28
    // this.childContractVersion.value = childVersion
    frame_dig -3
    app_global_put
    // smart_contracts/constants.ts:1
    // export const GlobalStateKeyAkitaDAO = 'akita_dao'
    bytec_0 // "akita_dao"
    // smart_contracts/pool/factory.algo.ts:29
    // this.akitaDAO.value = Application(akitaDAO)
    frame_dig -2
    app_global_put
    // smart_contracts/constants.ts:2
    // export const GlobalStateKeyAkitaEscrow = 'akita_escrow'
    pushbytes "akita_escrow"
    // smart_contracts/pool/factory.algo.ts:30
    // this.akitaDAOEscrow.value = Application(escrow)
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/pool/factory.algo.ts::PoolFactory.newPool(payment: uint64, title: bytes, type: bytes, reward: bytes, marketplace: bytes, stakeKey: bytes, minimumStakeAmount: uint64, gateID: uint64, maxEntries: uint64) -> uint64:
newPool:
    // smart_contracts/pool/factory.algo.ts:35-45
    // newPool(
    //   payment: gtxn.PaymentTxn,
    //   title: string,
    //   type: StakingType,
    //   reward: arc4Reward,
    //   marketplace: Address,
    //   stakeKey: arc4RootKey,
    //   minimumStakeAmount: uint64,
    //   gateID: uint64,
    //   maxEntries: uint64,
    // ): uint64 {
    proto 9 1
    pushbytes ""
    // smart_contracts/pool/factory.algo.ts:47
    // const isAlgoPayment = reward.asset.native === 0
    frame_dig -6
    intc_1 // 0
    extract_uint64
    // smart_contracts/pool/factory.algo.ts:48-50
    // const optinMBR: uint64 = isAlgoPayment
    //   ? Global.assetOptInMinBalance
    //   : Global.assetOptInMinBalance * 2
    bnz newPool_ternary_false@2
    // smart_contracts/pool/factory.algo.ts:49
    // ? Global.assetOptInMinBalance
    global AssetOptInMinBalance

newPool_ternary_merge@3:
    // smart_contracts/utils/constants.ts:11
    // export const AccountMinimumBalance: uint64 = 100_000
    pushint 100000 // 100000
    // smart_contracts/pool/factory.algo.ts:53
    // const childAppMBR: uint64 = AccountMinimumBalance + optinMBR
    +
    frame_bury 0
    // smart_contracts/pool/factory.algo.ts:57-69
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: (
    //       MAX_PROGRAM_PAGES +
    //       (GLOBAL_STATE_KEY_UINT_COST * pool.globalUints) +
    //       (GLOBAL_STATE_KEY_BYTES_COST * pool.globalBytes) +
    //       childAppMBR +
    //       fcosts.appCreators
    //     ),
    //   }
    // )
    frame_dig -9
    gtxns Receiver
    // smart_contracts/pool/factory.algo.ts:60
    // receiver: Global.currentApplicationAddress,
    global CurrentApplicationAddress
    // smart_contracts/pool/factory.algo.ts:57-69
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: (
    //       MAX_PROGRAM_PAGES +
    //       (GLOBAL_STATE_KEY_UINT_COST * pool.globalUints) +
    //       (GLOBAL_STATE_KEY_BYTES_COST * pool.globalBytes) +
    //       childAppMBR +
    //       fcosts.appCreators
    //     ),
    //   }
    // )
    ==
    bz newPool_bool_false@6
    frame_dig -9
    gtxns Amount
    // smart_contracts/pool/factory.algo.ts:62-64
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * pool.globalUints) +
    // (GLOBAL_STATE_KEY_BYTES_COST * pool.globalBytes) +
    pushint 1541500 // 1541500
    // smart_contracts/pool/factory.algo.ts:62-65
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * pool.globalUints) +
    // (GLOBAL_STATE_KEY_BYTES_COST * pool.globalBytes) +
    // childAppMBR +
    frame_dig 0
    +
    // smart_contracts/utils/functions.ts:330
    // appCreators: 21_700
    pushint 21700 // 21700
    // smart_contracts/pool/factory.algo.ts:62-66
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * pool.globalUints) +
    // (GLOBAL_STATE_KEY_BYTES_COST * pool.globalBytes) +
    // childAppMBR +
    // fcosts.appCreators
    +
    // smart_contracts/pool/factory.algo.ts:57-69
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: (
    //       MAX_PROGRAM_PAGES +
    //       (GLOBAL_STATE_KEY_UINT_COST * pool.globalUints) +
    //       (GLOBAL_STATE_KEY_BYTES_COST * pool.globalBytes) +
    //       childAppMBR +
    //       fcosts.appCreators
    //     ),
    //   }
    // )
    ==
    bz newPool_bool_false@6
    intc_0 // 1

newPool_bool_merge@7:
    // smart_contracts/pool/factory.algo.ts:57-69
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: (
    //       MAX_PROGRAM_PAGES +
    //       (GLOBAL_STATE_KEY_UINT_COST * pool.globalUints) +
    //       (GLOBAL_STATE_KEY_BYTES_COST * pool.globalBytes) +
    //       childAppMBR +
    //       fcosts.appCreators
    //     ),
    //   }
    // )
    assert // assert target is match for conditions
    // smart_contracts/pool/factory.algo.ts:71-86
    // const newPoolApp = pool.call
    //   .createApplication({
    //     args: [
    //       title,
    //       type,
    //       reward,
    //       new Address(Txn.sender),
    //       marketplace,
    //       stakeKey,
    //       minimumStakeAmount,
    //       gateID,
    //       maxEntries,
    //       this.akitaDAO.value.id,
    //     ],
    //     fee,
    //   })
    itxn_begin
    // smart_contracts/pool/factory.algo.ts:74
    // title,
    frame_dig -8
    len
    itob
    extract 6 2
    frame_dig -8
    concat
    // smart_contracts/pool/factory.algo.ts:77
    // new Address(Txn.sender),
    txn Sender
    // smart_contracts/pool/factory.algo.ts:80
    // minimumStakeAmount,
    frame_dig -3
    itob
    // smart_contracts/pool/factory.algo.ts:81
    // gateID,
    frame_dig -2
    itob
    // smart_contracts/pool/factory.algo.ts:82
    // maxEntries,
    frame_dig -1
    itob
    // smart_contracts/constants.ts:1
    // export const GlobalStateKeyAkitaDAO = 'akita_dao'
    intc_1 // 0
    bytec_0 // "akita_dao"
    app_global_get_ex
    assert // check GlobalState exists
    // smart_contracts/pool/factory.algo.ts:83
    // this.akitaDAO.value.id,
    itob
    // smart_contracts/pool/factory.algo.ts:71-86
    // const newPoolApp = pool.call
    //   .createApplication({
    //     args: [
    //       title,
    //       type,
    //       reward,
    //       new Address(Txn.sender),
    //       marketplace,
    //       stakeKey,
    //       minimumStakeAmount,
    //       gateID,
    //       maxEntries,
    //       this.akitaDAO.value.id,
    //     ],
    //     fee,
    //   })
    pushbytes 0x3b5075f4 // method "createApplication(string,uint8,(uint64,uint8,uint64,uint64,uint64),address,address,(address,string),uint64,uint64,uint64,uint64)void"
    itxn_field ApplicationArgs
    uncover 5
    itxn_field ApplicationArgs
    frame_dig -7
    itxn_field ApplicationArgs
    frame_dig -6
    itxn_field ApplicationArgs
    uncover 4
    itxn_field ApplicationArgs
    frame_dig -5
    itxn_field ApplicationArgs
    frame_dig -4
    itxn_field ApplicationArgs
    uncover 3
    itxn_field ApplicationArgs
    uncover 2
    itxn_field ApplicationArgs
    swap
    itxn_field ApplicationArgs
    itxn_field ApplicationArgs
    // smart_contracts/pool/factory.algo.ts:55
    // const pool = compileArc4(Pool)
    intc_3 // 2
    itxn_field ExtraProgramPages
    pushint 12 // 12
    itxn_field GlobalNumByteSlice
    pushint 19 // 19
    itxn_field GlobalNumUint
    pushbytes base64(CoEBQw==)
    itxn_field ClearStateProgramPages
    pushbytes base64(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)
    itxn_field ApprovalProgramPages
    pushbytes base64(AAsiKmVEIihlRAmM/yInBWVEixhMCowIJw2MACIoZUyMFUSLFYv/DEEAPosVFicOTFC+RElXACCMBCEEUykiTwJUIlNAABmLAFcCAIsIFosETFBQSRUlChZXBgJMUIwAixUjCIwVQv+6IihlRIv/CChMZyInCmVEixeLAIsYiPV7SCIqZUQiKGVEEkH9vScEJw9nKCJniYsGJw8SRCInEGVEIllAAASI+nKJMgqLF3AASIsYD0QiKGVEi/8IIiplRA1BAAsiKmVEIihlRAmM/yInEWVESYEJW0lOAowZgRlbSYwaTIwIQQAHixmLGgqMCCInEGVMSU4CjAdEIicZZURJIltJTgKMHkmBCFtMgRBbjA9PAlcCAEmMAk8CgQgLW4wNJw2MACIoZUyME0RJjAyMG4sTi/8MQQD3ixNJFicOTFC+RElXACCMBEklW0whBFMpIk8CVCJTjBGLDElPAghJTgKMCosNSU8CD4sbjByLHowfiw+MEIsAjAFMjA6L/4wWTwKMFEyMC0EBN4sNSYsKSU4DDosbjByLHowfiw+MEIsAjAFMjA6L/4wWixOMFEyMC0EBDYsAjAGLD4wQixFAAB+LAFcCAIsIFosETFBQSRUlChZXBgJMUIsPIwiMEIwBiwGMAIsQjA+LByJZIwmLHhJBAJqLGosPE0EAMygiZ4sPFoAQAAAAAAAAAAAAAAAAAAAAAExQJxlMZycQJw1nIicKZUSLF4sAixiI88xIiSIoZUSL/wgoTGeLHhaLGxaLD0lOAxZOAlBMUCcZTGciJwplRIsXiwCLGIjznUiLGhJB++UnBCcPZygiZycZgBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABnJxAnDWeJi/+LEwmM/4seIwhJgQgLiwJMWygiZyJHAowcTwOMH4sPjBCLAIwBTwKMDov/jBaMC4wUixyMG4sfjB6LEIwPiwGMAIsOjA2LFoz/ixSLCyMIjAwjCIwTQv5IIkL6FSInBGVEJw8SRCInCmVEIitlRCcIZUiBCFuxTBaABFQkpZGyGrIashgkshAisgGzIicKZUQWgAFkTFAiuUgnCiJnJwQpZygiZycFImcnBSJnJwknC2eJigICi/8Wi/5MUIABYUxQvkQXiPFsiSInCWVEKRNBACAyByInHmVEDUEAFTIHIicTZUQMQAAIIicYZURBAAIjiSKJIicJZUQpE0EAIDIHIicTZUQPQQAVMgciJxVlRA5AAAgiJxVlREAAAiOJIokiJwllRCInGmVEIicHZUQiJxFlREkiW0sBVwgBSwKBCVtLA4ERW08EgRlbIiceZUQiJxhlRCInE2VEIicVZUQiJxdlRCIqZUQjCCKADHRvdGFsX3N0YWtlZGVEIicbZURJVwAgSwGBIFlLAhVPA04CUlcCACInHGVEIicSZUQiJxZlRE8TTxNPE08TTxNPE08TTxNPE08STxNPE08TTxNPE08TTxNPE08TTxOJigEAMQAiK2VEcghEEkSAB3ZlcnNpb26L/2eJigEAMQAiK2VEcghEEkQri/9niYoCADEAMgkSRIv+OAcyChJBACGL/jgIMhASQQAXI0SxMgqL/7IRIrISshSBBLIQIrIBs4kiQv/m)
    itxn_field ApprovalProgramPages
    // smart_contracts/pool/factory.algo.ts:71-86
    // const newPoolApp = pool.call
    //   .createApplication({
    //     args: [
    //       title,
    //       type,
    //       reward,
    //       new Address(Txn.sender),
    //       marketplace,
    //       stakeKey,
    //       minimumStakeAmount,
    //       gateID,
    //       maxEntries,
    //       this.akitaDAO.value.id,
    //     ],
    //     fee,
    //   })
    intc_1 // 0
    itxn_field OnCompletion
    pushint 6 // appl
    itxn_field TypeEnum
    // smart_contracts/utils/constants.ts:4
    // export const fee: uint64 = 0
    intc_1 // 0
    itxn_field Fee
    // smart_contracts/pool/factory.algo.ts:71-86
    // const newPoolApp = pool.call
    //   .createApplication({
    //     args: [
    //       title,
    //       type,
    //       reward,
    //       new Address(Txn.sender),
    //       marketplace,
    //       stakeKey,
    //       minimumStakeAmount,
    //       gateID,
    //       maxEntries,
    //       this.akitaDAO.value.id,
    //     ],
    //     fee,
    //   })
    itxn_submit
    // smart_contracts/pool/factory.algo.ts:88
    // .createdApp
    gitxn 0 CreatedApplicationID
    // smart_contracts/pool/factory.algo.ts:90
    // return newPoolApp.id
    swap
    retsub

newPool_bool_false@6:
    intc_1 // 0
    b newPool_bool_merge@7

newPool_ternary_false@2:
    // smart_contracts/pool/factory.algo.ts:50
    // : Global.assetOptInMinBalance * 2
    global AssetOptInMinBalance
    intc_3 // 2
    *
    b newPool_ternary_merge@3


// smart_contracts/utils/base-contracts/optin.ts::ContractWithOptIn.optin(payment: uint64, asset: uint64) -> void:
optin:
    // smart_contracts/utils/base-contracts/optin.ts:22
    // optin(payment: gtxn.PaymentTxn, asset: uint64): void {
    proto 2 0
    // smart_contracts/utils/base-contracts/optin.ts:24-31
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: Global.assetOptInMinBalance,
    //   },
    //   ERR_INVALID_PAYMENT
    // )
    frame_dig -2
    gtxns Receiver
    // smart_contracts/utils/base-contracts/optin.ts:27
    // receiver: Global.currentApplicationAddress,
    global CurrentApplicationAddress
    // smart_contracts/utils/base-contracts/optin.ts:24-31
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: Global.assetOptInMinBalance,
    //   },
    //   ERR_INVALID_PAYMENT
    // )
    ==
    bz optin_bool_false@3
    frame_dig -2
    gtxns Amount
    // smart_contracts/utils/base-contracts/optin.ts:28
    // amount: Global.assetOptInMinBalance,
    global AssetOptInMinBalance
    // smart_contracts/utils/base-contracts/optin.ts:24-31
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: Global.assetOptInMinBalance,
    //   },
    //   ERR_INVALID_PAYMENT
    // )
    ==
    bz optin_bool_false@3
    intc_0 // 1

optin_bool_merge@4:
    // smart_contracts/utils/base-contracts/optin.ts:24-31
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: Global.assetOptInMinBalance,
    //   },
    //   ERR_INVALID_PAYMENT
    // )
    assert // Invalid payment
    // smart_contracts/utils/base-contracts/optin.ts:33-38
    // itxn.assetTransfer({
    //   assetReceiver: Global.currentApplicationAddress,
    //   assetAmount: 0,
    //   xferAsset: asset,
    //   fee: 0,
    // }).submit()
    itxn_begin
    // smart_contracts/utils/base-contracts/optin.ts:34
    // assetReceiver: Global.currentApplicationAddress,
    global CurrentApplicationAddress
    frame_dig -1
    itxn_field XferAsset
    // smart_contracts/utils/base-contracts/optin.ts:35
    // assetAmount: 0,
    intc_1 // 0
    itxn_field AssetAmount
    itxn_field AssetReceiver
    // smart_contracts/utils/base-contracts/optin.ts:33-38
    // itxn.assetTransfer({
    //   assetReceiver: Global.currentApplicationAddress,
    //   assetAmount: 0,
    //   xferAsset: asset,
    //   fee: 0,
    // }).submit()
    intc_2 // 4
    itxn_field TypeEnum
    // smart_contracts/utils/base-contracts/optin.ts:37
    // fee: 0,
    intc_1 // 0
    itxn_field Fee
    // smart_contracts/utils/base-contracts/optin.ts:33-38
    // itxn.assetTransfer({
    //   assetReceiver: Global.currentApplicationAddress,
    //   assetAmount: 0,
    //   xferAsset: asset,
    //   fee: 0,
    // }).submit()
    itxn_submit
    retsub

optin_bool_false@3:
    intc_1 // 0
    b optin_bool_merge@4


// smart_contracts/utils/base-contracts/factory.ts::ServiceFactoryContract.updateApplication(newVersion: bytes, newChildVersion: bytes) -> void:
updateApplication:
    // smart_contracts/utils/base-contracts/factory.ts:50-51
    // @abimethod({ allowActions: ['UpdateApplication'] })
    // updateApplication(newVersion: string, newChildVersion: string): void {
    proto 2 0
    // smart_contracts/utils/base-contracts/factory.ts:52
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    // smart_contracts/constants.ts:1
    // export const GlobalStateKeyAkitaDAO = 'akita_dao'
    intc_1 // 0
    bytec_0 // "akita_dao"
    app_global_get_ex
    assert // check GlobalState exists
    // smart_contracts/utils/base-contracts/factory.ts:52
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/constants.ts:3
    // export const GlobalStateKeyVersion = 'version'
    bytec_1 // "version"
    // smart_contracts/utils/base-contracts/factory.ts:53
    // this.version.value = newVersion
    frame_dig -2
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:15
    // export const BaseFactoryGlobalStateKeyChildContractVersion = 'child_contract_version'
    bytec_2 // "child_contract_version"
    // smart_contracts/utils/base-contracts/factory.ts:54
    // this.childContractVersion.value = newChildVersion
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/utils/base-contracts/factory.ts::ServiceFactoryContract.updateAkitaDAO(app: uint64) -> void:
updateAkitaDAO:
    // smart_contracts/utils/base-contracts/factory.ts:59
    // updateAkitaDAO(app: uint64): void {
    proto 1 0
    // smart_contracts/utils/base-contracts/factory.ts:60
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    // smart_contracts/constants.ts:1
    // export const GlobalStateKeyAkitaDAO = 'akita_dao'
    intc_1 // 0
    bytec_0 // "akita_dao"
    app_global_get_ex
    assert // check GlobalState exists
    // smart_contracts/utils/base-contracts/factory.ts:60
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/constants.ts:1
    // export const GlobalStateKeyAkitaDAO = 'akita_dao'
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:61
    // this.akitaDAO.value = Application(app)
    frame_dig -1
    app_global_put
    retsub
