#pragma version 10
#pragma typetrack false

// @algorandfoundation/algorand-typescript/arc4/index.d.ts::Contract.approvalProgram() -> uint64:
main:
    intcblock 0 1 8 2
    bytecblock "akita_dao" "akita_escrow" "version" "child_contract_version" 0x151f7c75
    // smart_contracts/pool/factory.algo.ts:14-17
    // export class PoolFactory extends classes(
    //   BasePool,
    //   ServiceFactoryContract
    // ) implements PoolFactoryInterface {
    pushbytes 0x23cf4fef // method "update(string,string)void"
    txna ApplicationArgs 0
    match main_update_route@4

main_switch_case_next@5:
    // smart_contracts/pool/factory.algo.ts:14-17
    // export class PoolFactory extends classes(
    //   BasePool,
    //   ServiceFactoryContract
    // ) implements PoolFactoryInterface {
    txn OnCompletion
    !
    assert // OnCompletion must be NoOp
    txn ApplicationID
    bz main_create_NoOp@14
    pushbytess 0xea5436ec 0xf1e10b67 0xc7478f9d 0x33e92c94 0x1ead20a9 0xa4b3e789 // method "setEscrow(uint64)void", method "newPool(pay,string,uint8,address,(address,string),uint64,uint64,uint64)uint64", method "deletePool(uint64)void", method "updateAkitaDAO(uint64)void", method "updateAkitaDAOEscrow(uint64)void", method "mbr(uint64)(uint64,uint64,uint64,uint64,uint64)"
    txna ApplicationArgs 0
    match setEscrow newPool deletePool updateAkitaDAO updateAkitaDAOEscrow mbr
    err

main_create_NoOp@14:
    // smart_contracts/pool/factory.algo.ts:14-17
    // export class PoolFactory extends classes(
    //   BasePool,
    //   ServiceFactoryContract
    // ) implements PoolFactoryInterface {
    pushbytes 0x1c7cc2fe // method "create(string,string,uint64)void"
    txna ApplicationArgs 0
    match create
    err

main_update_route@4:
    // smart_contracts/utils/base-contracts/factory.ts:71
    // @abimethod({ allowActions: ['UpdateApplication'] })
    txn OnCompletion
    pushint 4 // UpdateApplication
    ==
    txn ApplicationID
    &&
    assert // OnCompletion must be UpdateApplication && can only call when not creating
    b update


// smart_contracts/pool/factory.algo.ts::PoolFactory.create[routing]() -> void:
create:
    // smart_contracts/pool/factory.algo.ts:23
    // @abimethod({ onCreate: 'require' })
    txna ApplicationArgs 1
    dup
    intc_0 // 0
    extract_uint16
    intc_3 // 2
    +
    dig 1
    len
    ==
    assert // invalid number of bytes for (len+utf8[])
    extract 2 0
    txna ApplicationArgs 2
    dup
    intc_0 // 0
    extract_uint16
    intc_3 // 2
    +
    dig 1
    len
    ==
    assert // invalid number of bytes for (len+utf8[])
    extract 2 0
    txna ApplicationArgs 3
    dup
    len
    intc_2 // 8
    ==
    assert // invalid number of bytes for uint64
    btoi
    // smart_contracts/utils/base-contracts/factory.ts:32
    // version = GlobalState<string>({ key: GlobalStateKeyVersion })
    bytec_2 // "version"
    // smart_contracts/pool/factory.algo.ts:25
    // this.version.value = version
    uncover 3
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    bytec_3 // "child_contract_version"
    // smart_contracts/pool/factory.algo.ts:26
    // this.childContractVersion.value = childVersion
    uncover 2
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/pool/factory.algo.ts:27
    // this.akitaDAO.value = Application(akitaDAO)
    swap
    app_global_put
    // smart_contracts/pool/factory.algo.ts:23
    // @abimethod({ onCreate: 'require' })
    intc_1 // 1
    return


// smart_contracts/pool/factory.algo.ts::PoolFactory.setEscrow[routing]() -> void:
setEscrow:
    // smart_contracts/pool/factory.algo.ts:30
    // setEscrow(escrow: uint64): void {
    txna ApplicationArgs 1
    dup
    len
    intc_2 // 8
    ==
    assert // invalid number of bytes for uint64
    btoi
    // smart_contracts/pool/factory.algo.ts:31
    // assert(this.akitaDAO.value.address === Txn.sender, ERR_NOT_CREATOR)
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/pool/factory.algo.ts:31
    // assert(this.akitaDAO.value.address === Txn.sender, ERR_NOT_CREATOR)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    txn Sender
    ==
    assert // Not creator of the pool
    // smart_contracts/utils/base-contracts/factory.ts:36
    // akitaDAOEscrow = GlobalState<Application>({ key: GlobalStateKeyAkitaEscrow })
    bytec_1 // "akita_escrow"
    // smart_contracts/pool/factory.algo.ts:32
    // this.akitaDAOEscrow.value = Application(escrow)
    swap
    app_global_put
    // smart_contracts/pool/factory.algo.ts:30
    // setEscrow(escrow: uint64): void {
    intc_1 // 1
    return


// smart_contracts/pool/factory.algo.ts::PoolFactory.newPool[routing]() -> void:
newPool:
    // smart_contracts/pool/factory.algo.ts:37-46
    // newPool(
    //   payment: gtxn.PaymentTxn,
    //   title: string,
    //   type: StakingType,
    //   marketplace: Address,
    //   stakeKey: RootKey,
    //   minimumStakeAmount: uint64,
    //   gateID: uint64,
    //   maxEntries: uint64,
    // ): uint64 {
    txn GroupIndex
    intc_1 // 1
    -
    dup
    gtxns TypeEnum
    intc_1 // pay
    ==
    assert // transaction type is pay
    txna ApplicationArgs 1
    dup
    intc_0 // 0
    extract_uint16
    intc_3 // 2
    +
    dig 1
    len
    ==
    assert // invalid number of bytes for (len+utf8[])
    txna ApplicationArgs 2
    dup
    len
    intc_1 // 1
    ==
    assert // invalid number of bytes for uint8
    txna ApplicationArgs 3
    dup
    len
    pushint 32 // 32
    ==
    assert // invalid number of bytes for uint8[32]
    txna ApplicationArgs 4
    txna ApplicationArgs 5
    dup
    len
    intc_2 // 8
    ==
    assert // invalid number of bytes for uint64
    txna ApplicationArgs 6
    dup
    len
    intc_2 // 8
    ==
    assert // invalid number of bytes for uint64
    txna ApplicationArgs 7
    dup
    len
    intc_2 // 8
    ==
    assert // invalid number of bytes for uint64
    // smart_contracts/pool/factory.algo.ts:49
    // const { creationFee } = getStakingFees(this.akitaDAO.value)
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/pool/factory.algo.ts:49
    // const { creationFee } = getStakingFees(this.akitaDAO.value)
    app_global_get_ex
    assert // check GlobalState exists
    // smart_contracts/utils/functions.ts:58
    // const [stakingFeesBytes] = op.AppGlobal.getExBytes(akitaDAO, Bytes(AkitaDAOGlobalStateKeysStakingFees))
    dup
    pushbytes "staking_fees"
    app_global_get_ex
    pop
    // smart_contracts/pool/factory.algo.ts:49
    // const { creationFee } = getStakingFees(this.akitaDAO.value)
    intc_0 // 0
    extract_uint64
    // smart_contracts/pool/factory.algo.ts:53-66
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: (
    //       creationFee +
    //       MAX_PROGRAM_PAGES +
    //       (GLOBAL_STATE_KEY_UINT_COST * pool.globalUints) +
    //       (GLOBAL_STATE_KEY_BYTES_COST * pool.globalBytes) +
    //       Global.minBalance +
    //       fcosts.appCreators
    //     ),
    //   }
    // )
    dig 9
    gtxns Receiver
    // smart_contracts/pool/factory.algo.ts:56
    // receiver: Global.currentApplicationAddress,
    global CurrentApplicationAddress
    // smart_contracts/pool/factory.algo.ts:53-66
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: (
    //       creationFee +
    //       MAX_PROGRAM_PAGES +
    //       (GLOBAL_STATE_KEY_UINT_COST * pool.globalUints) +
    //       (GLOBAL_STATE_KEY_BYTES_COST * pool.globalBytes) +
    //       Global.minBalance +
    //       fcosts.appCreators
    //     ),
    //   }
    // )
    ==
    uncover 10
    gtxns Amount
    // smart_contracts/pool/factory.algo.ts:58-61
    // creationFee +
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * pool.globalUints) +
    // (GLOBAL_STATE_KEY_BYTES_COST * pool.globalBytes) +
    dig 2
    pushint 1256000 // 1256000
    +
    // smart_contracts/pool/factory.algo.ts:62
    // Global.minBalance +
    global MinBalance
    // smart_contracts/pool/factory.algo.ts:58-62
    // creationFee +
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * pool.globalUints) +
    // (GLOBAL_STATE_KEY_BYTES_COST * pool.globalBytes) +
    // Global.minBalance +
    +
    // smart_contracts/pool/factory.algo.ts:63
    // fcosts.appCreators
    pushint 21700 // 21700
    // smart_contracts/pool/factory.algo.ts:58-63
    // creationFee +
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * pool.globalUints) +
    // (GLOBAL_STATE_KEY_BYTES_COST * pool.globalBytes) +
    // Global.minBalance +
    // fcosts.appCreators
    +
    // smart_contracts/pool/factory.algo.ts:53-66
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: (
    //       creationFee +
    //       MAX_PROGRAM_PAGES +
    //       (GLOBAL_STATE_KEY_UINT_COST * pool.globalUints) +
    //       (GLOBAL_STATE_KEY_BYTES_COST * pool.globalBytes) +
    //       Global.minBalance +
    //       fcosts.appCreators
    //     ),
    //   }
    // )
    ==
    &&
    assert // assert target is match for conditions
    // smart_contracts/pool/factory.algo.ts:68-73
    // itxn
    //   .payment({
    //     receiver: this.akitaDAOEscrow.value.address,
    //     amount: creationFee,
    //   })
    //   .submit()
    itxn_begin
    // smart_contracts/pool/factory.algo.ts:70
    // receiver: this.akitaDAOEscrow.value.address,
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:36
    // akitaDAOEscrow = GlobalState<Application>({ key: GlobalStateKeyAkitaEscrow })
    bytec_1 // "akita_escrow"
    // smart_contracts/pool/factory.algo.ts:70
    // receiver: this.akitaDAOEscrow.value.address,
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    itxn_field Receiver
    itxn_field Amount
    // smart_contracts/pool/factory.algo.ts:68-72
    // itxn
    //   .payment({
    //     receiver: this.akitaDAOEscrow.value.address,
    //     amount: creationFee,
    //   })
    intc_1 // 1
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee
    // smart_contracts/pool/factory.algo.ts:68-73
    // itxn
    //   .payment({
    //     receiver: this.akitaDAOEscrow.value.address,
    //     amount: creationFee,
    //   })
    //   .submit()
    itxn_submit
    // smart_contracts/pool/factory.algo.ts:75-88
    // const newPoolApp = pool.call
    //   .create({
    //     args: [
    //       title,
    //       type,
    //       new Address(Txn.sender),
    //       marketplace,
    //       stakeKey,
    //       minimumStakeAmount,
    //       gateID,
    //       maxEntries,
    //       this.akitaDAO.value.id,
    //     ],
    //   })
    itxn_begin
    // smart_contracts/pool/factory.algo.ts:80
    // new Address(Txn.sender),
    txn Sender
    // smart_contracts/pool/factory.algo.ts:86
    // this.akitaDAO.value.id,
    swap
    itob
    // smart_contracts/pool/factory.algo.ts:75-88
    // const newPoolApp = pool.call
    //   .create({
    //     args: [
    //       title,
    //       type,
    //       new Address(Txn.sender),
    //       marketplace,
    //       stakeKey,
    //       minimumStakeAmount,
    //       gateID,
    //       maxEntries,
    //       this.akitaDAO.value.id,
    //     ],
    //   })
    pushbytes 0xd5f3c06a // method "create(string,uint8,address,address,(address,string),uint64,uint64,uint64,uint64)void"
    itxn_field ApplicationArgs
    uncover 8
    itxn_field ApplicationArgs
    uncover 7
    itxn_field ApplicationArgs
    swap
    itxn_field ApplicationArgs
    uncover 5
    itxn_field ApplicationArgs
    uncover 4
    itxn_field ApplicationArgs
    uncover 3
    itxn_field ApplicationArgs
    uncover 2
    itxn_field ApplicationArgs
    swap
    itxn_field ApplicationArgs
    itxn_field ApplicationArgs
    // smart_contracts/pool/factory.algo.ts:51
    // const pool = compileArc4(Pool)
    intc_3 // 2
    itxn_field ExtraProgramPages
    intc_2 // 8
    itxn_field GlobalNumByteSlice
    pushint 16 // 16
    itxn_field GlobalNumUint
    pushbytes base64(CoEBQw==)
    itxn_field ClearStateProgramPages
    pushbytes base64(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)
    itxn_field ApprovalProgramPages
    pushbytes base64(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)
    itxn_field ApprovalProgramPages
    // smart_contracts/pool/factory.algo.ts:75-88
    // const newPoolApp = pool.call
    //   .create({
    //     args: [
    //       title,
    //       type,
    //       new Address(Txn.sender),
    //       marketplace,
    //       stakeKey,
    //       minimumStakeAmount,
    //       gateID,
    //       maxEntries,
    //       this.akitaDAO.value.id,
    //     ],
    //   })
    intc_0 // 0
    itxn_field OnCompletion
    pushint 6 // appl
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee
    itxn_submit
    // smart_contracts/pool/factory.algo.ts:90
    // .createdApp
    gitxn 0 CreatedApplicationID
    // smart_contracts/pool/factory.algo.ts:37-46
    // newPool(
    //   payment: gtxn.PaymentTxn,
    //   title: string,
    //   type: StakingType,
    //   marketplace: Address,
    //   stakeKey: RootKey,
    //   minimumStakeAmount: uint64,
    //   gateID: uint64,
    //   maxEntries: uint64,
    // ): uint64 {
    itob
    bytec 4 // 0x151f7c75
    swap
    concat
    log
    intc_1 // 1
    return


// smart_contracts/pool/factory.algo.ts::PoolFactory.deletePool[routing]() -> void:
deletePool:
    // smart_contracts/pool/factory.algo.ts:95
    // deletePool(poolID: uint64): void {
    txna ApplicationArgs 1
    dup
    len
    intc_2 // 8
    ==
    assert // invalid number of bytes for uint64
    btoi
    // smart_contracts/pool/factory.algo.ts:96
    // assert(Application(poolID).creator === Global.currentApplicationAddress, ERR_NOT_CREATOR)
    dup
    app_params_get AppCreator
    assert // application exists
    global CurrentApplicationAddress
    ==
    assert // Not creator of the pool
    // smart_contracts/pool/factory.algo.ts:98-104
    // abiCall(
    //   Pool.prototype.delete,
    //   {
    //     appId: Application(poolID),
    //     args: [ new Address(Txn.sender) ],
    //   }
    // )
    itxn_begin
    // smart_contracts/pool/factory.algo.ts:102
    // args: [ new Address(Txn.sender) ],
    txn Sender
    // smart_contracts/pool/factory.algo.ts:98-104
    // abiCall(
    //   Pool.prototype.delete,
    //   {
    //     appId: Application(poolID),
    //     args: [ new Address(Txn.sender) ],
    //   }
    // )
    pushbytes 0xab8b213a // method "delete(address)void"
    itxn_field ApplicationArgs
    itxn_field ApplicationArgs
    itxn_field ApplicationID
    pushint 6 // appl
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee
    itxn_submit
    // smart_contracts/pool/factory.algo.ts:95
    // deletePool(poolID: uint64): void {
    intc_1 // 1
    return


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.update[routing]() -> void:
update:
    // smart_contracts/utils/base-contracts/factory.ts:71
    // @abimethod({ allowActions: ['UpdateApplication'] })
    txna ApplicationArgs 1
    dup
    intc_0 // 0
    extract_uint16
    intc_3 // 2
    +
    dig 1
    len
    ==
    assert // invalid number of bytes for (len+utf8[])
    extract 2 0
    txna ApplicationArgs 2
    dup
    intc_0 // 0
    extract_uint16
    intc_3 // 2
    +
    dig 1
    len
    ==
    assert // invalid number of bytes for (len+utf8[])
    extract 2 0
    // smart_contracts/utils/base-contracts/factory.ts:73
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:73
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:32
    // version = GlobalState<string>({ key: GlobalStateKeyVersion })
    bytec_2 // "version"
    // smart_contracts/utils/base-contracts/factory.ts:74
    // this.version.value = newVersion
    uncover 2
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    bytec_3 // "child_contract_version"
    // smart_contracts/utils/base-contracts/factory.ts:75
    // this.childContractVersion.value = newChildVersion
    swap
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:71
    // @abimethod({ allowActions: ['UpdateApplication'] })
    intc_1 // 1
    return


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.updateAkitaDAO[routing]() -> void:
updateAkitaDAO:
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    txna ApplicationArgs 1
    dup
    len
    intc_2 // 8
    ==
    assert // invalid number of bytes for uint64
    btoi
    // smart_contracts/utils/base-contracts/factory.ts:81
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:81
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:82
    // this.akitaDAO.value = Application(app)
    swap
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    intc_1 // 1
    return


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.updateAkitaDAOEscrow[routing]() -> void:
updateAkitaDAOEscrow:
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    txna ApplicationArgs 1
    dup
    len
    intc_2 // 8
    ==
    assert // invalid number of bytes for uint64
    btoi
    // smart_contracts/utils/base-contracts/factory.ts:86
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:86
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:36
    // akitaDAOEscrow = GlobalState<Application>({ key: GlobalStateKeyAkitaEscrow })
    bytec_1 // "akita_escrow"
    // smart_contracts/utils/base-contracts/factory.ts:87
    // this.akitaDAOEscrow.value = Application(app)
    swap
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    intc_1 // 1
    return


// smart_contracts/pool/base.ts::BasePool.mbr[routing]() -> void:
mbr:
    // smart_contracts/pool/base.ts:13
    // @abimethod({ readonly: true })
    txna ApplicationArgs 1
    dup
    len
    intc_2 // 8
    ==
    assert // invalid number of bytes for uint64
    btoi
    // smart_contracts/pool/base.ts:9
    // return MinPoolRewardsMBR + (BoxCostPerByte * winningTickets)
    pushint 400 // 400
    *
    // smart_contracts/pool/base.ts:15-21
    // return {
    //   entries: PoolEntriesMBR,
    //   uniques: PoolUniquesMBR,
    //   entriesByAddress: PoolEntriesByAddressMBR,
    //   rewards: this.rewardsMbr(winningTickets),
    //   disbursements: PoolDisbursementSMBR
    // }
    itob
    pushbytes 0x00000000000062d400000000000049d400000000000062d4
    swap
    concat
    // smart_contracts/pool/base.ts:20
    // disbursements: PoolDisbursementSMBR
    pushint 6100 // 6100
    // smart_contracts/pool/base.ts:15-21
    // return {
    //   entries: PoolEntriesMBR,
    //   uniques: PoolUniquesMBR,
    //   entriesByAddress: PoolEntriesByAddressMBR,
    //   rewards: this.rewardsMbr(winningTickets),
    //   disbursements: PoolDisbursementSMBR
    // }
    itob
    concat
    // smart_contracts/pool/base.ts:13
    // @abimethod({ readonly: true })
    bytec 4 // 0x151f7c75
    swap
    concat
    log
    intc_1 // 1
    return
