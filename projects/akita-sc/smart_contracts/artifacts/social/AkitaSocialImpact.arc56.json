{
    "name": "AkitaSocialImpact",
    "structs": {
        "ImpactMetaValue": [
            {
                "name": "subscriptionIndex",
                "type": "uint64"
            },
            {
                "name": "NFD",
                "type": "uint64"
            },
            {
                "name": "nfdTimeChanged",
                "type": "uint64"
            },
            {
                "name": "nfdImpact",
                "type": "uint64"
            },
            {
                "name": "akitaNFT",
                "type": "uint64"
            }
        ]
    },
    "methods": [
        {
            "name": "create",
            "args": [
                {
                    "type": "uint64",
                    "name": "akitaDAO"
                },
                {
                    "type": "string",
                    "name": "version"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [
                    "NoOp"
                ],
                "call": []
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "cacheMeta",
            "args": [
                {
                    "type": "address",
                    "name": "address"
                },
                {
                    "type": "uint64",
                    "name": "subscriptionIndex"
                },
                {
                    "type": "uint64",
                    "name": "NFDAppID"
                },
                {
                    "type": "uint64",
                    "name": "akitaAssetID"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "updateSubscriptionStateModifier",
            "args": [
                {
                    "type": "pay",
                    "name": "payment"
                },
                {
                    "type": "uint64",
                    "name": "subscriptionIndex"
                },
                {
                    "type": "uint64",
                    "name": "newModifier"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getUserImpactWithoutSocial",
            "args": [
                {
                    "type": "address",
                    "name": "address"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getUserImpact",
            "args": [
                {
                    "type": "address",
                    "name": "address"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getMeta",
            "args": [
                {
                    "type": "address",
                    "name": "user"
                }
            ],
            "returns": {
                "type": "(uint64,uint64,uint64,uint64,uint64)",
                "struct": "ImpactMetaValue"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "update",
            "args": [
                {
                    "type": "string",
                    "name": "newVersion"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "UpdateApplication"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "updateAkitaDAO",
            "args": [
                {
                    "type": "uint64",
                    "name": "app"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        }
    ],
    "arcs": [
        22,
        28
    ],
    "networks": {},
    "state": {
        "schema": {
            "global": {
                "ints": 1,
                "bytes": 1
            },
            "local": {
                "ints": 0,
                "bytes": 0
            }
        },
        "keys": {
            "global": {
                "version": {
                    "keyType": "AVMString",
                    "valueType": "AVMString",
                    "key": "dmVyc2lvbg==",
                    "desc": "the current version of the contract"
                },
                "akitaDAO": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "YWtpdGFfZGFv",
                    "desc": "the app ID of the Akita DAO"
                }
            },
            "local": {},
            "box": {}
        },
        "maps": {
            "global": {},
            "local": {},
            "box": {
                "meta": {
                    "keyType": "address",
                    "valueType": "ImpactMetaValue",
                    "desc": "A map of the meta data for each user",
                    "prefix": "bQ=="
                },
                "subscriptionStateModifier": {
                    "keyType": "uint64",
                    "valueType": "uint64",
                    "desc": "A map of how each akita subscription affects impact calculation",
                    "prefix": "cw=="
                }
            }
        }
    },
    "bareActions": {
        "create": [],
        "call": []
    },
    "sourceInfo": {
        "approval": {
            "sourceInfo": [
                {
                    "pc": [
                        522,
                        653,
                        731,
                        1855
                    ],
                    "errorMessage": "Box must have value"
                },
                {
                    "pc": [
                        436,
                        589,
                        724,
                        1029,
                        1171,
                        1218
                    ],
                    "errorMessage": "Bytes has valid prefix"
                },
                {
                    "pc": [
                        760
                    ],
                    "errorMessage": "Invalid NFD"
                },
                {
                    "pc": [
                        1825
                    ],
                    "errorMessage": "Invalid payment"
                },
                {
                    "pc": [
                        762
                    ],
                    "errorMessage": "NFD changed since impact last calculated"
                },
                {
                    "pc": [
                        1073
                    ],
                    "errorMessage": "Not a social plugin"
                },
                {
                    "pc": [
                        1174
                    ],
                    "errorMessage": "Not an NFD"
                },
                {
                    "pc": [
                        1739
                    ],
                    "errorMessage": "Not an akita NFT"
                },
                {
                    "pc": [
                        1088
                    ],
                    "errorMessage": "Not an akita subscription contract"
                },
                {
                    "pc": [
                        1796
                    ],
                    "errorMessage": "Not the DAO"
                },
                {
                    "pc": [
                        211,
                        247,
                        266,
                        286,
                        306,
                        336,
                        368
                    ],
                    "errorMessage": "OnCompletion is not NoOp"
                },
                {
                    "pc": [
                        229
                    ],
                    "errorMessage": "OnCompletion is not UpdateApplication"
                },
                {
                    "pc": [
                        1870,
                        1890
                    ],
                    "errorMessage": "Only the Akita DAO can call this function"
                },
                {
                    "pc": [
                        1302
                    ],
                    "errorMessage": "User does not own this NFD"
                },
                {
                    "pc": [
                        1747
                    ],
                    "errorMessage": "User does not own this NFT"
                },
                {
                    "pc": [
                        445,
                        1071,
                        1794,
                        1868,
                        1888
                    ],
                    "errorMessage": "application exists"
                },
                {
                    "pc": [
                        796,
                        835,
                        1735
                    ],
                    "errorMessage": "asset exists"
                },
                {
                    "pc": [
                        372
                    ],
                    "errorMessage": "can only call when creating"
                },
                {
                    "pc": [
                        214,
                        232,
                        250,
                        269,
                        289,
                        309,
                        339
                    ],
                    "errorMessage": "can only call when not creating"
                },
                {
                    "pc": [
                        395,
                        537,
                        684,
                        766,
                        1062,
                        1116,
                        1350,
                        1791,
                        1865,
                        1885
                    ],
                    "errorMessage": "check GlobalState exists"
                },
                {
                    "pc": [
                        319
                    ],
                    "errorMessage": "transaction type is pay"
                }
            ],
            "pcOffsetMethod": "none"
        },
        "clear": {
            "sourceInfo": [],
            "pcOffsetMethod": "none"
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDYgMzIgMTAwMDAwMDAwMDAwMCAyMDAwMDAwMDAwMDAgMzE1MzYwMDAgMTAwMDAwMDAwMDAKICAgIGJ5dGVjYmxvY2sgImFraXRhX2RhbyIgMHgxNTFmN2M3NSAiYWtpdGFfYWwiICJtIiAiYWtpdGFfYXNzZXRzIiAiaS50aW1lQ2hhbmdlZCIgYmFzZTMyKEFLQ1RSREs0T1dOV0hUUEg0WFBLTE5XTkxaMzMzVkUzNVNLUTRGR1FLM1pKQTRGSUhDTFEpIDB4NmMxM2VkZTQgInZlcnNpb24iICJvdGhlcl9hbCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTYzCiAgICAvLyBleHBvcnQgY2xhc3MgQWtpdGFTb2NpYWxJbXBhY3QgZXh0ZW5kcyBBa2l0YUJhc2VDb250cmFjdCBpbXBsZW1lbnRzIEFraXRhU29jaWFsSW1wYWN0SW50ZXJmYWNlIHsKICAgIHR4biBOdW1BcHBBcmdzCiAgICBieiBtYWluX2FmdGVyX2lmX2Vsc2VAMTQKICAgIHB1c2hieXRlc3MgMHg2Zjk4MTdmNiAweDI3ZTNiYjRmIDB4OWQ3NGY1YTEgMHhmODFjN2I2MiAweGQ1NzRiYjEwIDB4YjZlYzZhNWQgMHhlYTkxODBkZCAweDMzZTkyYzk0IC8vIG1ldGhvZCAiY3JlYXRlKHVpbnQ2NCxzdHJpbmcpdm9pZCIsIG1ldGhvZCAiY2FjaGVNZXRhKGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQpdWludDY0IiwgbWV0aG9kICJ1cGRhdGVTdWJzY3JpcHRpb25TdGF0ZU1vZGlmaWVyKHBheSx1aW50NjQsdWludDY0KXZvaWQiLCBtZXRob2QgImdldFVzZXJJbXBhY3RXaXRob3V0U29jaWFsKGFkZHJlc3MpdWludDY0IiwgbWV0aG9kICJnZXRVc2VySW1wYWN0KGFkZHJlc3MpdWludDY0IiwgbWV0aG9kICJnZXRNZXRhKGFkZHJlc3MpKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpIiwgbWV0aG9kICJ1cGRhdGUoc3RyaW5nKXZvaWQiLCBtZXRob2QgInVwZGF0ZUFraXRhREFPKHVpbnQ2NCl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggbWFpbl9jcmVhdGVfcm91dGVAMyBtYWluX2NhY2hlTWV0YV9yb3V0ZUA0IG1haW5fdXBkYXRlU3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcl9yb3V0ZUA1IG1haW5fZ2V0VXNlckltcGFjdFdpdGhvdXRTb2NpYWxfcm91dGVANiBtYWluX2dldFVzZXJJbXBhY3Rfcm91dGVANyBtYWluX2dldE1ldGFfcm91dGVAOCBtYWluX3VwZGF0ZV9yb3V0ZUA5IG1haW5fdXBkYXRlQWtpdGFEQU9fcm91dGVAMTAKCm1haW5fYWZ0ZXJfaWZfZWxzZUAxNDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTYzCiAgICAvLyBleHBvcnQgY2xhc3MgQWtpdGFTb2NpYWxJbXBhY3QgZXh0ZW5kcyBBa2l0YUJhc2VDb250cmFjdCBpbXBsZW1lbnRzIEFraXRhU29jaWFsSW1wYWN0SW50ZXJmYWNlIHsKICAgIGludGNfMCAvLyAwCiAgICByZXR1cm4KCm1haW5fdXBkYXRlQWtpdGFEQU9fcm91dGVAMTA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoyNgogICAgLy8gdXBkYXRlQWtpdGFEQU8oYXBwOiB1aW50NjQpOiB2b2lkIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1NjMKICAgIC8vIGV4cG9ydCBjbGFzcyBBa2l0YVNvY2lhbEltcGFjdCBleHRlbmRzIEFraXRhQmFzZUNvbnRyYWN0IGltcGxlbWVudHMgQWtpdGFTb2NpYWxJbXBhY3RJbnRlcmZhY2UgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MjYKICAgIC8vIHVwZGF0ZUFraXRhREFPKGFwcDogdWludDY0KTogdm9pZCB7CiAgICBjYWxsc3ViIHVwZGF0ZUFraXRhREFPCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX3VwZGF0ZV9yb3V0ZUA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MTgKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6IFsnVXBkYXRlQXBwbGljYXRpb24nXSB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgcHVzaGludCA0IC8vIFVwZGF0ZUFwcGxpY2F0aW9uCiAgICA9PQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgVXBkYXRlQXBwbGljYXRpb24KICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1NjMKICAgIC8vIGV4cG9ydCBjbGFzcyBBa2l0YVNvY2lhbEltcGFjdCBleHRlbmRzIEFraXRhQmFzZUNvbnRyYWN0IGltcGxlbWVudHMgQWtpdGFTb2NpYWxJbXBhY3RJbnRlcmZhY2UgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZXh0cmFjdCAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjE4CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiBbJ1VwZGF0ZUFwcGxpY2F0aW9uJ10gfSkKICAgIGNhbGxzdWIgdXBkYXRlCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dldE1ldGFfcm91dGVAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxOTExCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1NjMKICAgIC8vIGV4cG9ydCBjbGFzcyBBa2l0YVNvY2lhbEltcGFjdCBleHRlbmRzIEFraXRhQmFzZUNvbnRyYWN0IGltcGxlbWVudHMgQWtpdGFTb2NpYWxJbXBhY3RJbnRlcmZhY2UgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE5MTEKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgY2FsbHN1YiBnZXRNZXRhCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dldFVzZXJJbXBhY3Rfcm91dGVANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxOTA2CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1NjMKICAgIC8vIGV4cG9ydCBjbGFzcyBBa2l0YVNvY2lhbEltcGFjdCBleHRlbmRzIEFraXRhQmFzZUNvbnRyYWN0IGltcGxlbWVudHMgQWtpdGFTb2NpYWxJbXBhY3RJbnRlcmZhY2UgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE5MDYKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgY2FsbHN1YiBnZXRVc2VySW1wYWN0CiAgICBpdG9iCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dldFVzZXJJbXBhY3RXaXRob3V0U29jaWFsX3JvdXRlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTkwMQogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTYzCiAgICAvLyBleHBvcnQgY2xhc3MgQWtpdGFTb2NpYWxJbXBhY3QgZXh0ZW5kcyBBa2l0YUJhc2VDb250cmFjdCBpbXBsZW1lbnRzIEFraXRhU29jaWFsSW1wYWN0SW50ZXJmYWNlIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxOTAxCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGNhbGxzdWIgZ2V0VXNlckltcGFjdFdpdGhvdXRTb2NpYWwKICAgIGl0b2IKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fdXBkYXRlU3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcl9yb3V0ZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4ODMKICAgIC8vIHVwZGF0ZVN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIocGF5bWVudDogZ3R4bi5QYXltZW50VHhuLCBzdWJzY3JpcHRpb25JbmRleDogdWludDY0LCBuZXdNb2RpZmllcjogdWludDY0KTogdm9pZCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTYzCiAgICAvLyBleHBvcnQgY2xhc3MgQWtpdGFTb2NpYWxJbXBhY3QgZXh0ZW5kcyBBa2l0YUJhc2VDb250cmFjdCBpbXBsZW1lbnRzIEFraXRhU29jaWFsSW1wYWN0SW50ZXJmYWNlIHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4ODMKICAgIC8vIHVwZGF0ZVN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIocGF5bWVudDogZ3R4bi5QYXltZW50VHhuLCBzdWJzY3JpcHRpb25JbmRleDogdWludDY0LCBuZXdNb2RpZmllcjogdWludDY0KTogdm9pZCB7CiAgICBjYWxsc3ViIHVwZGF0ZVN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fY2FjaGVNZXRhX3JvdXRlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTg0OAogICAgLy8gY2FjaGVNZXRhKGFkZHJlc3M6IEFkZHJlc3MsIHN1YnNjcmlwdGlvbkluZGV4OiB1aW50NjQsIE5GREFwcElEOiB1aW50NjQsIGFraXRhQXNzZXRJRDogdWludDY0KTogdWludDY0IHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1NjMKICAgIC8vIGV4cG9ydCBjbGFzcyBBa2l0YVNvY2lhbEltcGFjdCBleHRlbmRzIEFraXRhQmFzZUNvbnRyYWN0IGltcGxlbWVudHMgQWtpdGFTb2NpYWxJbXBhY3RJbnRlcmZhY2UgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4NDgKICAgIC8vIGNhY2hlTWV0YShhZGRyZXNzOiBBZGRyZXNzLCBzdWJzY3JpcHRpb25JbmRleDogdWludDY0LCBORkRBcHBJRDogdWludDY0LCBha2l0YUFzc2V0SUQ6IHVpbnQ2NCk6IHVpbnQ2NCB7CiAgICBjYWxsc3ViIGNhY2hlTWV0YQogICAgaXRvYgogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9jcmVhdGVfcm91dGVAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxODQwCiAgICAvLyBAYWJpbWV0aG9kKHsgb25DcmVhdGU6ICdyZXF1aXJlJyB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTYzCiAgICAvLyBleHBvcnQgY2xhc3MgQWtpdGFTb2NpYWxJbXBhY3QgZXh0ZW5kcyBBa2l0YUJhc2VDb250cmFjdCBpbXBsZW1lbnRzIEFraXRhU29jaWFsSW1wYWN0SW50ZXJmYWNlIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGV4dHJhY3QgMiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTg0MAogICAgLy8gQGFiaW1ldGhvZCh7IG9uQ3JlYXRlOiAncmVxdWlyZScgfSkKICAgIGNhbGxzdWIgY3JlYXRlCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjpBa2l0YVNvY2lhbEltcGFjdC5pc1N1YnNjcmliZWQoYWNjb3VudDogYnl0ZXMsIGluZGV4OiB1aW50NjQpIC0+IGJ5dGVzOgppc1N1YnNjcmliZWQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU4NQogICAgLy8gcHJpdmF0ZSBpc1N1YnNjcmliZWQoYWNjb3VudDogQWNjb3VudCwgaW5kZXg6IHVpbnQ2NCk6IHsgYWN0aXZlOiBib29sZWFuOyBzZXJ2aWNlSUQ6IHVpbnQ2NDsgc3RyZWFrOiB1aW50NjQgfSB7CiAgICBwcm90byAyIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTg2LTE1OTIKICAgIC8vIGNvbnN0IGluZm8gPSBhYmlDYWxsKAogICAgLy8gICBTdWJzY3JpcHRpb25zLnByb3RvdHlwZS5nZXRTdWJzY3JpcHRpb25JbmZvLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IGdldEFraXRhQXBwTGlzdCh0aGlzLmFraXRhREFPLnZhbHVlKS5zdWJzY3JpcHRpb25zLAogICAgLy8gICAgIGFyZ3M6IFtuZXcgQWRkcmVzcyhhY2NvdW50KSwgaW5kZXhdCiAgICAvLyAgIH0sCiAgICAvLyApLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoxNAogICAgLy8gYWtpdGFEQU8gPSBHbG9iYWxTdGF0ZTxBcHBsaWNhdGlvbj4oeyBrZXk6IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gfSkKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNQogICAgLy8gY29uc3QgW2FwcExpc3RCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhha2l0YURBTywgQnl0ZXMoQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNBa2l0YUFwcExpc3QpKQogICAgZHVwCiAgICBieXRlY18yIC8vICJha2l0YV9hbCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTg5CiAgICAvLyBhcHBJZDogZ2V0QWtpdGFBcHBMaXN0KHRoaXMuYWtpdGFEQU8udmFsdWUpLnN1YnNjcmlwdGlvbnMsCiAgICBpbnRjXzMgLy8gMzIKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU5MAogICAgLy8gYXJnczogW25ldyBBZGRyZXNzKGFjY291bnQpLCBpbmRleF0KICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1ODYtMTU5MgogICAgLy8gY29uc3QgaW5mbyA9IGFiaUNhbGwoCiAgICAvLyAgIFN1YnNjcmlwdGlvbnMucHJvdG90eXBlLmdldFN1YnNjcmlwdGlvbkluZm8sCiAgICAvLyAgIHsKICAgIC8vICAgICBhcHBJZDogZ2V0QWtpdGFBcHBMaXN0KHRoaXMuYWtpdGFEQU8udmFsdWUpLnN1YnNjcmlwdGlvbnMsCiAgICAvLyAgICAgYXJnczogW25ldyBBZGRyZXNzKGFjY291bnQpLCBpbmRleF0KICAgIC8vICAgfSwKICAgIC8vICkucmV0dXJuVmFsdWUKICAgIHB1c2hieXRlcyAweDdmOTc5YWEzIC8vIG1ldGhvZCAiZ2V0U3Vic2NyaXB0aW9uSW5mbyhieXRlWzMyXSx1aW50NjQpKGJ5dGVbMzJdLHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LGJ5dGVbMzJdW10pIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyAtMgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIGludGNfMiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU5NQogICAgLy8gY29uc3QgdG9Ba2l0YSA9IGluZm8ucmVjaXBpZW50Lm5hdGl2ZSA9PT0gdGhpcy5ha2l0YURBTy52YWx1ZS5hZGRyZXNzCiAgICBkdXAKICAgIGV4dHJhY3QgNCAzMgogICAgdW5jb3ZlciAyCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1OTkKICAgIC8vIGNvbnN0IG5vdERvbmF0aW5nID0gaW5mby5zZXJ2aWNlSUQgIT09IDAKICAgIGRpZyAxCiAgICBwdXNoaW50IDM2IC8vIDM2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgIT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjAxCiAgICAvLyBjb25zdCBsYXN0V2luZG93U3RhcnQ6IHVpbnQ2NCA9IEdsb2JhbC5sYXRlc3RUaW1lc3RhbXAgLSAoKChHbG9iYWwubGF0ZXN0VGltZXN0YW1wIC0gaW5mby5zdGFydERhdGUpICUgaW5mby5pbnRlcnZhbCkgKyBpbmZvLmludGVydmFsKQogICAgZ2xvYmFsIExhdGVzdFRpbWVzdGFtcAogICAgZHVwCiAgICBkaWcgNQogICAgcHVzaGludCA0NCAvLyA0NAogICAgZXh0cmFjdF91aW50NjQKICAgIC0KICAgIGRpZyA1CiAgICBwdXNoaW50IDYwIC8vIDYwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgc3dhcAogICAgZGlnIDEKICAgICUKICAgICsKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjA1CiAgICAvLyBjb25zdCBub3RTdGFsZSA9IGluZm8ubGFzdFBheW1lbnQgPiBsYXN0V2luZG93U3RhcnQKICAgIGRpZyA0CiAgICBwdXNoaW50IDg0IC8vIDg0CiAgICBleHRyYWN0X3VpbnQ2NAogICAgPAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MDgKICAgIC8vIGFjdGl2ZTogdG9Ba2l0YSAmJiBub3REb25hdGluZyAmJiBub3RTdGFsZSwKICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICAmJgogICAgJiYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjEwCiAgICAvLyBzdHJlYWs6IGluZm8uc3RyZWFrLAogICAgdW5jb3ZlciAyCiAgICBwdXNoaW50IDkyIC8vIDkyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MDctMTYxMQogICAgLy8gcmV0dXJuIHsKICAgIC8vICAgYWN0aXZlOiB0b0FraXRhICYmIG5vdERvbmF0aW5nICYmIG5vdFN0YWxlLAogICAgLy8gICBzZXJ2aWNlSUQ6IGluZm8uc2VydmljZUlELAogICAgLy8gICBzdHJlYWs6IGluZm8uc3RyZWFrLAogICAgLy8gfQogICAgcHVzaGJ5dGVzIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDMKICAgIHNldGJpdAogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjpBa2l0YVNvY2lhbEltcGFjdC51c2VySW1wYWN0KGFjY291bnQ6IGJ5dGVzLCBpbmNsdWRlU29jaWFsOiB1aW50NjQpIC0+IHVpbnQ2NDoKdXNlckltcGFjdDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjUzCiAgICAvLyBwcml2YXRlIHVzZXJJbXBhY3QoYWNjb3VudDogQWNjb3VudCwgaW5jbHVkZVNvY2lhbDogYm9vbGVhbik6IHVpbnQ2NCB7CiAgICBwcm90byAyIDEKICAgIGludGNfMCAvLyAwCiAgICBkdXAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU2OAogICAgLy8gbWV0YSA9IEJveE1hcDxBY2NvdW50LCBJbXBhY3RNZXRhVmFsdWU+KHsga2V5UHJlZml4OiBJbXBhY3RCb3hQcmVmaXhNZXRhIH0pCiAgICBieXRlY18zIC8vICJtIgogICAgZnJhbWVfZGlnIC0yCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2NTQKICAgIC8vIGNvbnN0IHsgc3Vic2NyaXB0aW9uSW5kZXgsIE5GRCwgYWtpdGFORlQgfSA9IHRoaXMubWV0YShhY2NvdW50KS52YWx1ZQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBzd2FwCiAgICBkdXAKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgc3dhcAogICAgaW50Y18zIC8vIDMyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MTQKICAgIC8vIGFraXRhREFPID0gR2xvYmFsU3RhdGU8QXBwbGljYXRpb24+KHsga2V5OiBHbG9iYWxTdGF0ZUtleUFraXRhREFPIH0pCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMCAvLyAiYWtpdGFfZGFvIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6NjkKICAgIC8vIGNvbnN0IGFraXRhQXNzZXRzQnl0ZXMgPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhha2l0YURBTywgQnl0ZXMoQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNBa2l0YUFzc2V0cykpWzBdCiAgICBkdXAKICAgIGJ5dGVjIDQgLy8gImFraXRhX2Fzc2V0cyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjczCiAgICAvLyBjb25zdCBha3RhID0gZ2V0QWtpdGFBc3NldHModGhpcy5ha2l0YURBTy52YWx1ZSkuYWt0YQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY3NS0xNjg3CiAgICAvLyBjb25zdCBpbmZvID0gYWJpQ2FsbCgKICAgIC8vICAgU3Rha2luZy5wcm90b3R5cGUuZ2V0SW5mbywKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiBnZXRBa2l0YUFwcExpc3QodGhpcy5ha2l0YURBTy52YWx1ZSkuc3Rha2luZywKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICBuZXcgQWRkcmVzcyhhY2NvdW50KSwKICAgIC8vICAgICAgIHsKICAgIC8vICAgICAgICAgYXNzZXQ6IGFrdGEsCiAgICAvLyAgICAgICAgIHR5cGU6IFNUQUtJTkdfVFlQRV9TT0ZULAogICAgLy8gICAgICAgfQogICAgLy8gICAgIF0KICAgIC8vICAgfQogICAgLy8gKS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNQogICAgLy8gY29uc3QgW2FwcExpc3RCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhha2l0YURBTywgQnl0ZXMoQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNBa2l0YUFwcExpc3QpKQogICAgc3dhcAogICAgYnl0ZWNfMiAvLyAiYWtpdGFfYWwiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY3OAogICAgLy8gYXBwSWQ6IGdldEFraXRhQXBwTGlzdCh0aGlzLmFraXRhREFPLnZhbHVlKS5zdGFraW5nLAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY4MS0xNjg0CiAgICAvLyB7CiAgICAvLyAgIGFzc2V0OiBha3RhLAogICAgLy8gICB0eXBlOiBTVEFLSU5HX1RZUEVfU09GVCwKICAgIC8vIH0KICAgIHN3YXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjgzCiAgICAvLyB0eXBlOiBTVEFLSU5HX1RZUEVfU09GVCwKICAgIHB1c2hieXRlcyAweDE0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY4MS0xNjg0CiAgICAvLyB7CiAgICAvLyAgIGFzc2V0OiBha3RhLAogICAgLy8gICB0eXBlOiBTVEFLSU5HX1RZUEVfU09GVCwKICAgIC8vIH0KICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2NzUtMTY4NwogICAgLy8gY29uc3QgaW5mbyA9IGFiaUNhbGwoCiAgICAvLyAgIFN0YWtpbmcucHJvdG90eXBlLmdldEluZm8sCiAgICAvLyAgIHsKICAgIC8vICAgICBhcHBJZDogZ2V0QWtpdGFBcHBMaXN0KHRoaXMuYWtpdGFEQU8udmFsdWUpLnN0YWtpbmcsCiAgICAvLyAgICAgYXJnczogWwogICAgLy8gICAgICAgbmV3IEFkZHJlc3MoYWNjb3VudCksCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIGFzc2V0OiBha3RhLAogICAgLy8gICAgICAgICB0eXBlOiBTVEFLSU5HX1RZUEVfU09GVCwKICAgIC8vICAgICAgIH0KICAgIC8vICAgICBdCiAgICAvLyAgIH0KICAgIC8vICkucmV0dXJuVmFsdWUKICAgIHB1c2hieXRlcyAweDQwZTkxNGU2IC8vIG1ldGhvZCAiZ2V0SW5mbyhieXRlWzMyXSwodWludDY0LHVpbnQ4KSkodWludDY0LHVpbnQ2NCx1aW50NjQpIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyAtMgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIGludGNfMiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY4OQogICAgLy8gY29uc3QgZWxhcHNlZDogdWludDY0ID0gR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCAtIGluZm8ubGFzdFVwZGF0ZQogICAgZ2xvYmFsIExhdGVzdFRpbWVzdGFtcAogICAgZGlnIDEKICAgIHB1c2hpbnQgMTIgLy8gMTIKICAgIGV4dHJhY3RfdWludDY0CiAgICAtCiAgICBzd2FwCiAgICBwdXNoaW50IDQgLy8gNAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2OTIKICAgIC8vIGlmIChpbmZvLmFtb3VudCA8IFRFTl9USE9VU0FORF9BS0lUQSB8fCBlbGFwc2VkIDwgVEhJUlRZX0RBWVMpIHsKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGludGMgNyAvLyAxMDAwMDAwMDAwMAogICAgPAogICAgYm56IHVzZXJJbXBhY3RfaWZfYm9keUAyNwogICAgZnJhbWVfZGlnIDE0CiAgICBwdXNoaW50IDI1OTIwMDAgLy8gMjU5MjAwMAogICAgPAogICAgYnogdXNlckltcGFjdF9hZnRlcl9pZl9lbHNlQDI4Cgp1c2VySW1wYWN0X2lmX2JvZHlAMjc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY5MwogICAgLy8gcmV0dXJuIDAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDYKCnVzZXJJbXBhY3RfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldFN0YWtpbmdJbXBhY3RTY29yZUAzMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzIyCiAgICAvLyBsZXQgc3Vic2NyaWJlckltcGFjdDogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgNwogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE3MjQKICAgIC8vIGNvbnN0IHN1YnNjcmlwdGlvblN0YXRlID0gdGhpcy5pc1N1YnNjcmliZWQoYWNjb3VudCwgc3Vic2NyaXB0aW9uSW5kZXgpCiAgICBmcmFtZV9kaWcgLTIKICAgIGZyYW1lX2RpZyAxMQogICAgY2FsbHN1YiBpc1N1YnNjcmliZWQKICAgIGR1cAogICAgZnJhbWVfYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTcyNgogICAgLy8gaWYgKCFzdWJzY3JpcHRpb25TdGF0ZS5hY3RpdmUpIHsKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIGJ6IHVzZXJJbXBhY3RfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldFN1YnNjcmliZXJJbXBhY3RTY29yZUAzOQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE3MzAKICAgIC8vIGNvbnN0IG1vZGlmaWVyID0gdGhpcy5zdWJzY3JpcHRpb25TdGF0ZU1vZGlmaWVyKHN1YnNjcmlwdGlvblN0YXRlLnNlcnZpY2VJRCkudmFsdWUKICAgIGZyYW1lX2RpZyAxCiAgICBkdXAKICAgIGludGNfMSAvLyAxCiAgICBleHRyYWN0X3VpbnQ2NAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1NzAKICAgIC8vIHN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIgPSBCb3hNYXA8dWludDY0LCB1aW50NjQ+KHsga2V5UHJlZml4OiBJbXBhY3RCb3hQcmVmaXhTdWJzY3JpcHRpb25TdGF0ZU1vZGlmaWVyIH0pCiAgICBwdXNoYnl0ZXMgInMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzMwCiAgICAvLyBjb25zdCBtb2RpZmllciA9IHRoaXMuc3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcihzdWJzY3JpcHRpb25TdGF0ZS5zZXJ2aWNlSUQpLnZhbHVlCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgYnRvaQogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE3MzMKICAgIC8vIGlmIChzdWJzY3JpcHRpb25TdGF0ZS5zdHJlYWsgPj0gMTIpIHsKICAgIHB1c2hpbnQgOSAvLyA5CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDkKICAgIHB1c2hpbnQgMTIgLy8gMTIKICAgID49CiAgICBieiB1c2VySW1wYWN0X2Vsc2VfYm9keUAzNwogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE3MzQKICAgIC8vIHN1YnNjcmliZXJJbXBhY3QgKz0gMjUwIC8gbW9kaWZpZXIKICAgIHB1c2hpbnQgMjUwIC8vIDI1MAogICAgc3dhcAogICAgLwogICAgZnJhbWVfYnVyeSA3Cgp1c2VySW1wYWN0X2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjpBa2l0YVNvY2lhbEltcGFjdC5nZXRTdWJzY3JpYmVySW1wYWN0U2NvcmVAMzk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY1OAogICAgLy8gY29uc3Qgc29jaWFsSW1wYWN0ID0gaW5jbHVkZVNvY2lhbCA/IHRoaXMuZ2V0U29jaWFsSW1wYWN0U2NvcmUoYWNjb3VudCkgOiBVaW50NjQoMCkgLy8gU29jaWFsIEFjdGl2aXR5IHwgdXAgdG8gMjUwCiAgICBmcmFtZV9kaWcgLTEKICAgIGJ6IHVzZXJJbXBhY3RfdGVybmFyeV9mYWxzZUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTc0My0xNzQ5CiAgICAvLyByZXR1cm4gYWJpQ2FsbCgKICAgIC8vICAgQWtpdGFTb2NpYWwucHJvdG90eXBlLmdldFVzZXJTb2NpYWxJbXBhY3QsCiAgICAvLyAgIHsKICAgIC8vICAgICBhcHBJZDogZ2V0QWtpdGFBcHBMaXN0KHRoaXMuYWtpdGFEQU8udmFsdWUpLnNvY2lhbCwKICAgIC8vICAgICBhcmdzOiBbbmV3IEFkZHJlc3MoYWNjb3VudCldCiAgICAvLyAgIH0KICAgIC8vICkucmV0dXJuVmFsdWUKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjE0CiAgICAvLyBha2l0YURBTyA9IEdsb2JhbFN0YXRlPEFwcGxpY2F0aW9uPih7IGtleTogR2xvYmFsU3RhdGVLZXlBa2l0YURBTyB9KQogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gImFraXRhX2RhbyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI1CiAgICAvLyBjb25zdCBbYXBwTGlzdEJ5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKGFraXRhREFPLCBCeXRlcyhBa2l0YURBT0dsb2JhbFN0YXRlS2V5c0FraXRhQXBwTGlzdCkpCiAgICBieXRlY18yIC8vICJha2l0YV9hbCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzQ2CiAgICAvLyBhcHBJZDogZ2V0QWtpdGFBcHBMaXN0KHRoaXMuYWtpdGFEQU8udmFsdWUpLnNvY2lhbCwKICAgIHB1c2hpbnQgOTYgLy8gOTYKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTc0My0xNzQ5CiAgICAvLyByZXR1cm4gYWJpQ2FsbCgKICAgIC8vICAgQWtpdGFTb2NpYWwucHJvdG90eXBlLmdldFVzZXJTb2NpYWxJbXBhY3QsCiAgICAvLyAgIHsKICAgIC8vICAgICBhcHBJZDogZ2V0QWtpdGFBcHBMaXN0KHRoaXMuYWtpdGFEQU8udmFsdWUpLnNvY2lhbCwKICAgIC8vICAgICBhcmdzOiBbbmV3IEFkZHJlc3MoYWNjb3VudCldCiAgICAvLyAgIH0KICAgIC8vICkucmV0dXJuVmFsdWUKICAgIHB1c2hieXRlcyAweDUzMjE1NWEyIC8vIG1ldGhvZCAiZ2V0VXNlclNvY2lhbEltcGFjdChieXRlWzMyXSl1aW50NjQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIC0yCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBpbnRjXzIgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBzd2FwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIGJ0b2kKICAgIGZyYW1lX2J1cnkgNQoKdXNlckltcGFjdF90ZXJuYXJ5X21lcmdlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTgxNQogICAgLy8gY29uc3QgeyBORkQsIG5mZFRpbWVDaGFuZ2VkLCBuZmRJbXBhY3QgfSA9IHRoaXMubWV0YShhY2NvdW50KS52YWx1ZQogICAgZnJhbWVfZGlnIDEwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZHVwCiAgICBwdXNoaW50IDggLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAxCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgdW5jb3ZlciAyCiAgICBwdXNoaW50IDI0IC8vIDI0CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZnJhbWVfYnVyeSA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTgxNgogICAgLy8gY29uc3QgdGltZUNoYW5nZWQgPSBidG9pKG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKE5GRCwgQnl0ZXMoTkZER2xvYmFsU3RhdGVLZXlzVGltZUNoYW5nZWQpKVswXSkKICAgIGRpZyAxCiAgICBieXRlYyA1IC8vICJpLnRpbWVDaGFuZ2VkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4MTgKICAgIC8vIGFzc2VydChORkRBcHAuaWQgPT09IEFwcGxpY2F0aW9uKE5GRCkuaWQsIEVSUl9JTlZBTElEX05GRCkKICAgIGZyYW1lX2RpZyAxMgogICAgdW5jb3ZlciAzCiAgICA9PQogICAgYXNzZXJ0IC8vIEludmFsaWQgTkZECiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTgxOQogICAgLy8gYXNzZXJ0KG5mZFRpbWVDaGFuZ2VkID09PSB0aW1lQ2hhbmdlZCwgRVJSX05GRF9DSEFOR0VEKQogICAgPT0KICAgIGFzc2VydCAvLyBORkQgY2hhbmdlZCBzaW5jZSBpbXBhY3QgbGFzdCBjYWxjdWxhdGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoxNAogICAgLy8gYWtpdGFEQU8gPSBHbG9iYWxTdGF0ZTxBcHBsaWNhdGlvbj4oeyBrZXk6IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gfSkKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo2OQogICAgLy8gY29uc3QgYWtpdGFBc3NldHNCeXRlcyA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKGFraXRhREFPLCBCeXRlcyhBa2l0YURBT0dsb2JhbFN0YXRlS2V5c0FraXRhQXNzZXRzKSlbMF0KICAgIGJ5dGVjIDQgLy8gImFraXRhX2Fzc2V0cyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzA5CiAgICAvLyBjb25zdCBha3RhID0gZ2V0QWtpdGFBc3NldHModGhpcy5ha2l0YURBTy52YWx1ZSkuYWt0YQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTcxMAogICAgLy8gY29uc3QgYmFsYW5jZSA9IEFzc2V0SG9sZGluZy5hc3NldEJhbGFuY2UoYWNjb3VudCwgYWt0YSlbMF0KICAgIGZyYW1lX2RpZyAtMgogICAgc3dhcAogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBwb3AKICAgIGR1cAogICAgZnJhbWVfYnVyeSAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTcxMwogICAgLy8gaWYgKGJhbGFuY2UgPCBURU5fVEhPVVNBTkRfQUtJVEEpIHsKICAgIGludGMgNyAvLyAxMDAwMDAwMDAwMAogICAgPAogICAgYnogdXNlckltcGFjdF9hZnRlcl9pZl9lbHNlQDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTcxNAogICAgLy8gcmV0dXJuIDAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDMKCnVzZXJJbXBhY3RfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldEhlbGRBa3RhSW1wYWN0U2NvcmVAMTE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTgyNQogICAgLy8gY29uc3QgcHJlZml4ID0gYXNzZXQudW5pdE5hbWUuc2xpY2UoMCwgMykKICAgIGZyYW1lX2RpZyAxMwogICAgZHVwCiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0VW5pdE5hbWUKICAgIGFzc2VydCAvLyBhc3NldCBleGlzdHMKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzAgLy8gMAogICAgZGlnIDEKICAgID49CiAgICBpbnRjXzAgLy8gMAogICAgZGlnIDIKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBwdXNoaW50IDMgLy8gMwogICAgZGlnIDIKICAgID49CiAgICBwdXNoaW50IDMgLy8gMwogICAgdW5jb3ZlciAzCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgc3Vic3RyaW5nMwogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTgyNgogICAgLy8gY29uc3QgYmFsYW5jZSA9IEFzc2V0SG9sZGluZy5hc3NldEJhbGFuY2UoYWNjb3VudCwgYXNzZXQpWzBdCiAgICBmcmFtZV9kaWcgLTIKICAgIGRpZyAxCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIHBvcAogICAgZnJhbWVfYnVyeSAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTgyNwogICAgLy8gaWYgKGFzc2V0LmNyZWF0b3IgPT09IEFjY291bnQoQWtpdGFORlRDcmVhdG9yQWRkcmVzcykgJiYgYmFsYW5jZSA+IDApIHsKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRDcmVhdG9yCiAgICBhc3NlcnQgLy8gYXNzZXQgZXhpc3RzCiAgICBieXRlYyA2IC8vIGFkZHIgQUtDVFJESzRPV05XSFRQSDRYUEtMTldOTFozMzNWRTM1U0tRNEZHUUszWkpBNEZJSENMVFJHM1BGSQogICAgPT0KICAgIGJ6IHVzZXJJbXBhY3RfYWZ0ZXJfaWZfZWxzZUAxOQogICAgZnJhbWVfZGlnIDIKICAgIGJ6IHVzZXJJbXBhY3RfYWZ0ZXJfaWZfZWxzZUAxOQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4MjgKICAgIC8vIGlmIChwcmVmaXggPT09IEJ5dGVzKEFraXRhQ29sbGVjdGlvbnNQcmVmaXhBS0MpKSB7CiAgICBmcmFtZV9kaWcgMAogICAgcHVzaGJ5dGVzICJBS0MiCiAgICA9PQogICAgYnogdXNlckltcGFjdF9hZnRlcl9pZl9lbHNlQDE2CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTgyOQogICAgLy8gcmV0dXJuIDUwCiAgICBwdXNoaW50IDUwIC8vIDUwCgp1c2VySW1wYWN0X2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjpBa2l0YVNvY2lhbEltcGFjdC5nZXRORlRJbXBhY3RTY29yZUAyMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjYzCiAgICAvLyBjb25zdCB0b3RhbDogdWludDY0ID0gc3Rha2VkQWt0YUltcGFjdCArIHN1YnNjcmliZXJJbXBhY3QgKyBzb2NpYWxJbXBhY3QgKyBuZmRTY29yZSArIGhlbGRBa2l0YUltcGFjdCArIG5mdEltcGFjdAogICAgZnJhbWVfZGlnIDYKICAgIGZyYW1lX2RpZyA3CiAgICArCiAgICBmcmFtZV9kaWcgNQogICAgKwogICAgZnJhbWVfZGlnIDQKICAgICsKICAgIGZyYW1lX2RpZyAzCiAgICArCiAgICArCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgOAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2NjQKICAgIC8vIGlmICh0b3RhbCA9PT0gMCkgewogICAgYm56IHVzZXJJbXBhY3RfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY2NQogICAgLy8gcmV0dXJuIDEKICAgIGludGNfMSAvLyAxCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKdXNlckltcGFjdF9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY2OAogICAgLy8gcmV0dXJuIHRvdGFsCiAgICBmcmFtZV9kaWcgOAogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCnVzZXJJbXBhY3RfYWZ0ZXJfaWZfZWxzZUAxNjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxODMxCiAgICAvLyBpZiAocHJlZml4ID09PSBCeXRlcyhBa2l0YUNvbGxlY3Rpb25zUHJlZml4QU9HKSkgewogICAgZnJhbWVfZGlnIDAKICAgIHB1c2hieXRlcyAiQU9HIgogICAgPT0KICAgIGJ6IHVzZXJJbXBhY3RfYWZ0ZXJfaWZfZWxzZUAxOQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4MzIKICAgIC8vIHJldHVybiAyNQogICAgcHVzaGludCAyNSAvLyAyNQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2NjEKICAgIC8vIGNvbnN0IG5mdEltcGFjdCA9IHRoaXMuZ2V0TkZUSW1wYWN0U2NvcmUoYWNjb3VudCwgQXNzZXQoYWtpdGFORlQpKSAvLyBIb2xkcyBBS0MvT21uaWdlbSB8IDUwCiAgICBiIHVzZXJJbXBhY3RfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldE5GVEltcGFjdFNjb3JlQDIwCgp1c2VySW1wYWN0X2FmdGVyX2lmX2Vsc2VAMTk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTgzNQogICAgLy8gcmV0dXJuIDAKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY2MQogICAgLy8gY29uc3QgbmZ0SW1wYWN0ID0gdGhpcy5nZXRORlRJbXBhY3RTY29yZShhY2NvdW50LCBBc3NldChha2l0YU5GVCkpIC8vIEhvbGRzIEFLQy9PbW5pZ2VtIHwgNTAKICAgIGIgdXNlckltcGFjdF9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czo6QWtpdGFTb2NpYWxJbXBhY3QuZ2V0TkZUSW1wYWN0U2NvcmVAMjAKCnVzZXJJbXBhY3RfYWZ0ZXJfaWZfZWxzZUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzE3CiAgICAvLyBjb25zdCBjYXBwZWQgPSBiYWxhbmNlID49IE9ORV9NSUxMSU9OX0FLSVRBID8gT05FX01JTExJT05fQUtJVEEgOiBiYWxhbmNlCiAgICBmcmFtZV9kaWcgMgogICAgZHVwCiAgICBpbnRjIDQgLy8gMTAwMDAwMDAwMDAwMAogICAgPj0KICAgIGludGMgNCAvLyAxMDAwMDAwMDAwMDAwCiAgICBzd2FwCiAgICBzZWxlY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzE4CiAgICAvLyByZXR1cm4gKGNhcHBlZCAqIDUwKSAvIE9ORV9NSUxMSU9OX0FLSVRBCiAgICBwdXNoaW50IDUwIC8vIDUwCiAgICAqCiAgICBpbnRjIDQgLy8gMTAwMDAwMDAwMDAwMAogICAgLwogICAgZnJhbWVfYnVyeSAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY2MAogICAgLy8gY29uc3QgaGVsZEFraXRhSW1wYWN0ID0gdGhpcy5nZXRIZWxkQWt0YUltcGFjdFNjb3JlKGFjY291bnQpIC8vIEhlbGQgQUtUQSB8IHVwIHRvIDUwCiAgICBiIHVzZXJJbXBhY3RfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldEhlbGRBa3RhSW1wYWN0U2NvcmVAMTEKCnVzZXJJbXBhY3RfdGVybmFyeV9mYWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2NTgKICAgIC8vIGNvbnN0IHNvY2lhbEltcGFjdCA9IGluY2x1ZGVTb2NpYWwgPyB0aGlzLmdldFNvY2lhbEltcGFjdFNjb3JlKGFjY291bnQpIDogVWludDY0KDApIC8vIFNvY2lhbCBBY3Rpdml0eSB8IHVwIHRvIDI1MAogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgNQogICAgYiB1c2VySW1wYWN0X3Rlcm5hcnlfbWVyZ2VAMwoKdXNlckltcGFjdF9lbHNlX2JvZHlAMzc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTczNgogICAgLy8gc3Vic2NyaWJlckltcGFjdCArPSAoc3Vic2NyaXB0aW9uU3RhdGUuc3RyZWFrICogMjApIC8gbW9kaWZpZXIKICAgIGZyYW1lX2RpZyA5CiAgICBwdXNoaW50IDIwIC8vIDIwCiAgICAqCiAgICBzd2FwCiAgICAvCiAgICBmcmFtZV9idXJ5IDcKICAgIGIgdXNlckltcGFjdF9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czo6QWtpdGFTb2NpYWxJbXBhY3QuZ2V0U3Vic2NyaWJlckltcGFjdFNjb3JlQDM5Cgp1c2VySW1wYWN0X2FmdGVyX2lmX2Vsc2VAMjg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY5NwogICAgLy8gY29uc3QgYW10Q2FwcGVkID0gaW5mby5hbW91bnQgPj0gVFdPX0hVTkRSRURfVEhPVVNBTkRfQUtJVEEgPyBUV09fSFVORFJFRF9USE9VU0FORF9BS0lUQSA6IGluZm8uYW1vdW50CiAgICBmcmFtZV9kaWcgMTUKICAgIGludGMgNSAvLyAyMDAwMDAwMDAwMDAKICAgID49CiAgICBieiB1c2VySW1wYWN0X3Rlcm5hcnlfZmFsc2VAMzAKICAgIGludGMgNSAvLyAyMDAwMDAwMDAwMDAKCnVzZXJJbXBhY3RfdGVybmFyeV9tZXJnZUAzMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzAwCiAgICAvLyBjb25zdCBtYXhTY29yZTogdWludDY0ID0gKGFtdENhcHBlZCAqIDI1MCkgLyBUV09fSFVORFJFRF9USE9VU0FORF9BS0lUQQogICAgcHVzaGludCAyNTAgLy8gMjUwCiAgICAqCiAgICBpbnRjIDUgLy8gMjAwMDAwMDAwMDAwCiAgICAvCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTcwMwogICAgLy8gY29uc3QgdGltZUNhcHBlZCA9IGVsYXBzZWQgPj0gT05FX1lFQVIgPyBPTkVfWUVBUiA6IGVsYXBzZWQKICAgIGZyYW1lX2RpZyAxNAogICAgZHVwCiAgICBpbnRjIDYgLy8gMzE1MzYwMDAKICAgID49CiAgICBpbnRjIDYgLy8gMzE1MzYwMDAKICAgIHN3YXAKICAgIHNlbGVjdAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE3MDUKICAgIC8vIHJldHVybiAodGltZUNhcHBlZCAqIG1heFNjb3JlKSAvIE9ORV9ZRUFSCiAgICAqCiAgICBpbnRjIDYgLy8gMzE1MzYwMDAKICAgIC8KICAgIGZyYW1lX2J1cnkgNgogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2NTYKICAgIC8vIGNvbnN0IHN0YWtlZEFrdGFJbXBhY3QgPSB0aGlzLmdldFN0YWtpbmdJbXBhY3RTY29yZShhY2NvdW50KSAvLyBTdGFrZWQgQUtUQSB8IHVwIHRvIDI1MAogICAgYiB1c2VySW1wYWN0X2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjpBa2l0YVNvY2lhbEltcGFjdC5nZXRTdGFraW5nSW1wYWN0U2NvcmVAMzIKCnVzZXJJbXBhY3RfdGVybmFyeV9mYWxzZUAzMDoKICAgIGZyYW1lX2RpZyAxNQogICAgYiB1c2VySW1wYWN0X3Rlcm5hcnlfbWVyZ2VAMzEKCgovLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0Lm5mZFJlYWRGaWVsZChORkRBcHA6IHVpbnQ2NCwgZmllbGQ6IGJ5dGVzKSAtPiBieXRlczoKbmZkUmVhZEZpZWxkOgogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE3NTIKICAgIC8vIHByaXZhdGUgbmZkUmVhZEZpZWxkKE5GREFwcDogQXBwbGljYXRpb24sIGZpZWxkOiBzdHJpbmcpOiBieXRlcyB7CiAgICBwcm90byAyIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzUzLTE3NTkKICAgIC8vIGNvbnN0IGZpZWxkQnl0ZXMgPSBhYmlDYWxsKAogICAgLy8gICBORkQucHJvdG90eXBlLnJlYWRGaWVsZCwKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiBORkRBcHAuaWQsCiAgICAvLyAgICAgYXJnczogW0J5dGVzKGZpZWxkKV0KICAgIC8vICAgfQogICAgLy8gKS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE3NTcKICAgIC8vIGFyZ3M6IFtCeXRlcyhmaWVsZCldCiAgICBmcmFtZV9kaWcgLTEKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTc1My0xNzU5CiAgICAvLyBjb25zdCBmaWVsZEJ5dGVzID0gYWJpQ2FsbCgKICAgIC8vICAgTkZELnByb3RvdHlwZS5yZWFkRmllbGQsCiAgICAvLyAgIHsKICAgIC8vICAgICBhcHBJZDogTkZEQXBwLmlkLAogICAgLy8gICAgIGFyZ3M6IFtCeXRlcyhmaWVsZCldCiAgICAvLyAgIH0KICAgIC8vICkucmV0dXJuVmFsdWUKICAgIGJ5dGVjIDcgLy8gbWV0aG9kICJyZWFkRmllbGQoYnl0ZVtdKWJ5dGVbXSIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIC0yCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIGludGNfMiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CiAgICBleHRyYWN0IDYgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE3NjEKICAgIC8vIHJldHVybiBmaWVsZEJ5dGVzCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmNyZWF0ZShha2l0YURBTzogdWludDY0LCB2ZXJzaW9uOiBieXRlcykgLT4gdm9pZDoKY3JlYXRlOgogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4NDAtMTg0MQogICAgLy8gQGFiaW1ldGhvZCh7IG9uQ3JlYXRlOiAncmVxdWlyZScgfSkKICAgIC8vIGNyZWF0ZShha2l0YURBTzogdWludDY0LCB2ZXJzaW9uOiBzdHJpbmcpOiB2b2lkIHsKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MTIKICAgIC8vIHZlcnNpb24gPSBHbG9iYWxTdGF0ZTxzdHJpbmc+KHsga2V5OiBHbG9iYWxTdGF0ZUtleVZlcnNpb24gfSkKICAgIGJ5dGVjIDggLy8gInZlcnNpb24iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTg0MgogICAgLy8gdGhpcy52ZXJzaW9uLnZhbHVlID0gdmVyc2lvbgogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MTQKICAgIC8vIGFraXRhREFPID0gR2xvYmFsU3RhdGU8QXBwbGljYXRpb24+KHsga2V5OiBHbG9iYWxTdGF0ZUtleUFraXRhREFPIH0pCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTg0MwogICAgLy8gdGhpcy5ha2l0YURBTy52YWx1ZSA9IEFwcGxpY2F0aW9uKGFraXRhREFPKQogICAgZnJhbWVfZGlnIC0yCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjpBa2l0YVNvY2lhbEltcGFjdC5jYWNoZU1ldGEoYWRkcmVzczogYnl0ZXMsIHN1YnNjcmlwdGlvbkluZGV4OiB1aW50NjQsIE5GREFwcElEOiB1aW50NjQsIGFraXRhQXNzZXRJRDogdWludDY0KSAtPiB1aW50NjQ6CmNhY2hlTWV0YToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxODQ4CiAgICAvLyBjYWNoZU1ldGEoYWRkcmVzczogQWRkcmVzcywgc3Vic2NyaXB0aW9uSW5kZXg6IHVpbnQ2NCwgTkZEQXBwSUQ6IHVpbnQ2NCwgYWtpdGFBc3NldElEOiB1aW50NjQpOiB1aW50NjQgewogICAgcHJvdG8gNCAxCiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiA1CiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cG4gNAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4NDkKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSBBcHBsaWNhdGlvbihnZXRBa2l0YUFwcExpc3QodGhpcy5ha2l0YURBTy52YWx1ZSkuc29jaWFsKS5hZGRyZXNzLCBFUlJfTk9UX1NPQ0lBTCkKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjE0CiAgICAvLyBha2l0YURBTyA9IEdsb2JhbFN0YXRlPEFwcGxpY2F0aW9uPih7IGtleTogR2xvYmFsU3RhdGVLZXlBa2l0YURBTyB9KQogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gImFraXRhX2RhbyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI1CiAgICAvLyBjb25zdCBbYXBwTGlzdEJ5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKGFraXRhREFPLCBCeXRlcyhBa2l0YURBT0dsb2JhbFN0YXRlS2V5c0FraXRhQXBwTGlzdCkpCiAgICBieXRlY18yIC8vICJha2l0YV9hbCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxODQ5CiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gQXBwbGljYXRpb24oZ2V0QWtpdGFBcHBMaXN0KHRoaXMuYWtpdGFEQU8udmFsdWUpLnNvY2lhbCkuYWRkcmVzcywgRVJSX05PVF9TT0NJQUwpCiAgICBwdXNoaW50IDk2IC8vIDk2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgPT0KICAgIGFzc2VydCAvLyBOb3QgYSBzb2NpYWwgcGx1Z2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTg1MQogICAgLy8gaWYgKHN1YnNjcmlwdGlvbkluZGV4ICE9PSAwKSB7CiAgICBmcmFtZV9kaWcgLTMKICAgIGJ6IGNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxODUyCiAgICAvLyBhc3NlcnQodGhpcy5pc1N1YnNjcmliZWQoYWRkcmVzcy5uYXRpdmUsIHN1YnNjcmlwdGlvbkluZGV4KS5hY3RpdmUsIEVSUl9OT1RfQV9TVUJTQ1JJUFRJT04pCiAgICBmcmFtZV9kaWcgLTQKICAgIGZyYW1lX2RpZyAtMwogICAgY2FsbHN1YiBpc1N1YnNjcmliZWQKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIGFzc2VydCAvLyBOb3QgYW4gYWtpdGEgc3Vic2NyaXB0aW9uIGNvbnRyYWN0CgpjYWNoZU1ldGFfYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4NTUKICAgIC8vIGxldCBuZmRUaW1lQ2hhbmdlZDogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgOQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4NTYKICAgIC8vIGxldCBuZmRJbXBhY3Q6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxODU3CiAgICAvLyBpZiAoTkZEQXBwSUQgIT09IDApIHsKICAgIGZyYW1lX2RpZyAtMgogICAgYnogY2FjaGVNZXRhX2FmdGVyX2lmX2Vsc2VANAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MTUKICAgIC8vIGNvbnN0IFtuZmROYW1lQnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoTkZEQXBwLCBCeXRlcyhORkRHbG9iYWxTdGF0ZUtleXNOYW1lKSkKICAgIGZyYW1lX2RpZyAtMgogICAgcHVzaGJ5dGVzICJpLm5hbWUiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYxNy0xNjIzCiAgICAvLyByZXR1cm4gYWJpQ2FsbCgKICAgIC8vICAgTkZEUmVnaXN0cnkucHJvdG90eXBlLmlzVmFsaWROZmRBcHBJZCwKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiBnZXRPdGhlckFwcExpc3QodGhpcy5ha2l0YURBTy52YWx1ZSkubmZkUmVnaXN0cnksCiAgICAvLyAgICAgYXJnczogW1N0cmluZyhuZmROYW1lQnl0ZXMpLCBORkRBcHAuaWRdCiAgICAvLyAgIH0KICAgIC8vICkucmV0dXJuVmFsdWUKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjE0CiAgICAvLyBha2l0YURBTyA9IEdsb2JhbFN0YXRlPEFwcGxpY2F0aW9uPih7IGtleTogR2xvYmFsU3RhdGVLZXlBa2l0YURBTyB9KQogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gImFraXRhX2RhbyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjM1CiAgICAvLyBjb25zdCBbb3RoZXJBcHBMaXN0Qnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoYWtpdGFEQU8sIEJ5dGVzKEFraXRhREFPR2xvYmFsU3RhdGVLZXlzT3RoZXJBcHBMaXN0KSkKICAgIGJ5dGVjIDkgLy8gIm90aGVyX2FsIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MjAKICAgIC8vIGFwcElkOiBnZXRPdGhlckFwcExpc3QodGhpcy5ha2l0YURBTy52YWx1ZSkubmZkUmVnaXN0cnksCiAgICBwdXNoaW50IDggLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjIxCiAgICAvLyBhcmdzOiBbU3RyaW5nKG5mZE5hbWVCeXRlcyksIE5GREFwcC5pZF0KICAgIGRpZyAxCiAgICBsZW4KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYxNy0xNjIzCiAgICAvLyByZXR1cm4gYWJpQ2FsbCgKICAgIC8vICAgTkZEUmVnaXN0cnkucHJvdG90eXBlLmlzVmFsaWROZmRBcHBJZCwKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiBnZXRPdGhlckFwcExpc3QodGhpcy5ha2l0YURBTy52YWx1ZSkubmZkUmVnaXN0cnksCiAgICAvLyAgICAgYXJnczogW1N0cmluZyhuZmROYW1lQnl0ZXMpLCBORkRBcHAuaWRdCiAgICAvLyAgIH0KICAgIC8vICkucmV0dXJuVmFsdWUKICAgIHB1c2hieXRlcyAweDRiZTIyZmM2IC8vIG1ldGhvZCAiaXNWYWxpZE5mZEFwcElkKHN0cmluZyx1aW50NjQpYm9vbCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgaW50Y18yIC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gTGFzdExvZwogICAgZHVwCiAgICBleHRyYWN0IDQgMAogICAgc3dhcAogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTg1OQogICAgLy8gYXNzZXJ0KHRoaXMuaXNORkQobmZkQXBwKSwgRVJSX05PVF9BTl9ORkQpCiAgICBhc3NlcnQgLy8gTm90IGFuIE5GRAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MjgtMTYzNwogICAgLy8gY29uc3QgY2FBbGdvRGF0YSA9IGFiaUNhbGwoCiAgICAvLyAgIE5GRC5wcm90b3R5cGUucmVhZEZpZWxkLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IE5GREFwcC5pZCwKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICBCeXRlcyhORkRNZXRhS2V5VmVyaWZpZWRBZGRyZXNzZXMpCiAgICAvLyAgICAgXSwKICAgIC8vIAogICAgLy8gICB9LAogICAgLy8gKS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgYnl0ZWMgNyAvLyBtZXRob2QgInJlYWRGaWVsZChieXRlW10pYnl0ZVtdIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjMzCiAgICAvLyBCeXRlcyhORkRNZXRhS2V5VmVyaWZpZWRBZGRyZXNzZXMpCiAgICBwdXNoYnl0ZXMgMHgwMDBkNzYyZTYzNjE0MTZjNjc2ZjJlMzAyZTYxNzMKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MjgtMTYzNwogICAgLy8gY29uc3QgY2FBbGdvRGF0YSA9IGFiaUNhbGwoCiAgICAvLyAgIE5GRC5wcm90b3R5cGUucmVhZEZpZWxkLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IE5GREFwcC5pZCwKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICBCeXRlcyhORkRNZXRhS2V5VmVyaWZpZWRBZGRyZXNzZXMpCiAgICAvLyAgICAgXSwKICAgIC8vIAogICAgLy8gICB9LAogICAgLy8gKS5yZXR1cm5WYWx1ZQogICAgaW50Y18yIC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gTGFzdExvZwogICAgZHVwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIGV4dHJhY3QgNiAwCiAgICBmcmFtZV9idXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjM5CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgY2FBbGdvRGF0YS5sZW5ndGg7IGkgKz0gMzIpIHsKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDYKCmNhY2hlTWV0YV93aGlsZV90b3BAMTQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYzOQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGNhQWxnb0RhdGEubGVuZ3RoOyBpICs9IDMyKSB7CiAgICBmcmFtZV9kaWcgMQogICAgbGVuCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMTAKICAgIGZyYW1lX2RpZyA2CiAgICA+CiAgICBieiBjYWNoZU1ldGFfYWZ0ZXJfd2hpbGVAMTkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjQwCiAgICAvLyBjb25zdCBhZGRyID0gY2FBbGdvRGF0YS5zbGljZShpLCBpICsgMzIpCiAgICBmcmFtZV9kaWcgNgogICAgZHVwCiAgICBmcmFtZV9kaWcgMTAKICAgIGR1cAogICAgY292ZXIgMwogICAgPj0KICAgIGRpZyAxCiAgICBkaWcgMwogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIHN3YXAKICAgIGludGNfMyAvLyAzMgogICAgKwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDYKICAgIGR1cAogICAgZGlnIDMKICAgID49CiAgICBzd2FwCiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBkdXAKICAgIGRpZyAyCiAgICA8CiAgICBkaWcgMgogICAgc3dhcAogICAgc2VsZWN0CiAgICBmcmFtZV9kaWcgMQogICAgY292ZXIgMgogICAgc3Vic3RyaW5nMwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjQxCiAgICAvLyBpZiAoYWRkciAhPT0gR2xvYmFsLnplcm9BZGRyZXNzLmJ5dGVzICYmIGFkZHIgPT09IGFjY291bnQuYnl0ZXMpIHsKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgIT0KICAgIGJ6IGNhY2hlTWV0YV93aGlsZV90b3BAMTQKICAgIGZyYW1lX2RpZyAwCiAgICBmcmFtZV9kaWcgLTQKICAgID09CiAgICBieiBjYWNoZU1ldGFfd2hpbGVfdG9wQDE0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY0MgogICAgLy8gcmV0dXJuIHRydWUKICAgIGludGNfMSAvLyAxCgpjYWNoZU1ldGFfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmFkZHJlc3NWZXJpZmllZE9uTkZEQDIwOgogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4NjAKICAgIC8vIGFzc2VydCh0aGlzLmFkZHJlc3NWZXJpZmllZE9uTkZEKGFkZHJlc3MubmF0aXZlLCBuZmRBcHApLCBFUlJfVVNFUl9ET0VTX05PVF9PV05fTkZEKQogICAgYXNzZXJ0IC8vIFVzZXIgZG9lcyBub3Qgb3duIHRoaXMgTkZECiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTg2MQogICAgLy8gY29uc3QgW3RpbWVDaGFuZ2VkQnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMobmZkQXBwLCBCeXRlcyhORkRHbG9iYWxTdGF0ZUtleXNUaW1lQ2hhbmdlZCkpCiAgICBmcmFtZV9kaWcgLTIKICAgIGJ5dGVjIDUgLy8gImkudGltZUNoYW5nZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTg2MgogICAgLy8gbmZkVGltZUNoYW5nZWQgPSBidG9pKHRpbWVDaGFuZ2VkQnl0ZXMpCiAgICBidG9pCiAgICBmcmFtZV9idXJ5IDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzc1CiAgICAvLyBsZXQgbmZkSW1wYWN0OiB1aW50NjQgPSA1MAogICAgcHVzaGludCA1MCAvLyA1MAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzc3CiAgICAvLyBjb25zdCBbcGFyZW50QXBwSURCeXRlcywgcGFyZW50QXBwSURCeXRlc0V4aXN0XSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKE5GREFwcCwgQnl0ZXMoTkZER2xvYmFsU3RhdGVLZXlzUGFyZW50QXBwSUQpKQogICAgZnJhbWVfZGlnIC0yCiAgICBwdXNoYnl0ZXMgImkucGFyZW50QXBwSUQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgc3dhcAogICAgZnJhbWVfYnVyeSAzCiAgICBzd2FwCiAgICBmcmFtZV9idXJ5IDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzc5CiAgICAvLyBpZiAocGFyZW50QXBwSURCeXRlc0V4aXN0ICYmIGJ0b2kocGFyZW50QXBwSURCeXRlcykgPT09IGdldE90aGVyQXBwTGlzdCh0aGlzLmFraXRhREFPLnZhbHVlKS5ha2l0YU5mZCkgewogICAgYnogY2FjaGVNZXRhX2FmdGVyX2lmX2Vsc2VAMjQKICAgIGZyYW1lX2RpZyAzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoxNAogICAgLy8gYWtpdGFEQU8gPSBHbG9iYWxTdGF0ZTxBcHBsaWNhdGlvbj4oeyBrZXk6IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gfSkKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czozNQogICAgLy8gY29uc3QgW290aGVyQXBwTGlzdEJ5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKGFraXRhREFPLCBCeXRlcyhBa2l0YURBT0dsb2JhbFN0YXRlS2V5c090aGVyQXBwTGlzdCkpCiAgICBieXRlYyA5IC8vICJvdGhlcl9hbCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzc5CiAgICAvLyBpZiAocGFyZW50QXBwSURCeXRlc0V4aXN0ICYmIGJ0b2kocGFyZW50QXBwSURCeXRlcykgPT09IGdldE90aGVyQXBwTGlzdCh0aGlzLmFraXRhREFPLnZhbHVlKS5ha2l0YU5mZCkgewogICAgaW50Y18zIC8vIDMyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgPT0KICAgIGZyYW1lX2RpZyA3CiAgICBmcmFtZV9idXJ5IDgKICAgIGJ6IGNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDI0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTc4MAogICAgLy8gbmZkSW1wYWN0ICs9IDUwCiAgICBwdXNoaW50IDEwMCAvLyAxMDAKICAgIGZyYW1lX2J1cnkgOAoKY2FjaGVNZXRhX2FmdGVyX2lmX2Vsc2VAMjQ6CiAgICBmcmFtZV9kaWcgOAogICAgZnJhbWVfYnVyeSA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTc4MwogICAgLy8gY29uc3QgdmVyc2lvbiA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKE5GREFwcCwgQnl0ZXMoTkZER2xvYmFsU3RhdGVLZXlzVmVyc2lvbikpWzBdLnNsaWNlKDAsIDIpCiAgICBmcmFtZV9kaWcgLTIKICAgIHB1c2hieXRlcyAiaS52ZXIiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18wIC8vIDAKICAgIGRpZyAxCiAgICA+PQogICAgaW50Y18wIC8vIDAKICAgIGRpZyAyCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgcHVzaGludCAyIC8vIDIKICAgIGRpZyAyCiAgICA+PQogICAgcHVzaGludCAyIC8vIDIKICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIHN1YnN0cmluZzMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzg1CiAgICAvLyBpZiAodmVyc2lvbiAhPT0gQnl0ZXMoJzMuJykpIHsKICAgIHB1c2hieXRlcyAiMy4iCiAgICAhPQogICAgYm56IGNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzY1CiAgICAvLyBjb25zdCBkb21haW4gPSB0aGlzLm5mZFJlYWRGaWVsZChORkRBcHAsIE5GRE1ldGFLZXlWZXJpZmllZERvbWFpbikKICAgIGZyYW1lX2RpZyAtMgogICAgcHVzaGJ5dGVzICJ2LmRvbWFpbiIKICAgIGNhbGxzdWIgbmZkUmVhZEZpZWxkCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTc2NgogICAgLy8gY29uc3QgdHdpdHRlciA9IHRoaXMubmZkUmVhZEZpZWxkKE5GREFwcCwgTkZETWV0YUtleVZlcmlmaWVkVHdpdHRlcikKICAgIGZyYW1lX2RpZyAtMgogICAgcHVzaGJ5dGVzICJ2LnR3aXR0ZXIiCiAgICBjYWxsc3ViIG5mZFJlYWRGaWVsZAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE3NjcKICAgIC8vIGNvbnN0IGRpc2NvcmQgPSB0aGlzLm5mZFJlYWRGaWVsZChORkRBcHAsIE5GRE1ldGFLZXlWZXJpZmllZERpc2NvcmQpCiAgICBmcmFtZV9kaWcgLTIKICAgIHB1c2hieXRlcyAidi5kaXNjb3JkIgogICAgY2FsbHN1YiBuZmRSZWFkRmllbGQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzY4CiAgICAvLyBjb25zdCB0ZWxlZ3JhbSA9IHRoaXMubmZkUmVhZEZpZWxkKE5GREFwcCwgTkZETWV0YUtleVZlcmlmaWVkVGVsZWdyYW0pCiAgICBmcmFtZV9kaWcgLTIKICAgIHB1c2hieXRlcyAidi50ZWxlZ3JhbSIKICAgIGNhbGxzdWIgbmZkUmVhZEZpZWxkCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTc3MAogICAgLy8gcmV0dXJuIHsgZG9tYWluLCB0d2l0dGVyLCBkaXNjb3JkLCB0ZWxlZ3JhbSB9CiAgICBkaWcgMwogICAgbGVuCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgdW5jb3ZlciA0CiAgICBjb25jYXQKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgKwogICAgZGlnIDQKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHVuY292ZXIgNQogICAgY29uY2F0CiAgICBkaWcgMQogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHB1c2hieXRlcyAweDAwMDgKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZGlnIDEKICAgIGxlbgogICAgdW5jb3ZlciAzCiAgICArCiAgICBkaWcgNQogICAgbGVuCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgdW5jb3ZlciA2CiAgICBjb25jYXQKICAgIGRpZyAxCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgdW5jb3ZlciAzCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGRpZyAxCiAgICBsZW4KICAgIHVuY292ZXIgMwogICAgKwogICAgZGlnIDUKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHVuY292ZXIgNgogICAgY29uY2F0CiAgICBzd2FwCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgdW5jb3ZlciAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHVuY292ZXIgNAogICAgY29uY2F0CiAgICB1bmNvdmVyIDMKICAgIGNvbmNhdAogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE3ODkKICAgIC8vIGNvbnN0IHsgZG9tYWluLCB0d2l0dGVyLCBkaXNjb3JkLCB0ZWxlZ3JhbSB9ID0gdGhpcy5nZXRORkRTb2NpYWxGaWVsZHMoTkZEQXBwKQogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyAxCiAgICBwdXNoaW50IDIgLy8gMgogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyAyCiAgICB1bmNvdmVyIDIKICAgIGRpZyAyCiAgICBzdWJzdHJpbmczCiAgICBleHRyYWN0IDIgMAogICAgZGlnIDIKICAgIHB1c2hpbnQgNCAvLyA0CiAgICBleHRyYWN0X3VpbnQxNgogICAgZGlnIDMKICAgIHVuY292ZXIgMwogICAgZGlnIDIKICAgIHN1YnN0cmluZzMKICAgIGV4dHJhY3QgMiAwCiAgICBmcmFtZV9idXJ5IDUKICAgIGRpZyAyCiAgICBpbnRjXzIgLy8gNgogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyAzCiAgICB1bmNvdmVyIDIKICAgIGRpZyAyCiAgICBzdWJzdHJpbmczCiAgICBleHRyYWN0IDIgMAogICAgZnJhbWVfYnVyeSAyCiAgICBkaWcgMgogICAgbGVuCiAgICB1bmNvdmVyIDMKICAgIGNvdmVyIDIKICAgIHN1YnN0cmluZzMKICAgIGV4dHJhY3QgMiAwCiAgICBmcmFtZV9idXJ5IDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzkyCiAgICAvLyBpZiAoZG9tYWluLmxlbmd0aCA+IDApIHsKICAgIGxlbgogICAgZnJhbWVfZGlnIDcKICAgIGZyYW1lX2J1cnkgOAogICAgYnogY2FjaGVNZXRhX2FmdGVyX2lmX2Vsc2VAMjgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNzkzCiAgICAvLyBuZmRJbXBhY3QgKz0gMTAKICAgIGZyYW1lX2RpZyA3CiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICArCiAgICBmcmFtZV9idXJ5IDgKCmNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDI4OgogICAgZnJhbWVfZGlnIDgKICAgIGR1cAogICAgZnJhbWVfYnVyeSA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTc5NwogICAgLy8gaWYgKHR3aXR0ZXIubGVuZ3RoID4gMCkgewogICAgZnJhbWVfZGlnIDUKICAgIGxlbgogICAgc3dhcAogICAgZnJhbWVfYnVyeSA4CiAgICBieiBjYWNoZU1ldGFfYWZ0ZXJfaWZfZWxzZUAzMAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE3OTgKICAgIC8vIG5mZEltcGFjdCArPSAyMAogICAgZnJhbWVfZGlnIDcKICAgIHB1c2hpbnQgMjAgLy8gMjAKICAgICsKICAgIGZyYW1lX2J1cnkgOAoKY2FjaGVNZXRhX2FmdGVyX2lmX2Vsc2VAMzA6CiAgICBmcmFtZV9kaWcgOAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxODAyCiAgICAvLyBpZiAoZGlzY29yZC5sZW5ndGggPiAwKSB7CiAgICBmcmFtZV9kaWcgMgogICAgbGVuCiAgICBzd2FwCiAgICBmcmFtZV9idXJ5IDgKICAgIGJ6IGNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTgwMwogICAgLy8gbmZkSW1wYWN0ICs9IDEwCiAgICBmcmFtZV9kaWcgNwogICAgcHVzaGludCAxMCAvLyAxMAogICAgKwogICAgZnJhbWVfYnVyeSA4CgpjYWNoZU1ldGFfYWZ0ZXJfaWZfZWxzZUAzMjoKICAgIGZyYW1lX2RpZyA4CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgNwogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4MDcKICAgIC8vIGlmICh0ZWxlZ3JhbS5sZW5ndGggPiAwKSB7CiAgICBmcmFtZV9kaWcgNAogICAgbGVuCiAgICBzd2FwCiAgICBmcmFtZV9idXJ5IDgKICAgIGJ6IGNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDM0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTgwOAogICAgLy8gbmZkSW1wYWN0ICs9IDEwCiAgICBmcmFtZV9kaWcgNwogICAgcHVzaGludCAxMCAvLyAxMAogICAgKwogICAgZnJhbWVfYnVyeSA4CgpjYWNoZU1ldGFfYWZ0ZXJfaWZfZWxzZUAzNDoKICAgIGZyYW1lX2RpZyA4CiAgICBmcmFtZV9idXJ5IDcKCmNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTg2NgogICAgLy8gaWYgKGFraXRhQXNzZXRJRCAhPT0gMCkgewogICAgZnJhbWVfZGlnIC0xCiAgICBieiBjYWNoZU1ldGFfYWZ0ZXJfaWZfZWxzZUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY1MAogICAgLy8gcmV0dXJuIGFraXRhTkZULmNyZWF0b3IgPT09IEFjY291bnQoQWtpdGFORlRDcmVhdG9yQWRkcmVzcykKICAgIGZyYW1lX2RpZyAtMQogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldENyZWF0b3IKICAgIGFzc2VydCAvLyBhc3NldCBleGlzdHMKICAgIGJ5dGVjIDYgLy8gYWRkciBBS0NUUkRLNE9XTldIVFBINFhQS0xOV05MWjMzM1ZFMzVTS1E0RkdRSzNaSkE0RklIQ0xUUkczUEZJCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4NjgKICAgIC8vIGFzc2VydCh0aGlzLmlzQWtpdGFORlQoYWtpdGFORlQpLCBFUlJfTk9UX0FOX0FLSVRBX05GVCkKICAgIGFzc2VydCAvLyBOb3QgYW4gYWtpdGEgTkZUCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU4MgogICAgLy8gcmV0dXJuIEFzc2V0SG9sZGluZy5hc3NldEJhbGFuY2UoYWNjb3VudCwgTkZUKVswXSA+IDAKICAgIGZyYW1lX2RpZyAtNAogICAgZnJhbWVfZGlnIC0xCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4NjkKICAgIC8vIGFzc2VydCh0aGlzLnVzZXJIb2xkcyhhZGRyZXNzLm5hdGl2ZSwgYWtpdGFORlQpLCBFUlJfVVNFUl9ET0VTX05PVF9PV05fTkZUKQogICAgYXNzZXJ0IC8vIFVzZXIgZG9lcyBub3Qgb3duIHRoaXMgTkZUCgpjYWNoZU1ldGFfYWZ0ZXJfaWZfZWxzZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4NzItMTg3OAogICAgLy8gdGhpcy5tZXRhKGFkZHJlc3MubmF0aXZlKS52YWx1ZSA9IHsKICAgIC8vICAgc3Vic2NyaXB0aW9uSW5kZXgsCiAgICAvLyAgIE5GRDogTkZEQXBwSUQsCiAgICAvLyAgIG5mZFRpbWVDaGFuZ2VkLAogICAgLy8gICBuZmRJbXBhY3QsCiAgICAvLyAgIGFraXRhTkZUOiBha2l0YUFzc2V0SUQsCiAgICAvLyB9CiAgICBmcmFtZV9kaWcgLTMKICAgIGl0b2IKICAgIGZyYW1lX2RpZyAtMgogICAgaXRvYgogICAgY29uY2F0CiAgICBmcmFtZV9kaWcgOQogICAgaXRvYgogICAgY29uY2F0CiAgICBmcmFtZV9kaWcgNwogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpdG9iCiAgICBjb25jYXQKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU2OAogICAgLy8gbWV0YSA9IEJveE1hcDxBY2NvdW50LCBJbXBhY3RNZXRhVmFsdWU+KHsga2V5UHJlZml4OiBJbXBhY3RCb3hQcmVmaXhNZXRhIH0pCiAgICBieXRlY18zIC8vICJtIgogICAgZnJhbWVfZGlnIC00CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxODcyLTE4NzgKICAgIC8vIHRoaXMubWV0YShhZGRyZXNzLm5hdGl2ZSkudmFsdWUgPSB7CiAgICAvLyAgIHN1YnNjcmlwdGlvbkluZGV4LAogICAgLy8gICBORkQ6IE5GREFwcElELAogICAgLy8gICBuZmRUaW1lQ2hhbmdlZCwKICAgIC8vICAgbmZkSW1wYWN0LAogICAgLy8gICBha2l0YU5GVDogYWtpdGFBc3NldElELAogICAgLy8gfQogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4ODAKICAgIC8vIHJldHVybiBuZmRJbXBhY3QKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgpjYWNoZU1ldGFfYWZ0ZXJfd2hpbGVAMTk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTY0NgogICAgLy8gcmV0dXJuIGZhbHNlCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4NjAKICAgIC8vIGFzc2VydCh0aGlzLmFkZHJlc3NWZXJpZmllZE9uTkZEKGFkZHJlc3MubmF0aXZlLCBuZmRBcHApLCBFUlJfVVNFUl9ET0VTX05PVF9PV05fTkZEKQogICAgYiBjYWNoZU1ldGFfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmFkZHJlc3NWZXJpZmllZE9uTkZEQDIwCgoKLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjpBa2l0YVNvY2lhbEltcGFjdC51cGRhdGVTdWJzY3JpcHRpb25TdGF0ZU1vZGlmaWVyKHBheW1lbnQ6IHVpbnQ2NCwgc3Vic2NyaXB0aW9uSW5kZXg6IHVpbnQ2NCwgbmV3TW9kaWZpZXI6IHVpbnQ2NCkgLT4gdm9pZDoKdXBkYXRlU3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxODgzCiAgICAvLyB1cGRhdGVTdWJzY3JpcHRpb25TdGF0ZU1vZGlmaWVyKHBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwgc3Vic2NyaXB0aW9uSW5kZXg6IHVpbnQ2NCwgbmV3TW9kaWZpZXI6IHVpbnQ2NCk6IHZvaWQgewogICAgcHJvdG8gMyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTg4NAogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuYWtpdGFEQU8udmFsdWUuYWRkcmVzcywgRVJSX05PVF9EQU8pCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoxNAogICAgLy8gYWtpdGFEQU8gPSBHbG9iYWxTdGF0ZTxBcHBsaWNhdGlvbj4oeyBrZXk6IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gfSkKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4ODQKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0aGlzLmFraXRhREFPLnZhbHVlLmFkZHJlc3MsIEVSUl9OT1RfREFPKQogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgPT0KICAgIGFzc2VydCAvLyBOb3QgdGhlIERBTwogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4ODYKICAgIC8vIHRoaXMuc3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcihzdWJzY3JpcHRpb25JbmRleCkudmFsdWUgPSBuZXdNb2RpZmllcgogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU3MAogICAgLy8gc3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllciA9IEJveE1hcDx1aW50NjQsIHVpbnQ2ND4oeyBrZXlQcmVmaXg6IEltcGFjdEJveFByZWZpeFN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIgfSkKICAgIHB1c2hieXRlcyAicyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4ODYKICAgIC8vIHRoaXMuc3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcihzdWJzY3JpcHRpb25JbmRleCkudmFsdWUgPSBuZXdNb2RpZmllcgogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTg4OC0xODk1CiAgICAvLyBhc3NlcnRNYXRjaCgKICAgIC8vICAgcGF5bWVudCwKICAgIC8vICAgewogICAgLy8gICAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhbW91bnQ6IHRoaXMubWJyKCkuc3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcgogICAgLy8gICB9LAogICAgLy8gICBFUlJfSU5WQUxJRF9QQVlNRU5UCiAgICAvLyApCiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTg5MQogICAgLy8gcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxODg4LTE4OTUKICAgIC8vIGFzc2VydE1hdGNoKAogICAgLy8gICBwYXltZW50LAogICAgLy8gICB7CiAgICAvLyAgICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFtb3VudDogdGhpcy5tYnIoKS5zdWJzY3JpcHRpb25TdGF0ZU1vZGlmaWVyCiAgICAvLyAgIH0sCiAgICAvLyAgIEVSUl9JTlZBTElEX1BBWU1FTlQKICAgIC8vICkKICAgID09CiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4OTIKICAgIC8vIGFtb3VudDogdGhpcy5tYnIoKS5zdWJzY3JpcHRpb25TdGF0ZU1vZGlmaWVyCiAgICBwdXNoaW50IDkzMDAgLy8gOTMwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE4ODgtMTg5NQogICAgLy8gYXNzZXJ0TWF0Y2goCiAgICAvLyAgIHBheW1lbnQsCiAgICAvLyAgIHsKICAgIC8vICAgICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYW1vdW50OiB0aGlzLm1icigpLnN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIKICAgIC8vICAgfSwKICAgIC8vICAgRVJSX0lOVkFMSURfUEFZTUVOVAogICAgLy8gKQogICAgPT0KICAgICYmCiAgICBhc3NlcnQgLy8gSW52YWxpZCBwYXltZW50CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldFVzZXJJbXBhY3RXaXRob3V0U29jaWFsKGFkZHJlc3M6IGJ5dGVzKSAtPiB1aW50NjQ6CmdldFVzZXJJbXBhY3RXaXRob3V0U29jaWFsOgogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE5MDEtMTkwMgogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICAvLyBnZXRVc2VySW1wYWN0V2l0aG91dFNvY2lhbChhZGRyZXNzOiBBZGRyZXNzKTogdWludDY0IHsKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE5MDMKICAgIC8vIHJldHVybiB0aGlzLnVzZXJJbXBhY3QoYWRkcmVzcy5uYXRpdmUsIGZhbHNlKQogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiB1c2VySW1wYWN0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldFVzZXJJbXBhY3QoYWRkcmVzczogYnl0ZXMpIC0+IHVpbnQ2NDoKZ2V0VXNlckltcGFjdDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxOTA2LTE5MDcKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgLy8gZ2V0VXNlckltcGFjdChhZGRyZXNzOiBBZGRyZXNzKTogdWludDY0IHsKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE5MDgKICAgIC8vIHJldHVybiB0aGlzLnVzZXJJbXBhY3QoYWRkcmVzcy5uYXRpdmUsIHRydWUpCiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMSAvLyAxCiAgICBjYWxsc3ViIHVzZXJJbXBhY3QKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czo6QWtpdGFTb2NpYWxJbXBhY3QuZ2V0TWV0YSh1c2VyOiBieXRlcykgLT4gYnl0ZXM6CmdldE1ldGE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTkxMS0xOTEyCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIC8vIGdldE1ldGEodXNlcjogQWRkcmVzcyk6IEltcGFjdE1ldGFWYWx1ZSB7CiAgICBwcm90byAxIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTY4CiAgICAvLyBtZXRhID0gQm94TWFwPEFjY291bnQsIEltcGFjdE1ldGFWYWx1ZT4oeyBrZXlQcmVmaXg6IEltcGFjdEJveFByZWZpeE1ldGEgfSkKICAgIGJ5dGVjXzMgLy8gIm0iCiAgICBmcmFtZV9kaWcgLTEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE5MTMKICAgIC8vIHJldHVybiB0aGlzLm1ldGEodXNlci5uYXRpdmUpLnZhbHVlCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6OkFraXRhQmFzZUNvbnRyYWN0LnVwZGF0ZShuZXdWZXJzaW9uOiBieXRlcykgLT4gdm9pZDoKdXBkYXRlOgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MTgtMTkKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6IFsnVXBkYXRlQXBwbGljYXRpb24nXSB9KQogICAgLy8gdXBkYXRlKG5ld1ZlcnNpb246IHN0cmluZyk6IHZvaWQgewogICAgcHJvdG8gMSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoyMAogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuYWtpdGFEQU8udmFsdWUuYWRkcmVzcywgRVJSX05PVF9BS0lUQV9EQU8pCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoxNAogICAgLy8gYWtpdGFEQU8gPSBHbG9iYWxTdGF0ZTxBcHBsaWNhdGlvbj4oeyBrZXk6IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gfSkKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MjAKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0aGlzLmFraXRhREFPLnZhbHVlLmFkZHJlc3MsIEVSUl9OT1RfQUtJVEFfREFPKQogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IHRoZSBBa2l0YSBEQU8gY2FuIGNhbGwgdGhpcyBmdW5jdGlvbgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MTIKICAgIC8vIHZlcnNpb24gPSBHbG9iYWxTdGF0ZTxzdHJpbmc+KHsga2V5OiBHbG9iYWxTdGF0ZUtleVZlcnNpb24gfSkKICAgIGJ5dGVjIDggLy8gInZlcnNpb24iCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoyMQogICAgLy8gdGhpcy52ZXJzaW9uLnZhbHVlID0gbmV3VmVyc2lvbgogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6OkFraXRhQmFzZUNvbnRyYWN0LnVwZGF0ZUFraXRhREFPKGFwcDogdWludDY0KSAtPiB2b2lkOgp1cGRhdGVBa2l0YURBTzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjI2CiAgICAvLyB1cGRhdGVBa2l0YURBTyhhcHA6IHVpbnQ2NCk6IHZvaWQgewogICAgcHJvdG8gMSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoyNwogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuYWtpdGFEQU8udmFsdWUuYWRkcmVzcywgRVJSX05PVF9BS0lUQV9EQU8pCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoxNAogICAgLy8gYWtpdGFEQU8gPSBHbG9iYWxTdGF0ZTxBcHBsaWNhdGlvbj4oeyBrZXk6IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gfSkKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MjcKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0aGlzLmFraXRhREFPLnZhbHVlLmFkZHJlc3MsIEVSUl9OT1RfQUtJVEFfREFPKQogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IHRoZSBBa2l0YSBEQU8gY2FuIGNhbGwgdGhpcyBmdW5jdGlvbgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MTQKICAgIC8vIGFraXRhREFPID0gR2xvYmFsU3RhdGU8QXBwbGljYXRpb24+KHsga2V5OiBHbG9iYWxTdGF0ZUtleUFraXRhREFPIH0pCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoyOAogICAgLy8gdGhpcy5ha2l0YURBTy52YWx1ZSA9IEFwcGxpY2F0aW9uKGFwcCkKICAgIGZyYW1lX2RpZyAtMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIHJldHN1Ygo=",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "byteCode": {
        "approval": "CiAIAAEGIICglKWNHYCgt4fpBYDnhA+AyK+gJSYKCWFraXRhX2RhbwQVH3x1CGFraXRhX2FsAW0MYWtpdGFfYXNzZXRzDWkudGltZUNoYW5nZWQgAoU4jVx1m2PN5+XepbbNXne91JvslQ4U0FbykHCoOJcEbBPt5Ad2ZXJzaW9uCG90aGVyX2FsMRtBAD+CCARvmBf2BCfju08EnXT1oQT4HHtiBNV0uxAEtuxqXQTqkYDdBDPpLJQ2GgCOCACfAH8AYQBNADkAJgASAAIiQzEZFEQxGEQ2GgEXiAZ3I0MxGYEEEkQxGEQ2GgFXAgCIBk8jQzEZFEQxGEQ2GgGIBjYpTFCwI0MxGRREMRhENhoBiAYZFilMULAjQzEZFEQxGEQ2GgGIBfsWKUxQsCNDMRkURDEYRDEWIwlJOBAjEkQ2GgEXNhoCF4gFrCNDMRkURDEYRDYaATYaAhc2GgMXNhoEF4gCsRYpTFCwI0MxGRREMRgURDYaARc2GgJXAgCIAogjQ4oCAbEiKGVESSplSCVbi/8WgAR/l5qjshqL/rIashqyGCSyECKyAbO0PklXAAQpEkRJVwQgTwJyCEQSSwGBJFtJIhMyB0lLBYEsWwlLBYE8W0xLARgICUsEgVRbDE8DTwIQEE8CgVxbgAEAIk8DVE8CFlBMFlCJigIBIkmAAEcHK4v+UEm+REkiW0xJgQhbTCVbIihlREknBGVIIluxTCplSCJbTBaAARRQgARA6RTmshqL/rIashqyGCSyECKyAbO0PklXAAQpEkQyB0sBgQxbCUyBBFtJIQcMQAALiw6BgJqeAQxBAUkijAYijAeL/osLiP8LSYwBIlNBACKLAUkjWxaAAXNMUL5EF0yBCVtJjAmBDA9BAQ2B+gFMCowHi/9BAPuxIihlRCplSIFgW4AEUyFVorIai/6yGrIYJLIQIrIBs7Q+SVcEAExXAAQpEkQXjAWLCr5ESYEIW0sBgRBbTwKBGFuMBEsBJwVlSBeLDE8DEkQSRCIoZUQnBGVIIluL/kxwAEhJjAIhBwxBAHoijAOLDUlxA0RJFSJLAQ8iSwJPAk2BA0sCD4EDTwNPAk1SjACL/ksBcABIjAJxC0QnBhJBAECLAkEAO4sAgANBS0MSQQAggTKLBosHCIsFCIsECIsDCAhJjAhAAAQjjACJiwiMAImLAIADQU9HEkEABYEZQv/SIkL/zosCSSEEDyEETE2BMgshBAqMA0L/dCKMBUL/L4sJgRQLTAqMB0L+7osPIQUPQQAcIQWB+gELIQUKiw5JIQYPIQZMTQshBgqMBkL+losPQv/higIBsYv/FRZXBgKL/1AnB7IashqL/rIYJLIQIrIBs7Q+SVcABCkSRFcGAImKAgAnCIv/ZyiL/meJigQBIkcFgABHBDEAIihlRCplSIFgW3IIRBJEi/1BAAqL/Iv9iP1GIlNEIowJIowHi/5BAnKL/oAGaS5uYW1lZUixIihlRCcJZUiBCFtLARUWVwYCTwJQi/4WgARL4i/GshpMshqyGrIYJLIQIrIBs7Q+SVcEAExXAAQpEkQiU0SxJweyGoAPAA12LmNhQWxnby4wLmFzshqL/rIYJLIQIrIBs7Q+SVcABCkSRFcGAIwBIowGiwEVSYwKiwYNQQIciwZJiwpJTgMPSwFLA08CTUwlCEmMBklLAw9MTwNPAk1JSwIMSwJMTYsBTgJSSYwAMgMTQf++iwCL/BJB/7YjRIv+JwVlSBeMCYEySYwHi/6ADWkucGFyZW50QXBwSURlTIwDTIwIQQAZiwMXIihlRCcJZUglWxKLB4wIQQAEgWSMCIsIjAeL/oAFaS52ZXJlSEkVIksBDyJLAk8CTYECSwIPgQJPA08CTVKAAjMuE0ABNYv+gAh2LmRvbWFpboj+Rov+gAl2LnR3aXR0ZXKI/jaL/oAJdi5kaXNjb3JkiP4mi/6ACnYudGVsZWdyYW2I/hVLAxUWVwYCTwRQSRWBCAhLBBUWVwYCTwVQSwEWVwYCgAIACExQSwEVTwMISwUVFlcGAk8GUEsBFlcGAk8DTFBLARVPAwhLBRUWVwYCTwZQTBZXBgJPAkxQTwRQTwNQTwJQTFBJIllLAYECWUsCTwJLAlJXAgBLAoEEWUsDTwNLAlJXAgCMBUsCJFlLA08CSwJSVwIAjAJLAhVPA04CUlcCAIwEFYsHjAhBAAeLB4EKCIwIiwhJjAeLBRVMjAhBAAeLB4EUCIwIiwhJjAeLAhVMjAhBAAeLB4EKCIwIiwhJjAeLBBVMjAhBAAeLB4EKCIwIiwiMB4v/QQARi/9xC0QnBhJEi/yL/3AASESL/RaL/hZQiwkWUIsHSU4CFlCL/xZQK4v8UEy/jACJIkL+H4oDADEAIihlRHIIRBJEi/4WgAFzTFCL/xa/i/04BzIKEov9OAiB1EgSEESJigEBi/8iiPrPiYoBAYv/I4j6xYmKAQEri/9QvkSJigEAMQAiKGVEcghEEkQnCIv/Z4mKAQAxACIoZURyCEQSRCiL/2eJ",
        "clear": "CoEBQw=="
    },
    "compilerInfo": {
        "compiler": "puya",
        "compilerVersion": {
            "major": 5,
            "minor": 0,
            "patch": 0
        }
    },
    "events": [],
    "templateVariables": {}
}