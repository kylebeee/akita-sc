{
    "name": "RevenueManagerPlugin",
    "structs": {
        "EscrowAssetKey": [
            {
                "name": "escrow",
                "type": "uint64"
            },
            {
                "name": "asset",
                "type": "uint64"
            }
        ],
        "ReceiveEscrow": [
            {
                "name": "source",
                "type": "address"
            },
            {
                "name": "allocatable",
                "type": "bool"
            },
            {
                "name": "optinAllowed",
                "type": "bool"
            },
            {
                "name": "optinCount",
                "type": "uint64"
            },
            {
                "name": "phase",
                "type": "uint8"
            },
            {
                "name": "allocationCounter",
                "type": "uint64"
            },
            {
                "name": "lastDisbursement",
                "type": "uint64"
            },
            {
                "name": "creationDate",
                "type": "uint64"
            }
        ],
        "SplitRef": [
            {
                "name": "app",
                "type": "uint64"
            },
            {
                "name": "key",
                "type": "byte[]"
            }
        ],
        "WalletEscrowKey": [
            {
                "name": "wallet",
                "type": "uint64"
            },
            {
                "name": "escrow",
                "type": "string"
            }
        ]
    },
    "methods": [
        {
            "name": "optIn",
            "args": [
                {
                    "type": "uint64",
                    "name": "wallet"
                },
                {
                    "type": "bool",
                    "name": "rekeyBack"
                },
                {
                    "type": "uint64[]",
                    "name": "assets"
                },
                {
                    "type": "pay",
                    "name": "mbrPayment"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "optin exists because revenue manager uses additional metadata to track optin counts for processing payments\nrevenue escrows must be locked to avoid mistracking optins to ensure all opted in assets get processed",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "newReceiveEscrow",
            "args": [
                {
                    "type": "uint64",
                    "name": "wallet"
                },
                {
                    "type": "bool",
                    "name": "rekeyBack"
                },
                {
                    "type": "string",
                    "name": "escrow"
                },
                {
                    "type": "address",
                    "name": "source"
                },
                {
                    "type": "bool",
                    "name": "allocatable"
                },
                {
                    "type": "bool",
                    "name": "optinAllowed"
                },
                {
                    "type": "(address,uint8,uint64)[]",
                    "name": "splits"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Creates a new receive escrow with direct splits\nUse this when you want to store splits directly in this contract",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "newReceiveEscrowWithRef",
            "args": [
                {
                    "type": "uint64",
                    "name": "wallet"
                },
                {
                    "type": "bool",
                    "name": "rekeyBack"
                },
                {
                    "type": "string",
                    "name": "escrow"
                },
                {
                    "type": "address",
                    "name": "source"
                },
                {
                    "type": "bool",
                    "name": "allocatable"
                },
                {
                    "type": "bool",
                    "name": "optinAllowed"
                },
                {
                    "type": "(uint64,byte[])",
                    "struct": "SplitRef",
                    "name": "splitRef"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Creates a new receive escrow with a reference to splits stored in another contract\nUse this when you want splits to be dynamically read from another contract's global state",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "startEscrowDisbursement",
            "args": [
                {
                    "type": "uint64",
                    "name": "wallet"
                },
                {
                    "type": "bool",
                    "name": "rekeyBack"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "processEscrowAllocation",
            "args": [
                {
                    "type": "uint64",
                    "name": "wallet"
                },
                {
                    "type": "bool",
                    "name": "rekeyBack"
                },
                {
                    "type": "uint64[]",
                    "name": "ids"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "finalizeEscrowDisbursement",
            "args": [
                {
                    "type": "uint64",
                    "name": "wallet"
                },
                {
                    "type": "bool",
                    "name": "rekeyBack"
                },
                {
                    "type": "uint64[]",
                    "name": "ids"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Cleans up processed asset boxes and resets escrow back to idle state\nMust be called after all assets have been processed (escrow in Finalization phase)\nCan be called in batches - pass the asset IDs that were processed to delete their tracking boxes",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "updateAkitaDAO",
            "args": [
                {
                    "type": "uint64",
                    "name": "akitaDAO"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "opUp",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        }
    ],
    "arcs": [
        22,
        28
    ],
    "desc": "high level overview of how revenue manager works:\n\n1. DAO installs it twice:  \n - once with execution key that can do anything\n - once globally with methods restricted to: optin, startEscrowDisbursement, processEscrowAllocation\n2. DAO proposes 'new escrow'\n2. DAO proposes 'execute plugin' -> revenue-manager:newReceiveEscrow",
    "networks": {},
    "state": {
        "schema": {
            "global": {
                "ints": 1,
                "bytes": 1
            },
            "local": {
                "ints": 0,
                "bytes": 0
            }
        },
        "keys": {
            "global": {
                "version": {
                    "keyType": "AVMString",
                    "valueType": "AVMString",
                    "key": "dmVyc2lvbg==",
                    "desc": "the current version of the contract"
                },
                "akitaDAO": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "YWtpdGFfZGFv",
                    "desc": "the app ID of the Akita DAO"
                }
            },
            "local": {},
            "box": {}
        },
        "maps": {
            "global": {},
            "local": {},
            "box": {
                "escrows": {
                    "keyType": "WalletEscrowKey",
                    "valueType": "ReceiveEscrow",
                    "desc": "box map of all the escrows",
                    "prefix": "ZQ=="
                },
                "receiveAssets": {
                    "keyType": "EscrowAssetKey",
                    "valueType": "AVMBytes",
                    "desc": "box map of escrow assets that have already been processed during this allocation",
                    "prefix": "YQ=="
                },
                "splits": {
                    "keyType": "WalletEscrowKey",
                    "valueType": "(address,uint8,uint64)[]",
                    "desc": "how to split revenue & where to send it",
                    "prefix": "cw=="
                },
                "splitRefs": {
                    "keyType": "WalletEscrowKey",
                    "valueType": "SplitRef",
                    "desc": "references to splits stored in other contracts (alternative to direct splits)",
                    "prefix": "cg=="
                }
            }
        }
    },
    "bareActions": {
        "create": [
            "NoOp"
        ],
        "call": []
    },
    "sourceInfo": {
        "approval": {
            "sourceInfo": [
                {
                    "pc": [
                        1221
                    ],
                    "errorMessage": "Asset is already allocated"
                },
                {
                    "pc": [
                        1668
                    ],
                    "errorMessage": "Asset was not allocated"
                },
                {
                    "pc": [
                        539,
                        1120,
                        1159,
                        1446,
                        1618,
                        1682
                    ],
                    "errorMessage": "Box must have value"
                },
                {
                    "pc": [
                        217
                    ],
                    "errorMessage": "Bytes has valid prefix"
                },
                {
                    "pc": [
                        924,
                        1094,
                        1596
                    ],
                    "errorMessage": "Controlled address must be escrow"
                },
                {
                    "pc": [
                        1498
                    ],
                    "errorMessage": "Either splits or a split reference must be provided"
                },
                {
                    "pc": [
                        237,
                        950
                    ],
                    "errorMessage": "Escrow does not exist"
                },
                {
                    "pc": [
                        981
                    ],
                    "errorMessage": "Escrow is not allocatable"
                },
                {
                    "pc": [
                        446
                    ],
                    "errorMessage": "Escrow is not allowed to opt-in"
                },
                {
                    "pc": [
                        1141
                    ],
                    "errorMessage": "Escrow is not in allocation phase"
                },
                {
                    "pc": [
                        1631
                    ],
                    "errorMessage": "Escrow is not in finalization phase"
                },
                {
                    "pc": [
                        978
                    ],
                    "errorMessage": "Escrow is not in idle phase"
                },
                {
                    "pc": [
                        1286
                    ],
                    "errorMessage": "Escrow is not opted in to the asset"
                },
                {
                    "pc": [
                        998
                    ],
                    "errorMessage": "Escrow is not ready for disbursement"
                },
                {
                    "pc": [
                        1946
                    ],
                    "errorMessage": "Flat amounts with percentages require a remainder or 100% total"
                },
                {
                    "pc": [
                        382
                    ],
                    "errorMessage": "Invalid payment"
                },
                {
                    "pc": [
                        1391
                    ],
                    "errorMessage": "Invalid percentage"
                },
                {
                    "pc": [
                        73
                    ],
                    "errorMessage": "OnCompletion must be NoOp"
                },
                {
                    "pc": [
                        150
                    ],
                    "errorMessage": "OnCompletion must be NoOp && can only call when creating"
                },
                {
                    "pc": [
                        1751
                    ],
                    "errorMessage": "Only the Akita DAO can call this function"
                },
                {
                    "pc": [
                        1310
                    ],
                    "errorMessage": "Over allocation of assets in the escrow"
                },
                {
                    "pc": [
                        1921
                    ],
                    "errorMessage": "Percentage splits cannot total 100% when using a remainder"
                },
                {
                    "pc": [
                        1971
                    ],
                    "errorMessage": "Percentage splits must total 100% or include a remainder"
                },
                {
                    "pc": [
                        411
                    ],
                    "errorMessage": "Receive escrow does not exist"
                },
                {
                    "pc": [
                        1523
                    ],
                    "errorMessage": "Referenced splits not found in target contract"
                },
                {
                    "pc": [
                        1891
                    ],
                    "errorMessage": "Remainder split must be the last split"
                },
                {
                    "pc": [
                        1841
                    ],
                    "errorMessage": "Split value must be positive or remainder"
                },
                {
                    "pc": [
                        645,
                        1168
                    ],
                    "errorMessage": "Splits cannot be empty"
                },
                {
                    "pc": [
                        649,
                        1172
                    ],
                    "errorMessage": "Splits cannot be more than 10"
                },
                {
                    "pc": [
                        1908
                    ],
                    "errorMessage": "Total percentage splits exceed 100%"
                },
                {
                    "pc": [
                        1765
                    ],
                    "errorMessage": "account funded"
                },
                {
                    "pc": [
                        476
                    ],
                    "errorMessage": "already opted in"
                },
                {
                    "pc": [
                        293,
                        922,
                        1092,
                        1594,
                        1749
                    ],
                    "errorMessage": "application exists"
                },
                {
                    "pc": [
                        1736
                    ],
                    "errorMessage": "check GlobalState exists"
                },
                {
                    "pc": [
                        1256,
                        1653,
                        1807
                    ],
                    "errorMessage": "index access is out of bounds"
                },
                {
                    "pc": [
                        230
                    ],
                    "errorMessage": "invalid number of bytes for (len+(uint64,bool1)[])"
                },
                {
                    "pc": [
                        634
                    ],
                    "errorMessage": "invalid number of bytes for (len+(uint8[32],uint8,uint64)[])"
                },
                {
                    "pc": [
                        340,
                        1064,
                        1570
                    ],
                    "errorMessage": "invalid number of bytes for (len+uint64[])"
                },
                {
                    "pc": [
                        585,
                        759
                    ],
                    "errorMessage": "invalid number of bytes for (len+utf8[])"
                },
                {
                    "pc": [
                        314,
                        569,
                        605,
                        615,
                        743,
                        779,
                        789,
                        892,
                        1040,
                        1546
                    ],
                    "errorMessage": "invalid number of bytes for bool8"
                },
                {
                    "pc": [
                        304,
                        560,
                        734,
                        883,
                        1030,
                        1536,
                        1728
                    ],
                    "errorMessage": "invalid number of bytes for uint64"
                },
                {
                    "pc": [
                        597,
                        771
                    ],
                    "errorMessage": "invalid number of bytes for uint8[32]"
                },
                {
                    "pc": [
                        445,
                        643,
                        803,
                        918
                    ],
                    "errorMessage": "only the creator wallet can delete a spending account"
                },
                {
                    "pc": [
                        350
                    ],
                    "errorMessage": "transaction type is pay"
                }
            ],
            "pcOffsetMethod": "none"
        },
        "clear": {
            "sourceInfo": [],
            "pcOffsetMethod": "none"
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDggNDEgMTAwMDAwCiAgICBieXRlY2Jsb2NrICJzcGVuZGluZ19hZGRyZXNzIiAweDAwMGEgImUiIDB4MDAgImN1cnJlbnRfZXNjcm93IiAweDFlIDB4MTQgImFraXRhX2RhbyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI4CiAgICAvLyBleHBvcnQgY2xhc3MgUmV2ZW51ZU1hbmFnZXJQbHVnaW4gZXh0ZW5kcyBBa2l0YUJhc2VDb250cmFjdCB7CiAgICB0eG4gTnVtQXBwQXJncwogICAgYnogbWFpbl9fX2FsZ290c19fLmRlZmF1bHRDcmVhdGVAMTUKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gbXVzdCBiZSBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0CiAgICBwdXNoYnl0ZXNzIDB4NjgzNWUzYmMgMHg5ZjZlMDBmOCAweDJkODBlNmZjIDB4ODRmMzRjMDQgMHhmZTQxMGY0NCAweDdlN2MwZjcwIDB4MzNlOTJjOTQgMHg4NTRkZWRlMCAvLyBtZXRob2QgIm9wdEluKHVpbnQ2NCxib29sLHVpbnQ2NFtdLHBheSl2b2lkIiwgbWV0aG9kICJuZXdSZWNlaXZlRXNjcm93KHVpbnQ2NCxib29sLHN0cmluZyxhZGRyZXNzLGJvb2wsYm9vbCwoYWRkcmVzcyx1aW50OCx1aW50NjQpW10pdm9pZCIsIG1ldGhvZCAibmV3UmVjZWl2ZUVzY3Jvd1dpdGhSZWYodWludDY0LGJvb2wsc3RyaW5nLGFkZHJlc3MsYm9vbCxib29sLCh1aW50NjQsYnl0ZVtdKSl2b2lkIiwgbWV0aG9kICJzdGFydEVzY3Jvd0Rpc2J1cnNlbWVudCh1aW50NjQsYm9vbCl2b2lkIiwgbWV0aG9kICJwcm9jZXNzRXNjcm93QWxsb2NhdGlvbih1aW50NjQsYm9vbCx1aW50NjRbXSl2b2lkIiwgbWV0aG9kICJmaW5hbGl6ZUVzY3Jvd0Rpc2J1cnNlbWVudCh1aW50NjQsYm9vbCx1aW50NjRbXSl2b2lkIiwgbWV0aG9kICJ1cGRhdGVBa2l0YURBTyh1aW50NjQpdm9pZCIsIG1ldGhvZCAib3BVcCgpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIG9wdEluIG5ld1JlY2VpdmVFc2Nyb3cgbmV3UmVjZWl2ZUVzY3Jvd1dpdGhSZWYgc3RhcnRFc2Nyb3dEaXNidXJzZW1lbnQgcHJvY2Vzc0VzY3Jvd0FsbG9jYXRpb24gZmluYWxpemVFc2Nyb3dEaXNidXJzZW1lbnQgdXBkYXRlQWtpdGFEQU8gbWFpbl9vcFVwX3JvdXRlQDExCiAgICBlcnIKCm1haW5fb3BVcF9yb3V0ZUAxMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjQyCiAgICAvLyBvcFVwKCk6IHZvaWQgeyB9CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX19fYWxnb3RzX18uZGVmYXVsdENyZWF0ZUAxNToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI4CiAgICAvLyBleHBvcnQgY2xhc3MgUmV2ZW51ZU1hbmFnZXJQbHVnaW4gZXh0ZW5kcyBBa2l0YUJhc2VDb250cmFjdCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgIQogICAgJiYKICAgIHJldHVybiAvLyBvbiBlcnJvcjogT25Db21wbGV0aW9uIG11c3QgYmUgTm9PcCAmJiBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKCgovLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjptdXN0R2V0RXNjcm93SW5mbyh3YWxsZXQ6IHVpbnQ2NCkgLT4gYnl0ZXM6Cm11c3RHZXRFc2Nyb3dJbmZvOgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNTkKICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBtdXN0R2V0RXNjcm93SW5mbyh3YWxsZXQ6IEFwcGxpY2F0aW9uKTogRXNjcm93SW5mbyB7CiAgICBwcm90byAxIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjQ0LTI0NwogICAgLy8gY29uc3QgW2VzY3Jvd0J5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKAogICAgLy8gICB3YWxsZXQsCiAgICAvLyAgIEJ5dGVzKEFic3RyYWN0QWNjb3VudEdsb2JhbFN0YXRlS2V5c0N1cnJlbnRFc2Nyb3cpCiAgICAvLyApCiAgICBmcmFtZV9kaWcgLTEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjQ2CiAgICAvLyBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNDdXJyZW50RXNjcm93KQogICAgYnl0ZWMgNCAvLyAiY3VycmVudF9lc2Nyb3ciCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI0NC0yNDcKICAgIC8vIGNvbnN0IFtlc2Nyb3dCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcygKICAgIC8vICAgd2FsbGV0LAogICAgLy8gICBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNDdXJyZW50RXNjcm93KQogICAgLy8gKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNTMtMjU2CiAgICAvLyByZXR1cm4gYWJpQ2FsbDx0eXBlb2YgQWJzdHJhY3RlZEFjY291bnQucHJvdG90eXBlLmFyYzU4X2dldEVzY3Jvd3M+KHsKICAgIC8vICAgYXBwSWQ6IHdhbGxldC5pZCwKICAgIC8vICAgYXJnczogW1tlc2Nyb3ddXQogICAgLy8gfSkucmV0dXJuVmFsdWVbMF0KICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjU1CiAgICAvLyBhcmdzOiBbW2VzY3Jvd11dCiAgICBkdXAKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgcHVzaGJ5dGVzIDB4MDAwMTAwMDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNTMtMjU2CiAgICAvLyByZXR1cm4gYWJpQ2FsbDx0eXBlb2YgQWJzdHJhY3RlZEFjY291bnQucHJvdG90eXBlLmFyYzU4X2dldEVzY3Jvd3M+KHsKICAgIC8vICAgYXBwSWQ6IHdhbGxldC5pZCwKICAgIC8vICAgYXJnczogW1tlc2Nyb3ddXQogICAgLy8gfSkucmV0dXJuVmFsdWVbMF0KICAgIHB1c2hieXRlcyAweGEyNDAzZGRmIC8vIG1ldGhvZCAiYXJjNThfZ2V0RXNjcm93cyhzdHJpbmdbXSkodWludDY0LGJvb2wpW10iCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyAtMQogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBkaWcgMQogICAgZXh0cmFjdCAwIDQKICAgIHB1c2hieXRlcyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBwdXNoaW50IDkgLy8gOQogICAgKgogICAgcHVzaGludCAyIC8vIDIKICAgICsKICAgIHN3YXAKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgKGxlbisodWludDY0LGJvb2wxKVtdKQogICAgZXh0cmFjdCA2IDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjYxCiAgICAvLyBhc3NlcnQoaW5mby5pZCA+IDAsIEVSUl9FU0NST1dfRE9FU19OT1RfRVhJU1QpCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgYXNzZXJ0IC8vIEVzY3JvdyBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNjIKICAgIC8vIHJldHVybiBpbmZvCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjpyZWtleUJhY2tJZk5lY2Vzc2FyeShyZWtleUJhY2s6IHVpbnQ2NCwgd2FsbGV0OiB1aW50NjQpIC0+IHZvaWQ6CnJla2V5QmFja0lmTmVjZXNzYXJ5OgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNzMKICAgIC8vIGV4cG9ydCBmdW5jdGlvbiByZWtleUJhY2tJZk5lY2Vzc2FyeShyZWtleUJhY2s6IGJvb2xlYW4sIHdhbGxldDogQXBwbGljYXRpb24pOiB2b2lkIHsKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNzQKICAgIC8vIGlmIChyZWtleUJhY2spIHsKICAgIGZyYW1lX2RpZyAtMgogICAgYnogcmVrZXlCYWNrSWZOZWNlc3NhcnlfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIzNi0yMzkKICAgIC8vIGNvbnN0IFtzcGVuZGluZ0FkZHJlc3NCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcygKICAgIC8vICAgd2FsbGV0LAogICAgLy8gICBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNTcGVuZGluZ0FkZHJlc3MpCiAgICAvLyApCiAgICBmcmFtZV9kaWcgLTEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjM4CiAgICAvLyBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNTcGVuZGluZ0FkZHJlc3MpCiAgICBieXRlY18wIC8vICJzcGVuZGluZ19hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyMzYtMjM5CiAgICAvLyBjb25zdCBbc3BlbmRpbmdBZGRyZXNzQnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoCiAgICAvLyAgIHdhbGxldCwKICAgIC8vICAgQnl0ZXMoQWJzdHJhY3RBY2NvdW50R2xvYmFsU3RhdGVLZXlzU3BlbmRpbmdBZGRyZXNzKQogICAgLy8gKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNzYtMjgzCiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICBzZW5kZXIsCiAgICAvLyAgICAgcmVjZWl2ZXI6IHNlbmRlciwKICAgIC8vICAgICBhbW91bnQ6IDAsCiAgICAvLyAgICAgcmVrZXlUbzogcmVrZXlBZGRyZXNzKHJla2V5QmFjaywgd2FsbGV0KSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI4MQogICAgLy8gcmVrZXlUbzogcmVrZXlBZGRyZXNzKHJla2V5QmFjaywgd2FsbGV0KSwKICAgIGZyYW1lX2RpZyAtMgogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIHJla2V5QWRkcmVzcwogICAgaXR4bl9maWVsZCBSZWtleVRvCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI4MAogICAgLy8gYW1vdW50OiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICBkdXAKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI3Ni0yODIKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHNlbmRlciwKICAgIC8vICAgICByZWNlaXZlcjogc2VuZGVyLAogICAgLy8gICAgIGFtb3VudDogMCwKICAgIC8vICAgICByZWtleVRvOiByZWtleUFkZHJlc3MocmVrZXlCYWNrLCB3YWxsZXQpLAogICAgLy8gICB9KQogICAgaW50Y18xIC8vIDEKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNzYtMjgzCiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICBzZW5kZXIsCiAgICAvLyAgICAgcmVjZWl2ZXI6IHNlbmRlciwKICAgIC8vICAgICBhbW91bnQ6IDAsCiAgICAvLyAgICAgcmVrZXlUbzogcmVrZXlBZGRyZXNzKHJla2V5QmFjaywgd2FsbGV0KSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAoKcmVrZXlCYWNrSWZOZWNlc3NhcnlfYWZ0ZXJfaWZfZWxzZUAzOgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo6cmVrZXlBZGRyZXNzKHJla2V5QmFjazogdWludDY0LCB3YWxsZXQ6IHVpbnQ2NCkgLT4gYnl0ZXM6CnJla2V5QWRkcmVzczoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6Mjg3CiAgICAvLyBleHBvcnQgZnVuY3Rpb24gcmVrZXlBZGRyZXNzKHJla2V5QmFjazogYm9vbGVhbiwgd2FsbGV0OiBBcHBsaWNhdGlvbik6IEFjY291bnQgewogICAgcHJvdG8gMiAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI4OAogICAgLy8gaWYgKCFyZWtleUJhY2spIHsKICAgIGZyYW1lX2RpZyAtMgogICAgYm56IHJla2V5QWRkcmVzc19hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6Mjg5CiAgICAvLyByZXR1cm4gR2xvYmFsLnplcm9BZGRyZXNzCiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgIHJldHN1YgoKcmVrZXlBZGRyZXNzX2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjkyCiAgICAvLyByZXR1cm4gd2FsbGV0LmFkZHJlc3MKICAgIGZyYW1lX2RpZyAtMQogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6OlJldmVudWVNYW5hZ2VyUGx1Z2luLm9wdEluW3JvdXRpbmddKCkgLT4gdm9pZDoKb3B0SW46CiAgICBwdXNoYnl0ZXMgIiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjExMQogICAgLy8gb3B0SW4od2FsbGV0OiBBcHBsaWNhdGlvbiwgcmVrZXlCYWNrOiBib29sZWFuLCBhc3NldHM6IHVpbnQ2NFtdLCBtYnJQYXltZW50OiBndHhuLlBheW1lbnRUeG4pOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgdWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYm9vbDgKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIHN3YXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgY292ZXIgMgogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGR1cAogICAgY292ZXIgMwogICAgZHVwCiAgICBpbnRjXzIgLy8gOAogICAgKgogICAgcHVzaGludCAyIC8vIDIKICAgICsKICAgIHVuY292ZXIgMgogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciAobGVuK3VpbnQ2NFtdKQogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI0NC0yNDcKICAgIC8vIGNvbnN0IFtlc2Nyb3dCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcygKICAgIC8vICAgd2FsbGV0LAogICAgLy8gICBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNDdXJyZW50RXNjcm93KQogICAgLy8gKQogICAgZGlnIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjQ2CiAgICAvLyBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNDdXJyZW50RXNjcm93KQogICAgYnl0ZWMgNCAvLyAiY3VycmVudF9lc2Nyb3ciCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI0NC0yNDcKICAgIC8vIGNvbnN0IFtlc2Nyb3dCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcygKICAgIC8vICAgd2FsbGV0LAogICAgLy8gICBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNDdXJyZW50RXNjcm93KQogICAgLy8gKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyMzYtMjM5CiAgICAvLyBjb25zdCBbc3BlbmRpbmdBZGRyZXNzQnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoCiAgICAvLyAgIHdhbGxldCwKICAgIC8vICAgQnl0ZXMoQWJzdHJhY3RBY2NvdW50R2xvYmFsU3RhdGVLZXlzU3BlbmRpbmdBZGRyZXNzKQogICAgLy8gKQogICAgZGlnIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjM4CiAgICAvLyBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNTcGVuZGluZ0FkZHJlc3MpCiAgICBieXRlY18wIC8vICJzcGVuZGluZ19hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyMzYtMjM5CiAgICAvLyBjb25zdCBbc3BlbmRpbmdBZGRyZXNzQnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoCiAgICAvLyAgIHdhbGxldCwKICAgIC8vICAgQnl0ZXMoQWJzdHJhY3RBY2NvdW50R2xvYmFsU3RhdGVLZXlzU3BlbmRpbmdBZGRyZXNzKQogICAgLy8gKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgZHVwCiAgICBjb3ZlciA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxMTUtMTIyCiAgICAvLyBhc3NlcnRNYXRjaCgKICAgIC8vICAgbWJyUGF5bWVudCwKICAgIC8vICAgewogICAgLy8gICAgIHJlY2VpdmVyOiBzZW5kZXIsCiAgICAvLyAgICAgYW1vdW50OiBHbG9iYWwuYXNzZXRPcHRJbk1pbkJhbGFuY2UgKiBhc3NldHMubGVuZ3RoCiAgICAvLyAgIH0sCiAgICAvLyAgIEVSUl9JTlZBTElEX1BBWU1FTlQKICAgIC8vICkKICAgIGRpZyAxCiAgICBndHhucyBSZWNlaXZlcgogICAgPT0KICAgIHN3YXAKICAgIGd0eG5zIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTE5CiAgICAvLyBhbW91bnQ6IEdsb2JhbC5hc3NldE9wdEluTWluQmFsYW5jZSAqIGFzc2V0cy5sZW5ndGgKICAgIGdsb2JhbCBBc3NldE9wdEluTWluQmFsYW5jZQogICAgdW5jb3ZlciAzCiAgICAqCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxMTUtMTIyCiAgICAvLyBhc3NlcnRNYXRjaCgKICAgIC8vICAgbWJyUGF5bWVudCwKICAgIC8vICAgewogICAgLy8gICAgIHJlY2VpdmVyOiBzZW5kZXIsCiAgICAvLyAgICAgYW1vdW50OiBHbG9iYWwuYXNzZXRPcHRJbk1pbkJhbGFuY2UgKiBhc3NldHMubGVuZ3RoCiAgICAvLyAgIH0sCiAgICAvLyAgIEVSUl9JTlZBTElEX1BBWU1FTlQKICAgIC8vICkKICAgID09CiAgICAmJgogICAgYXNzZXJ0IC8vIEludmFsaWQgcGF5bWVudAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTI0CiAgICAvLyBhc3NlcnQodGhpcy5lc2Nyb3dzKHsgd2FsbGV0LCBlc2Nyb3cgfSkuZXhpc3RzLCBFUlJfUkVDRUlWRV9FU0NST1dfRE9FU19OT1RfRVhJU1QpCiAgICBkaWcgMQogICAgaXRvYgogICAgZGlnIDEKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBieXRlY18xIC8vIDB4MDAwYQogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjMwCiAgICAvLyBlc2Nyb3dzID0gQm94TWFwPFdhbGxldEVzY3Jvd0tleSwgUmVjZWl2ZUVzY3Jvdz4oeyBrZXlQcmVmaXg6IFJldmVudWVNYW5hZ2VyQm94UHJlZml4RXNjcm93cyB9KQogICAgYnl0ZWNfMiAvLyAiZSIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxMjQKICAgIC8vIGFzc2VydCh0aGlzLmVzY3Jvd3MoeyB3YWxsZXQsIGVzY3JvdyB9KS5leGlzdHMsIEVSUl9SRUNFSVZFX0VTQ1JPV19ET0VTX05PVF9FWElTVCkKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gUmVjZWl2ZSBlc2Nyb3cgZG9lcyBub3QgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjEyNgogICAgLy8gY29uc3QgeyBzb3VyY2UsIG9wdGluQWxsb3dlZCB9ID0gdGhpcy5lc2Nyb3dzKHsgd2FsbGV0LCBlc2Nyb3cgfSkudmFsdWUKICAgIGJveF9nZXQKICAgIHBvcAogICAgZHVwCiAgICBleHRyYWN0IDAgMzIKICAgIHN3YXAKICAgIHB1c2hpbnQgMjU3IC8vIDI1NwogICAgZ2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI2Ni0yNjkKICAgIC8vIGNvbnN0IFtyZWtleUluZGV4Qnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4VWludDY0KAogICAgLy8gICB3YWxsZXQsCiAgICAvLyAgIEJ5dGVzKEFic3RyYWN0QWNjb3VudEdsb2JhbFN0YXRlS2V5c1Jla2V5SW5kZXgpCiAgICAvLyApCiAgICB1bmNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjY4CiAgICAvLyBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNSZWtleUluZGV4KQogICAgcHVzaGJ5dGVzICJyZWtleV9pbmRleCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjY2LTI2OQogICAgLy8gY29uc3QgW3Jla2V5SW5kZXhCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhVaW50NjQoCiAgICAvLyAgIHdhbGxldCwKICAgIC8vICAgQnl0ZXMoQWJzdHJhY3RBY2NvdW50R2xvYmFsU3RhdGVLZXlzUmVrZXlJbmRleCkKICAgIC8vICkKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjEyNwogICAgLy8gY29uc3QgaW5pdGlhdG9yID0gZ3R4bi5UcmFuc2FjdGlvbihnZXRSZWtleUluZGV4KHdhbGxldCkpLnNlbmRlcgogICAgZ3R4bnMgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxMjgKICAgIC8vIGFzc2VydChzb3VyY2UgPT09IGluaXRpYXRvciwgRVJSX0ZPUkJJRERFTikKICAgIHVuY292ZXIgMgogICAgPT0KICAgIGFzc2VydCAvLyBvbmx5IHRoZSBjcmVhdG9yIHdhbGxldCBjYW4gZGVsZXRlIGEgc3BlbmRpbmcgYWNjb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTI5CiAgICAvLyBhc3NlcnQob3B0aW5BbGxvd2VkLCBFUlJfRVNDUk9XX05PVF9BTExPV0VEX1RPX09QVElOKQogICAgYXNzZXJ0IC8vIEVzY3JvdyBpcyBub3QgYWxsb3dlZCB0byBvcHQtaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjEzMQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGFzc2V0cy5sZW5ndGg7IGkrKykgewogICAgaW50Y18wIC8vIDAKCm9wdEluX3doaWxlX3RvcEAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTMxCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgYXNzZXRzLmxlbmd0aDsgaSsrKSB7CiAgICBkdXAKICAgIGRpZyA0CiAgICA8CiAgICBieiBvcHRJbl9hZnRlcl93aGlsZUA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxMzIKICAgIC8vIGFzc2VydCghc2VuZGVyLmlzT3B0ZWRJbihBc3NldChhc3NldHNbaV0pKSwgRVJSX0FMUkVBRFlfT1BURURfSU4pCiAgICBkaWcgNAogICAgZXh0cmFjdCAyIDAKICAgIGRpZyAxCiAgICBpbnRjXzIgLy8gOAogICAgKgogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSA5CiAgICBkaWcgMwogICAgc3dhcAogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBidXJ5IDEKICAgICEKICAgIGFzc2VydCAvLyBhbHJlYWR5IG9wdGVkIGluCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxMzQtMTQyCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICBzZW5kZXIsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogc2VuZGVyLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIHhmZXJBc3NldDogQXNzZXQoYXNzZXRzW2ldKSwKICAgIC8vICAgICByZWtleVRvOiByZWtleUFkZHJlc3MocmVrZXlCYWNrICYmIChpID09PSAoYXNzZXRzLmxlbmd0aCAtIDEpKSwgd2FsbGV0KQogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxNDAKICAgIC8vIHJla2V5VG86IHJla2V5QWRkcmVzcyhyZWtleUJhY2sgJiYgKGkgPT09IChhc3NldHMubGVuZ3RoIC0gMSkpLCB3YWxsZXQpCiAgICBkaWcgNQogICAgYnogb3B0SW5fYm9vbF9mYWxzZUA2CiAgICBkaWcgMwogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGRpZyAxCiAgICA9PQogICAgYnogb3B0SW5fYm9vbF9mYWxzZUA2CiAgICBpbnRjXzEgLy8gMQoKb3B0SW5fYm9vbF9tZXJnZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTQwCiAgICAvLyByZWtleVRvOiByZWtleUFkZHJlc3MocmVrZXlCYWNrICYmIChpID09PSAoYXNzZXRzLmxlbmd0aCAtIDEpKSwgd2FsbGV0KQogICAgZGlnIDcKICAgIGNhbGxzdWIgcmVrZXlBZGRyZXNzCiAgICBpdHhuX2ZpZWxkIFJla2V5VG8KICAgIGRpZyA3CiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTM4CiAgICAvLyBhc3NldEFtb3VudDogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBkaWcgMgogICAgZHVwCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxMzQtMTQxCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICBzZW5kZXIsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogc2VuZGVyLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIHhmZXJBc3NldDogQXNzZXQoYXNzZXRzW2ldKSwKICAgIC8vICAgICByZWtleVRvOiByZWtleUFkZHJlc3MocmVrZXlCYWNrICYmIChpID09PSAoYXNzZXRzLmxlbmd0aCAtIDEpKSwgd2FsbGV0KQogICAgLy8gICB9KQogICAgcHVzaGludCA0IC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTM0LTE0MgogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgc2VuZGVyLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHNlbmRlciwKICAgIC8vICAgICBhc3NldEFtb3VudDogMCwKICAgIC8vICAgICB4ZmVyQXNzZXQ6IEFzc2V0KGFzc2V0c1tpXSksCiAgICAvLyAgICAgcmVrZXlUbzogcmVrZXlBZGRyZXNzKHJla2V5QmFjayAmJiAoaSA9PT0gKGFzc2V0cy5sZW5ndGggLSAxKSksIHdhbGxldCkKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjEzMQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGFzc2V0cy5sZW5ndGg7IGkrKykgewogICAgZHVwCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxCiAgICBiIG9wdEluX3doaWxlX3RvcEAyCgpvcHRJbl9ib29sX2ZhbHNlQDY6CiAgICBpbnRjXzAgLy8gMAogICAgYiBvcHRJbl9ib29sX21lcmdlQDcKCm9wdEluX2FmdGVyX3doaWxlQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxNDUKICAgIC8vIHRoaXMuZXNjcm93cyh7IHdhbGxldCwgZXNjcm93IH0pLnZhbHVlLm9wdGluQ291bnQgKz0gYXNzZXRzLmxlbmd0aAogICAgZGlnIDEKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIHB1c2hpbnQgMzMgLy8gMzMKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgNQogICAgKwogICAgaXRvYgogICAgcHVzaGludCAzMyAvLyAzMwogICAgc3dhcAogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjExMQogICAgLy8gb3B0SW4od2FsbGV0OiBBcHBsaWNhdGlvbiwgcmVrZXlCYWNrOiBib29sZWFuLCBhc3NldHM6IHVpbnQ2NFtdLCBtYnJQYXltZW50OiBndHhuLlBheW1lbnRUeG4pOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo6UmV2ZW51ZU1hbmFnZXJQbHVnaW4ubmV3UmVjZWl2ZUVzY3Jvd1tyb3V0aW5nXSgpIC0+IHZvaWQ6Cm5ld1JlY2VpdmVFc2Nyb3c6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxNTItMTYwCiAgICAvLyBuZXdSZWNlaXZlRXNjcm93KAogICAgLy8gICB3YWxsZXQ6IEFwcGxpY2F0aW9uLAogICAgLy8gICByZWtleUJhY2s6IGJvb2xlYW4sCiAgICAvLyAgIGVzY3Jvdzogc3RyaW5nLAogICAgLy8gICBzb3VyY2U6IEFjY291bnQsCiAgICAvLyAgIGFsbG9jYXRhYmxlOiBib29sZWFuLAogICAgLy8gICBvcHRpbkFsbG93ZWQ6IGJvb2xlYW4sCiAgICAvLyAgIHNwbGl0czogU3BsaXRbXQogICAgLy8gKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIHVpbnQ2NAogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBib29sOAogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIHB1c2hpbnQgMiAvLyAyCiAgICArCiAgICBkaWcgMQogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciAobGVuK3V0ZjhbXSkKICAgIGV4dHJhY3QgMiAwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA0CiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgdWludDhbMzJdCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA1CiAgICBkdXAKICAgIGxlbgogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGJvb2w4CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA2CiAgICBkdXAKICAgIGxlbgogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGJvb2w4CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA3CiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZHVwCiAgICBpbnRjXzMgLy8gNDEKICAgICoKICAgIHB1c2hpbnQgMiAvLyAyCiAgICArCiAgICBkaWcgMgogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciAobGVuKyh1aW50OFszMl0sdWludDgsdWludDY0KVtdKQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyMzYtMjM5CiAgICAvLyBjb25zdCBbc3BlbmRpbmdBZGRyZXNzQnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoCiAgICAvLyAgIHdhbGxldCwKICAgIC8vICAgQnl0ZXMoQWJzdHJhY3RBY2NvdW50R2xvYmFsU3RhdGVLZXlzU3BlbmRpbmdBZGRyZXNzKQogICAgLy8gKQogICAgZGlnIDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjM4CiAgICAvLyBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNTcGVuZGluZ0FkZHJlc3MpCiAgICBieXRlY18wIC8vICJzcGVuZGluZ19hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyMzYtMjM5CiAgICAvLyBjb25zdCBbc3BlbmRpbmdBZGRyZXNzQnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoCiAgICAvLyAgIHdhbGxldCwKICAgIC8vICAgQnl0ZXMoQWJzdHJhY3RBY2NvdW50R2xvYmFsU3RhdGVLZXlzU3BlbmRpbmdBZGRyZXNzKQogICAgLy8gKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTYyCiAgICAvLyBhc3NlcnQodGhpcy5jb250cm9scyhzZW5kZXIpLCBFUlJfRk9SQklEREVOKQogICAgY2FsbHN1YiBjb250cm9scwogICAgYXNzZXJ0IC8vIG9ubHkgdGhlIGNyZWF0b3Igd2FsbGV0IGNhbiBkZWxldGUgYSBzcGVuZGluZyBhY2NvdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxNjMKICAgIC8vIGFzc2VydChzcGxpdHMubGVuZ3RoID4gMCwgRVJSX1NQTElUU19DQU5OT1RfQkVfRU1QVFkpCiAgICBkdXAKICAgIGFzc2VydCAvLyBTcGxpdHMgY2Fubm90IGJlIGVtcHR5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxNjQKICAgIC8vIGFzc2VydChzcGxpdHMubGVuZ3RoIDw9IDEwLCBFUlJfU1BMSVRTX0NBTk5PVF9CRV9NT1JFX1RIQU5fMTApCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICA8PQogICAgYXNzZXJ0IC8vIFNwbGl0cyBjYW5ub3QgYmUgbW9yZSB0aGFuIDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxNzQKICAgIC8vIGNyZWF0aW9uRGF0ZTogR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCwKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjE2Ni0xNzUKICAgIC8vIHRoaXMuZXNjcm93cyh7IHdhbGxldCwgZXNjcm93IH0pLnZhbHVlID0gewogICAgLy8gICBzb3VyY2UsCiAgICAvLyAgIGFsbG9jYXRhYmxlLAogICAgLy8gICBvcHRpbkFsbG93ZWQsCiAgICAvLyAgIG9wdGluQ291bnQ6IDAsCiAgICAvLyAgIHBoYXNlOiBFc2Nyb3dEaXNidXJzZW1lbnRQaGFzZUlkbGUsCiAgICAvLyAgIGFsbG9jYXRpb25Db3VudGVyOiAwLAogICAgLy8gICBsYXN0RGlzYnVyc2VtZW50OiAwLAogICAgLy8gICBjcmVhdGlvbkRhdGU6IEdsb2JhbC5sYXRlc3RUaW1lc3RhbXAsCiAgICAvLyB9CiAgICBieXRlY18zIC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDUKICAgIHNldGJpdAogICAgaW50Y18xIC8vIDEKICAgIHVuY292ZXIgNAogICAgc2V0Yml0CiAgICB1bmNvdmVyIDMKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTcwCiAgICAvLyBvcHRpbkNvdW50OiAwLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjE2Ni0xNzUKICAgIC8vIHRoaXMuZXNjcm93cyh7IHdhbGxldCwgZXNjcm93IH0pLnZhbHVlID0gewogICAgLy8gICBzb3VyY2UsCiAgICAvLyAgIGFsbG9jYXRhYmxlLAogICAgLy8gICBvcHRpbkFsbG93ZWQsCiAgICAvLyAgIG9wdGluQ291bnQ6IDAsCiAgICAvLyAgIHBoYXNlOiBFc2Nyb3dEaXNidXJzZW1lbnRQaGFzZUlkbGUsCiAgICAvLyAgIGFsbG9jYXRpb25Db3VudGVyOiAwLAogICAgLy8gICBsYXN0RGlzYnVyc2VtZW50OiAwLAogICAgLy8gICBjcmVhdGlvbkRhdGU6IEdsb2JhbC5sYXRlc3RUaW1lc3RhbXAsCiAgICAvLyB9CiAgICBpdG9iCiAgICBzd2FwCiAgICBkaWcgMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxNzEKICAgIC8vIHBoYXNlOiBFc2Nyb3dEaXNidXJzZW1lbnRQaGFzZUlkbGUsCiAgICBieXRlY18zIC8vIDB4MDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjE2Ni0xNzUKICAgIC8vIHRoaXMuZXNjcm93cyh7IHdhbGxldCwgZXNjcm93IH0pLnZhbHVlID0gewogICAgLy8gICBzb3VyY2UsCiAgICAvLyAgIGFsbG9jYXRhYmxlLAogICAgLy8gICBvcHRpbkFsbG93ZWQsCiAgICAvLyAgIG9wdGluQ291bnQ6IDAsCiAgICAvLyAgIHBoYXNlOiBFc2Nyb3dEaXNidXJzZW1lbnRQaGFzZUlkbGUsCiAgICAvLyAgIGFsbG9jYXRpb25Db3VudGVyOiAwLAogICAgLy8gICBsYXN0RGlzYnVyc2VtZW50OiAwLAogICAgLy8gICBjcmVhdGlvbkRhdGU6IEdsb2JhbC5sYXRlc3RUaW1lc3RhbXAsCiAgICAvLyB9CiAgICBjb25jYXQKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxNjYKICAgIC8vIHRoaXMuZXNjcm93cyh7IHdhbGxldCwgZXNjcm93IH0pLnZhbHVlID0gewogICAgZGlnIDQKICAgIGl0b2IKICAgIGRpZyAzCiAgICBsZW4KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICB1bmNvdmVyIDQKICAgIGNvbmNhdAogICAgc3dhcAogICAgYnl0ZWNfMSAvLyAweDAwMGEKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozMAogICAgLy8gZXNjcm93cyA9IEJveE1hcDxXYWxsZXRFc2Nyb3dLZXksIFJlY2VpdmVFc2Nyb3c+KHsga2V5UHJlZml4OiBSZXZlbnVlTWFuYWdlckJveFByZWZpeEVzY3Jvd3MgfSkKICAgIGJ5dGVjXzIgLy8gImUiCiAgICBkaWcgMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxNjYtMTc1CiAgICAvLyB0aGlzLmVzY3Jvd3MoeyB3YWxsZXQsIGVzY3JvdyB9KS52YWx1ZSA9IHsKICAgIC8vICAgc291cmNlLAogICAgLy8gICBhbGxvY2F0YWJsZSwKICAgIC8vICAgb3B0aW5BbGxvd2VkLAogICAgLy8gICBvcHRpbkNvdW50OiAwLAogICAgLy8gICBwaGFzZTogRXNjcm93RGlzYnVyc2VtZW50UGhhc2VJZGxlLAogICAgLy8gICBhbGxvY2F0aW9uQ291bnRlcjogMCwKICAgIC8vICAgbGFzdERpc2J1cnNlbWVudDogMCwKICAgIC8vICAgY3JlYXRpb25EYXRlOiBHbG9iYWwubGF0ZXN0VGltZXN0YW1wLAogICAgLy8gfQogICAgdW5jb3ZlciAyCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxNzgKICAgIC8vIHRoaXMudmFsaWRhdGVTcGxpdHMoc3BsaXRzKQogICAgc3dhcAogICAgY2FsbHN1YiB2YWxpZGF0ZVNwbGl0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MzQKICAgIC8vIHNwbGl0cyA9IEJveE1hcDxXYWxsZXRFc2Nyb3dLZXksIFNwbGl0W10+KHsga2V5UHJlZml4OiBSZXZlbnVlTWFuYWdlckJveFByZWZpeFNwbGl0cyB9KQogICAgcHVzaGJ5dGVzICJzIgogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjE4MAogICAgLy8gdGhpcy5zcGxpdHMoeyB3YWxsZXQsIGVzY3JvdyB9KS52YWx1ZSA9IGNsb25lKHNwbGl0cykKICAgIGR1cAogICAgYm94X2RlbAogICAgcG9wCiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxODIKICAgIC8vIHJla2V5QmFja0lmTmVjZXNzYXJ5KHJla2V5QmFjaywgd2FsbGV0KQogICAgc3dhcAogICAgY2FsbHN1YiByZWtleUJhY2tJZk5lY2Vzc2FyeQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTUyLTE2MAogICAgLy8gbmV3UmVjZWl2ZUVzY3JvdygKICAgIC8vICAgd2FsbGV0OiBBcHBsaWNhdGlvbiwKICAgIC8vICAgcmVrZXlCYWNrOiBib29sZWFuLAogICAgLy8gICBlc2Nyb3c6IHN0cmluZywKICAgIC8vICAgc291cmNlOiBBY2NvdW50LAogICAgLy8gICBhbGxvY2F0YWJsZTogYm9vbGVhbiwKICAgIC8vICAgb3B0aW5BbGxvd2VkOiBib29sZWFuLAogICAgLy8gICBzcGxpdHM6IFNwbGl0W10KICAgIC8vICk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjpSZXZlbnVlTWFuYWdlclBsdWdpbi5uZXdSZWNlaXZlRXNjcm93V2l0aFJlZltyb3V0aW5nXSgpIC0+IHZvaWQ6Cm5ld1JlY2VpdmVFc2Nyb3dXaXRoUmVmOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTg5LTE5NwogICAgLy8gbmV3UmVjZWl2ZUVzY3Jvd1dpdGhSZWYoCiAgICAvLyAgIHdhbGxldDogQXBwbGljYXRpb24sCiAgICAvLyAgIHJla2V5QmFjazogYm9vbGVhbiwKICAgIC8vICAgZXNjcm93OiBzdHJpbmcsCiAgICAvLyAgIHNvdXJjZTogQWNjb3VudCwKICAgIC8vICAgYWxsb2NhdGFibGU6IGJvb2xlYW4sCiAgICAvLyAgIG9wdGluQWxsb3dlZDogYm9vbGVhbiwKICAgIC8vICAgc3BsaXRSZWY6IFNwbGl0UmVmCiAgICAvLyApOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgdWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGJvb2w4CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgcHVzaGludCAyIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIChsZW4rdXRmOFtdKQogICAgZXh0cmFjdCAyIDAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciB1aW50OFszMl0KICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYm9vbDgKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDYKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYm9vbDgKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjM2LTIzOQogICAgLy8gY29uc3QgW3NwZW5kaW5nQWRkcmVzc0J5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKAogICAgLy8gICB3YWxsZXQsCiAgICAvLyAgIEJ5dGVzKEFic3RyYWN0QWNjb3VudEdsb2JhbFN0YXRlS2V5c1NwZW5kaW5nQWRkcmVzcykKICAgIC8vICkKICAgIGRpZyA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIzOAogICAgLy8gQnl0ZXMoQWJzdHJhY3RBY2NvdW50R2xvYmFsU3RhdGVLZXlzU3BlbmRpbmdBZGRyZXNzKQogICAgYnl0ZWNfMCAvLyAic3BlbmRpbmdfYWRkcmVzcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjM2LTIzOQogICAgLy8gY29uc3QgW3NwZW5kaW5nQWRkcmVzc0J5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKAogICAgLy8gICB3YWxsZXQsCiAgICAvLyAgIEJ5dGVzKEFic3RyYWN0QWNjb3VudEdsb2JhbFN0YXRlS2V5c1NwZW5kaW5nQWRkcmVzcykKICAgIC8vICkKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjE5OQogICAgLy8gYXNzZXJ0KHRoaXMuY29udHJvbHMoc2VuZGVyKSwgRVJSX0ZPUkJJRERFTikKICAgIGNhbGxzdWIgY29udHJvbHMKICAgIGFzc2VydCAvLyBvbmx5IHRoZSBjcmVhdG9yIHdhbGxldCBjYW4gZGVsZXRlIGEgc3BlbmRpbmcgYWNjb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjA5CiAgICAvLyBjcmVhdGlvbkRhdGU6IEdsb2JhbC5sYXRlc3RUaW1lc3RhbXAsCiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMDEtMjEwCiAgICAvLyB0aGlzLmVzY3Jvd3MoeyB3YWxsZXQsIGVzY3JvdyB9KS52YWx1ZSA9IHsKICAgIC8vICAgc291cmNlLAogICAgLy8gICBhbGxvY2F0YWJsZSwKICAgIC8vICAgb3B0aW5BbGxvd2VkLAogICAgLy8gICBvcHRpbkNvdW50OiAwLAogICAgLy8gICBwaGFzZTogRXNjcm93RGlzYnVyc2VtZW50UGhhc2VJZGxlLAogICAgLy8gICBhbGxvY2F0aW9uQ291bnRlcjogMCwKICAgIC8vICAgbGFzdERpc2J1cnNlbWVudDogMCwKICAgIC8vICAgY3JlYXRpb25EYXRlOiBHbG9iYWwubGF0ZXN0VGltZXN0YW1wLAogICAgLy8gfQogICAgYnl0ZWNfMyAvLyAweDAwCiAgICBpbnRjXzAgLy8gMAogICAgdW5jb3ZlciA1CiAgICBzZXRiaXQKICAgIGludGNfMSAvLyAxCiAgICB1bmNvdmVyIDQKICAgIHNldGJpdAogICAgdW5jb3ZlciAzCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjIwNQogICAgLy8gb3B0aW5Db3VudDogMCwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMDEtMjEwCiAgICAvLyB0aGlzLmVzY3Jvd3MoeyB3YWxsZXQsIGVzY3JvdyB9KS52YWx1ZSA9IHsKICAgIC8vICAgc291cmNlLAogICAgLy8gICBhbGxvY2F0YWJsZSwKICAgIC8vICAgb3B0aW5BbGxvd2VkLAogICAgLy8gICBvcHRpbkNvdW50OiAwLAogICAgLy8gICBwaGFzZTogRXNjcm93RGlzYnVyc2VtZW50UGhhc2VJZGxlLAogICAgLy8gICBhbGxvY2F0aW9uQ291bnRlcjogMCwKICAgIC8vICAgbGFzdERpc2J1cnNlbWVudDogMCwKICAgIC8vICAgY3JlYXRpb25EYXRlOiBHbG9iYWwubGF0ZXN0VGltZXN0YW1wLAogICAgLy8gfQogICAgaXRvYgogICAgc3dhcAogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjA2CiAgICAvLyBwaGFzZTogRXNjcm93RGlzYnVyc2VtZW50UGhhc2VJZGxlLAogICAgYnl0ZWNfMyAvLyAweDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMDEtMjEwCiAgICAvLyB0aGlzLmVzY3Jvd3MoeyB3YWxsZXQsIGVzY3JvdyB9KS52YWx1ZSA9IHsKICAgIC8vICAgc291cmNlLAogICAgLy8gICBhbGxvY2F0YWJsZSwKICAgIC8vICAgb3B0aW5BbGxvd2VkLAogICAgLy8gICBvcHRpbkNvdW50OiAwLAogICAgLy8gICBwaGFzZTogRXNjcm93RGlzYnVyc2VtZW50UGhhc2VJZGxlLAogICAgLy8gICBhbGxvY2F0aW9uQ291bnRlcjogMCwKICAgIC8vICAgbGFzdERpc2J1cnNlbWVudDogMCwKICAgIC8vICAgY3JlYXRpb25EYXRlOiBHbG9iYWwubGF0ZXN0VGltZXN0YW1wLAogICAgLy8gfQogICAgY29uY2F0CiAgICBkaWcgMQogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjAxCiAgICAvLyB0aGlzLmVzY3Jvd3MoeyB3YWxsZXQsIGVzY3JvdyB9KS52YWx1ZSA9IHsKICAgIGRpZyA0CiAgICBpdG9iCiAgICBkaWcgMwogICAgbGVuCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgdW5jb3ZlciA0CiAgICBjb25jYXQKICAgIHN3YXAKICAgIGJ5dGVjXzEgLy8gMHgwMDBhCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MzAKICAgIC8vIGVzY3Jvd3MgPSBCb3hNYXA8V2FsbGV0RXNjcm93S2V5LCBSZWNlaXZlRXNjcm93Pih7IGtleVByZWZpeDogUmV2ZW51ZU1hbmFnZXJCb3hQcmVmaXhFc2Nyb3dzIH0pCiAgICBieXRlY18yIC8vICJlIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjAxLTIxMAogICAgLy8gdGhpcy5lc2Nyb3dzKHsgd2FsbGV0LCBlc2Nyb3cgfSkudmFsdWUgPSB7CiAgICAvLyAgIHNvdXJjZSwKICAgIC8vICAgYWxsb2NhdGFibGUsCiAgICAvLyAgIG9wdGluQWxsb3dlZCwKICAgIC8vICAgb3B0aW5Db3VudDogMCwKICAgIC8vICAgcGhhc2U6IEVzY3Jvd0Rpc2J1cnNlbWVudFBoYXNlSWRsZSwKICAgIC8vICAgYWxsb2NhdGlvbkNvdW50ZXI6IDAsCiAgICAvLyAgIGxhc3REaXNidXJzZW1lbnQ6IDAsCiAgICAvLyAgIGNyZWF0aW9uRGF0ZTogR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCwKICAgIC8vIH0KICAgIHVuY292ZXIgMgogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MzYKICAgIC8vIHNwbGl0UmVmcyA9IEJveE1hcDxXYWxsZXRFc2Nyb3dLZXksIFNwbGl0UmVmPih7IGtleVByZWZpeDogUmV2ZW51ZU1hbmFnZXJCb3hQcmVmaXhTcGxpdFJlZnMgfSkKICAgIHB1c2hieXRlcyAiciIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjEzCiAgICAvLyB0aGlzLnNwbGl0UmVmcyh7IHdhbGxldCwgZXNjcm93IH0pLnZhbHVlID0gY2xvbmUoc3BsaXRSZWYpCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjE1CiAgICAvLyByZWtleUJhY2tJZk5lY2Vzc2FyeShyZWtleUJhY2ssIHdhbGxldCkKICAgIHN3YXAKICAgIGNhbGxzdWIgcmVrZXlCYWNrSWZOZWNlc3NhcnkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjE4OS0xOTcKICAgIC8vIG5ld1JlY2VpdmVFc2Nyb3dXaXRoUmVmKAogICAgLy8gICB3YWxsZXQ6IEFwcGxpY2F0aW9uLAogICAgLy8gICByZWtleUJhY2s6IGJvb2xlYW4sCiAgICAvLyAgIGVzY3Jvdzogc3RyaW5nLAogICAgLy8gICBzb3VyY2U6IEFjY291bnQsCiAgICAvLyAgIGFsbG9jYXRhYmxlOiBib29sZWFuLAogICAgLy8gICBvcHRpbkFsbG93ZWQ6IGJvb2xlYW4sCiAgICAvLyAgIHNwbGl0UmVmOiBTcGxpdFJlZgogICAgLy8gKTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6OlJldmVudWVNYW5hZ2VyUGx1Z2luLnN0YXJ0RXNjcm93RGlzYnVyc2VtZW50W3JvdXRpbmddKCkgLT4gdm9pZDoKc3RhcnRFc2Nyb3dEaXNidXJzZW1lbnQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMTgKICAgIC8vIHN0YXJ0RXNjcm93RGlzYnVyc2VtZW50KHdhbGxldDogQXBwbGljYXRpb24sIHJla2V5QmFjazogYm9vbGVhbik6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciB1aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYm9vbDgKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjQ0LTI0NwogICAgLy8gY29uc3QgW2VzY3Jvd0J5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKAogICAgLy8gICB3YWxsZXQsCiAgICAvLyAgIEJ5dGVzKEFic3RyYWN0QWNjb3VudEdsb2JhbFN0YXRlS2V5c0N1cnJlbnRFc2Nyb3cpCiAgICAvLyApCiAgICBkaWcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNDYKICAgIC8vIEJ5dGVzKEFic3RyYWN0QWNjb3VudEdsb2JhbFN0YXRlS2V5c0N1cnJlbnRFc2Nyb3cpCiAgICBieXRlYyA0IC8vICJjdXJyZW50X2VzY3JvdyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjQ0LTI0NwogICAgLy8gY29uc3QgW2VzY3Jvd0J5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKAogICAgLy8gICB3YWxsZXQsCiAgICAvLyAgIEJ5dGVzKEFic3RyYWN0QWNjb3VudEdsb2JhbFN0YXRlS2V5c0N1cnJlbnRFc2Nyb3cpCiAgICAvLyApCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMjAKICAgIC8vIGNvbnN0IHsgaWQ6IGVzY3Jvd0lEIH0gPSBtdXN0R2V0RXNjcm93SW5mbyh3YWxsZXQpCiAgICBkaWcgMgogICAgY2FsbHN1YiBtdXN0R2V0RXNjcm93SW5mbwogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIzNi0yMzkKICAgIC8vIGNvbnN0IFtzcGVuZGluZ0FkZHJlc3NCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcygKICAgIC8vICAgd2FsbGV0LAogICAgLy8gICBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNTcGVuZGluZ0FkZHJlc3MpCiAgICAvLyApCiAgICBkaWcgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyMzgKICAgIC8vIEJ5dGVzKEFic3RyYWN0QWNjb3VudEdsb2JhbFN0YXRlS2V5c1NwZW5kaW5nQWRkcmVzcykKICAgIGJ5dGVjXzAgLy8gInNwZW5kaW5nX2FkZHJlc3MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIzNi0yMzkKICAgIC8vIGNvbnN0IFtzcGVuZGluZ0FkZHJlc3NCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcygKICAgIC8vICAgd2FsbGV0LAogICAgLy8gICBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNTcGVuZGluZ0FkZHJlc3MpCiAgICAvLyApCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMjIKICAgIC8vIGFzc2VydCh0aGlzLmNvbnRyb2xzKHNlbmRlciksIEVSUl9GT1JCSURERU4pCiAgICBkdXAKICAgIGNhbGxzdWIgY29udHJvbHMKICAgIGFzc2VydCAvLyBvbmx5IHRoZSBjcmVhdG9yIHdhbGxldCBjYW4gZGVsZXRlIGEgc3BlbmRpbmcgYWNjb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjIzCiAgICAvLyBhc3NlcnQoc2VuZGVyID09PSBBcHBsaWNhdGlvbihlc2Nyb3dJRCkuYWRkcmVzcywgRVJSX0NPTlRST0xMRURfQUREUkVTU19NVVNUX0JFX0VTQ1JPVykKICAgIHN3YXAKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgID09CiAgICBhc3NlcnQgLy8gQ29udHJvbGxlZCBhZGRyZXNzIG11c3QgYmUgZXNjcm93CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMjUKICAgIC8vIGFzc2VydCh0aGlzLmVzY3Jvd3MoeyB3YWxsZXQsIGVzY3JvdyB9KS5leGlzdHMsIEVSUl9FU0NST1dfRE9FU19OT1RfRVhJU1QpCiAgICBkaWcgMgogICAgaXRvYgogICAgZGlnIDIKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHVuY292ZXIgMwogICAgY29uY2F0CiAgICBzd2FwCiAgICBieXRlY18xIC8vIDB4MDAwYQogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjMwCiAgICAvLyBlc2Nyb3dzID0gQm94TWFwPFdhbGxldEVzY3Jvd0tleSwgUmVjZWl2ZUVzY3Jvdz4oeyBrZXlQcmVmaXg6IFJldmVudWVNYW5hZ2VyQm94UHJlZml4RXNjcm93cyB9KQogICAgYnl0ZWNfMiAvLyAiZSIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjI1CiAgICAvLyBhc3NlcnQodGhpcy5lc2Nyb3dzKHsgd2FsbGV0LCBlc2Nyb3cgfSkuZXhpc3RzLCBFUlJfRVNDUk9XX0RPRVNfTk9UX0VYSVNUKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBFc2Nyb3cgZG9lcyBub3QgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjIyNwogICAgLy8gY29uc3QgeyBwaGFzZSwgYWxsb2NhdGFibGUsIGxhc3REaXNidXJzZW1lbnQsIGNyZWF0aW9uRGF0ZSB9ID0gdGhpcy5lc2Nyb3dzKHsgd2FsbGV0LCBlc2Nyb3cgfSkudmFsdWUKICAgIGR1cAogICAgYm94X2dldAogICAgcG9wCiAgICBkdXAKICAgIGV4dHJhY3QgNDEgMQogICAgZGlnIDEKICAgIHB1c2hpbnQgMjU2IC8vIDI1NgogICAgZ2V0Yml0CiAgICBkaWcgMgogICAgcHVzaGludCA1MCAvLyA1MAogICAgZXh0cmFjdF91aW50NjQKICAgIHVuY292ZXIgMwogICAgcHVzaGludCA1OCAvLyA1OAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjIyOAogICAgLy8gYXNzZXJ0KHBoYXNlID09PSBFc2Nyb3dEaXNidXJzZW1lbnRQaGFzZUlkbGUsIEVSUl9FU0NST1dfTk9UX0lETEUpCiAgICB1bmNvdmVyIDMKICAgIGJ5dGVjXzMgLy8gMHgwMAogICAgPT0KICAgIGFzc2VydCAvLyBFc2Nyb3cgaXMgbm90IGluIGlkbGUgcGhhc2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjIyOQogICAgLy8gYXNzZXJ0KGFsbG9jYXRhYmxlLCBFUlJfRVNDUk9XX05PVF9BTExPQ0FUQUJMRSkKICAgIHVuY292ZXIgMgogICAgYXNzZXJ0IC8vIEVzY3JvdyBpcyBub3QgYWxsb2NhdGFibGUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjIzMQogICAgLy8gY29uc3QgbGF0ZXN0V2luZG93OiB1aW50NjQgPSBHbG9iYWwubGF0ZXN0VGltZXN0YW1wIC0gKChHbG9iYWwubGF0ZXN0VGltZXN0YW1wIC0gY3JlYXRpb25EYXRlKSAlIE9ORV9EQVkpCiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgLQogICAgcHVzaGludCA4NjQwMCAvLyA4NjQwMAogICAgJQogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjMyCiAgICAvLyBhc3NlcnQobGF0ZXN0V2luZG93ID49IGxhc3REaXNidXJzZW1lbnQsIEVSUl9FU0NST1dfTk9UX1JFQURZX0ZPUl9ESVNCVVJTRU1FTlQpCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgPj0KICAgIGFzc2VydCAvLyBFc2Nyb3cgaXMgbm90IHJlYWR5IGZvciBkaXNidXJzZW1lbnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjIzNAogICAgLy8gdGhpcy5lc2Nyb3dzKHsgd2FsbGV0LCBlc2Nyb3cgfSkudmFsdWUucGhhc2UgPSBFc2Nyb3dEaXNidXJzZW1lbnRQaGFzZUFsbG9jYXRpb24KICAgIGRpZyAxCiAgICBpbnRjXzMgLy8gNDEKICAgIGJ5dGVjIDYgLy8gMHgxNAogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjIzNQogICAgLy8gdGhpcy5lc2Nyb3dzKHsgd2FsbGV0LCBlc2Nyb3cgfSkudmFsdWUubGFzdERpc2J1cnNlbWVudCA9IGxhdGVzdFdpbmRvdwogICAgaXRvYgogICAgcHVzaGludCA1MCAvLyA1MAogICAgc3dhcAogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjIzNwogICAgLy8gcmVrZXlCYWNrSWZOZWNlc3NhcnkocmVrZXlCYWNrLCB3YWxsZXQpCiAgICBzd2FwCiAgICBjYWxsc3ViIHJla2V5QmFja0lmTmVjZXNzYXJ5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMTgKICAgIC8vIHN0YXJ0RXNjcm93RGlzYnVyc2VtZW50KHdhbGxldDogQXBwbGljYXRpb24sIHJla2V5QmFjazogYm9vbGVhbik6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjpSZXZlbnVlTWFuYWdlclBsdWdpbi5wcm9jZXNzRXNjcm93QWxsb2NhdGlvbltyb3V0aW5nXSgpIC0+IHZvaWQ6CnByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uOgogICAgaW50Y18wIC8vIDAKICAgIGR1cG4gMwogICAgcHVzaGJ5dGVzICIiCiAgICBkdXBuIDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI0MAogICAgLy8gcHJvY2Vzc0VzY3Jvd0FsbG9jYXRpb24od2FsbGV0OiBBcHBsaWNhdGlvbiwgcmVrZXlCYWNrOiBib29sZWFuLCBpZHM6IHVpbnQ2NFtdKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIHVpbnQ2NAogICAgYnRvaQogICAgZHVwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGJvb2w4CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBzd2FwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGludGNfMiAvLyA4CiAgICAqCiAgICBwdXNoaW50IDIgLy8gMgogICAgKwogICAgc3dhcAogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciAobGVuK3VpbnQ2NFtdKQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNDQtMjQ3CiAgICAvLyBjb25zdCBbZXNjcm93Qnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoCiAgICAvLyAgIHdhbGxldCwKICAgIC8vICAgQnl0ZXMoQWJzdHJhY3RBY2NvdW50R2xvYmFsU3RhdGVLZXlzQ3VycmVudEVzY3JvdykKICAgIC8vICkKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNDYKICAgIC8vIEJ5dGVzKEFic3RyYWN0QWNjb3VudEdsb2JhbFN0YXRlS2V5c0N1cnJlbnRFc2Nyb3cpCiAgICBieXRlYyA0IC8vICJjdXJyZW50X2VzY3JvdyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjQ0LTI0NwogICAgLy8gY29uc3QgW2VzY3Jvd0J5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKAogICAgLy8gICB3YWxsZXQsCiAgICAvLyAgIEJ5dGVzKEFic3RyYWN0QWNjb3VudEdsb2JhbFN0YXRlS2V5c0N1cnJlbnRFc2Nyb3cpCiAgICAvLyApCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNDIKICAgIC8vIGNvbnN0IHsgaWQ6IGVzY3Jvd0lEIH0gPSBtdXN0R2V0RXNjcm93SW5mbyh3YWxsZXQpCiAgICBkdXAKICAgIGNhbGxzdWIgbXVzdEdldEVzY3Jvd0luZm8KICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBjb3ZlciAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIzNi0yMzkKICAgIC8vIGNvbnN0IFtzcGVuZGluZ0FkZHJlc3NCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcygKICAgIC8vICAgd2FsbGV0LAogICAgLy8gICBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNTcGVuZGluZ0FkZHJlc3MpCiAgICAvLyApCiAgICBkaWcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyMzgKICAgIC8vIEJ5dGVzKEFic3RyYWN0QWNjb3VudEdsb2JhbFN0YXRlS2V5c1NwZW5kaW5nQWRkcmVzcykKICAgIGJ5dGVjXzAgLy8gInNwZW5kaW5nX2FkZHJlc3MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIzNi0yMzkKICAgIC8vIGNvbnN0IFtzcGVuZGluZ0FkZHJlc3NCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcygKICAgIC8vICAgd2FsbGV0LAogICAgLy8gICBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNTcGVuZGluZ0FkZHJlc3MpCiAgICAvLyApCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGNvdmVyIDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI0NAogICAgLy8gYXNzZXJ0KHNlbmRlciA9PT0gQXBwbGljYXRpb24oZXNjcm93SUQpLmFkZHJlc3MsIEVSUl9DT05UUk9MTEVEX0FERFJFU1NfTVVTVF9CRV9FU0NST1cpCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIENvbnRyb2xsZWQgYWRkcmVzcyBtdXN0IGJlIGVzY3JvdwogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjQ2CiAgICAvLyBjb25zdCB7IHBoYXNlLCBvcHRpbkNvdW50LCBhbGxvY2F0aW9uQ291bnRlciB9ID0gdGhpcy5lc2Nyb3dzKHsgd2FsbGV0LCBlc2Nyb3cgfSkudmFsdWUKICAgIGl0b2IKICAgIGRpZyAxCiAgICBsZW4KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgc3dhcAogICAgYnl0ZWNfMSAvLyAweDAwMGEKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjMwCiAgICAvLyBlc2Nyb3dzID0gQm94TWFwPFdhbGxldEVzY3Jvd0tleSwgUmVjZWl2ZUVzY3Jvdz4oeyBrZXlQcmVmaXg6IFJldmVudWVNYW5hZ2VyQm94UHJlZml4RXNjcm93cyB9KQogICAgYnl0ZWNfMiAvLyAiZSIKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjQ2CiAgICAvLyBjb25zdCB7IHBoYXNlLCBvcHRpbkNvdW50LCBhbGxvY2F0aW9uQ291bnRlciB9ID0gdGhpcy5lc2Nyb3dzKHsgd2FsbGV0LCBlc2Nyb3cgfSkudmFsdWUKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBkdXAKICAgIGV4dHJhY3QgNDEgMQogICAgZGlnIDEKICAgIHB1c2hpbnQgMzMgLy8gMzMKICAgIGV4dHJhY3RfdWludDY0CiAgICB1bmNvdmVyIDIKICAgIHB1c2hpbnQgNDIgLy8gNDIKICAgIGV4dHJhY3RfdWludDY0CiAgICBjb3ZlciAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNDcKICAgIC8vIGFzc2VydChwaGFzZSA9PT0gRXNjcm93RGlzYnVyc2VtZW50UGhhc2VBbGxvY2F0aW9uLCBFUlJfRVNDUk9XX05PVF9JTl9BTExPQ0FUSU9OX1BIQVNFKQogICAgc3dhcAogICAgYnl0ZWMgNiAvLyAweDE0CiAgICA9PQogICAgYXNzZXJ0IC8vIEVzY3JvdyBpcyBub3QgaW4gYWxsb2NhdGlvbiBwaGFzZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjQ4CiAgICAvLyBjb25zdCB0b3RhbEFzc2V0c1RvUHJvY2VzczogdWludDY0ID0gb3B0aW5Db3VudCArIDEgLy8gKyAxIHRvIGluY2x1ZGUgYWxnbwogICAgaW50Y18xIC8vIDEKICAgICsKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjM0CiAgICAvLyBzcGxpdHMgPSBCb3hNYXA8V2FsbGV0RXNjcm93S2V5LCBTcGxpdFtdPih7IGtleVByZWZpeDogUmV2ZW51ZU1hbmFnZXJCb3hQcmVmaXhTcGxpdHMgfSkKICAgIHB1c2hieXRlcyAicyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo1MAogICAgLy8gaWYgKHRoaXMuc3BsaXRzKGtleSkuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJ6IHByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2FmdGVyX2lmX2Vsc2VAMzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjUxCiAgICAvLyByZXR1cm4gY2xvbmUodGhpcy5zcGxpdHMoa2V5KS52YWx1ZSkKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGJ1cnkgMTkKCnByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6OlJldmVudWVNYW5hZ2VyUGx1Z2luLnJlc29sdmVTcGxpdHNAMzM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNTQKICAgIC8vIGFzc2VydChzcGxpdHMubGVuZ3RoID4gMCwgRVJSX1NQTElUU19DQU5OT1RfQkVfRU1QVFkpCiAgICBkaWcgMTgKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBkdXAKICAgIGFzc2VydCAvLyBTcGxpdHMgY2Fubm90IGJlIGVtcHR5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNTUKICAgIC8vIGFzc2VydChzcGxpdHMubGVuZ3RoIDw9IDEwLCBFUlJfU1BMSVRTX0NBTk5PVF9CRV9NT1JFX1RIQU5fMTApCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICA8PQogICAgYXNzZXJ0IC8vIFNwbGl0cyBjYW5ub3QgYmUgbW9yZSB0aGFuIDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNTYKICAgIC8vIHRoaXMudmFsaWRhdGVTcGxpdHMoc3BsaXRzKQogICAgY2FsbHN1YiB2YWxpZGF0ZVNwbGl0cwogICAgYnVyeSAxOQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjU5CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxNQoKcHJvY2Vzc0VzY3Jvd0FsbG9jYXRpb25fd2hpbGVfdG9wQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNTkKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpICs9IDEpIHsKICAgIGRpZyAxNAogICAgZGlnIDgKICAgIDwKICAgIGJ6IHByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2FmdGVyX3doaWxlQDI1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNjAKICAgIC8vIGNvbnN0IGFzc2V0ID0gaWRzW2ldCiAgICBkaWcgOAogICAgZXh0cmFjdCAyIDAKICAgIGRpZyAxNQogICAgaW50Y18yIC8vIDgKICAgICoKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ1cnkgMTcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI2MQogICAgLy8gYXNzZXJ0KCF0aGlzLnJlY2VpdmVBc3NldHMoeyBlc2Nyb3c6IGVzY3Jvd0lELCBhc3NldCB9KS5leGlzdHMsIEVSUl9BU1NFVF9BTFJFQURZX0FMTE9DQVRFRCkKICAgIGRpZyA3CiAgICBpdG9iCiAgICBkaWcgMQogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozMgogICAgLy8gcmVjZWl2ZUFzc2V0cyA9IEJveE1hcDxFc2Nyb3dBc3NldEtleSwgYnl0ZXM8MD4+KHsga2V5UHJlZml4OiBSZXZlbnVlTWFuYWdlckJveFByZWZpeFJlY2VpdmVBc3NldHMgfSkKICAgIHB1c2hieXRlcyAiYSIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBidXJ5IDIzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNjEKICAgIC8vIGFzc2VydCghdGhpcy5yZWNlaXZlQXNzZXRzKHsgZXNjcm93OiBlc2Nyb3dJRCwgYXNzZXQgfSkuZXhpc3RzLCBFUlJfQVNTRVRfQUxSRUFEWV9BTExPQ0FURUQpCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgICEKICAgIGFzc2VydCAvLyBBc3NldCBpcyBhbHJlYWR5IGFsbG9jYXRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjYzLTI2NQogICAgLy8gY29uc3QgYmFsYW5jZTogdWludDY0ID0gYXNzZXQgPT09IDAKICAgIC8vICAgPyBvcC5iYWxhbmNlKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzKSAtIEdsb2JhbC5taW5CYWxhbmNlCiAgICAvLyAgIDogQXNzZXRIb2xkaW5nLmFzc2V0QmFsYW5jZShzZW5kZXIsIGFzc2V0KVswXQogICAgYm56IHByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX3Rlcm5hcnlfZmFsc2VANQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjY0CiAgICAvLyA/IG9wLmJhbGFuY2UoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MpIC0gR2xvYmFsLm1pbkJhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBiYWxhbmNlCiAgICBnbG9iYWwgTWluQmFsYW5jZQogICAgLQoKcHJvY2Vzc0VzY3Jvd0FsbG9jYXRpb25fdGVybmFyeV9tZXJnZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjY4CiAgICAvLyBmb3IgKGxldCBqOiB1aW50NjQgPSAwOyBqIDwgc3BsaXRzLmxlbmd0aDsgaisrKSB7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxNQogICAgYnVyeSAxMwoKcHJvY2Vzc0VzY3Jvd0FsbG9jYXRpb25fd2hpbGVfdG9wQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNjgKICAgIC8vIGZvciAobGV0IGo6IHVpbnQ2NCA9IDA7IGogPCBzcGxpdHMubGVuZ3RoOyBqKyspIHsKICAgIGRpZyAxOAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBkaWcgMTQKICAgID4KICAgIGJ6IHByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2FmdGVyX3doaWxlQDI0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNjkKICAgIC8vIGNvbnN0IHsgdHlwZSwgcmVjZWl2ZXIsIHZhbHVlIH0gPSBjbG9uZShzcGxpdHNbal0pCiAgICBkaWcgMTgKICAgIGV4dHJhY3QgMiAwCiAgICBkaWcgMTQKICAgIGludGNfMyAvLyA0MQogICAgKgogICAgaW50Y18zIC8vIDQxCiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgZXh0cmFjdCAzMiAxCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJ1cnkgMjAKICAgIGR1cAogICAgZXh0cmFjdCAwIDMyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJ1cnkgMjMKICAgIHB1c2hpbnQgMzMgLy8gMzMKICAgIGV4dHJhY3RfdWludDY0CiAgICBidXJ5IDE0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNzEKICAgIC8vIGFzc2VydChyZWNlaXZlci5pc09wdGVkSW4oQXNzZXQoYXNzZXQpKSwgRVJSX0VTQ1JPV19OT1RfT1BURURfSU4pCiAgICBkaWcgMTcKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gRXNjcm93IGlzIG5vdCBvcHRlZCBpbiB0byB0aGUgYXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI3MwogICAgLy8gbGV0IGFtb3VudDogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI3NQogICAgLy8gY2FzZSBTcGxpdERpc3RyaWJ1dGlvblR5cGVGbGF0OgogICAgcHVzaGJ5dGVzIDB4MGEKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNzUtMjc3CiAgICAvLyBjYXNlIFNwbGl0RGlzdHJpYnV0aW9uVHlwZUZsYXQ6CiAgICAvLyAgIGFtb3VudCA9IHZhbHVlCiAgICAvLyAgIGJyZWFrCiAgICBieiBwcm9jZXNzRXNjcm93QWxsb2NhdGlvbl9hZnRlcl9pZl9lbHNlQDExCiAgICBkaWcgMTEKICAgIGJ1cnkgMTcKCnByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2Jsb2NrQDE4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6Mjg4CiAgICAvLyBhc3NlcnQoYW1vdW50IDw9IHJlbWFpbmluZywgRVJSX09WRVJfQUxMT0NBVElPTikKICAgIGRpZyAxNgogICAgZHVwCiAgICBkaWcgMTQKICAgIGR1cAogICAgY292ZXIgMgogICAgPD0KICAgIGFzc2VydCAvLyBPdmVyIGFsbG9jYXRpb24gb2YgYXNzZXRzIGluIHRoZSBlc2Nyb3cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI4OQogICAgLy8gcmVtYWluaW5nIC09IGFtb3VudAogICAgc3dhcAogICAgLQogICAgYnVyeSAxMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjkxCiAgICAvLyBpZiAoYXNzZXQgPT09IDApIHsKICAgIGRpZyAxNQogICAgYm56IHByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2Vsc2VfYm9keUAyMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjkyLTI5OAogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgc2VuZGVyLAogICAgLy8gICAgIHJlY2VpdmVyLAogICAgLy8gICAgIGFtb3VudAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIGRpZyAxNgogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIGRpZyAxOQogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgZGlnIDUKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyOTItMjk3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICBzZW5kZXIsCiAgICAvLyAgICAgcmVjZWl2ZXIsCiAgICAvLyAgICAgYW1vdW50CiAgICAvLyAgIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyOTItMjk4CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICBzZW5kZXIsCiAgICAvLyAgICAgcmVjZWl2ZXIsCiAgICAvLyAgICAgYW1vdW50CiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKCnByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2FmdGVyX2lmX2Vsc2VAMjM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNjgKICAgIC8vIGZvciAobGV0IGo6IHVpbnQ2NCA9IDA7IGogPCBzcGxpdHMubGVuZ3RoOyBqKyspIHsKICAgIGRpZyAxMwogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMTQKICAgIGIgcHJvY2Vzc0VzY3Jvd0FsbG9jYXRpb25fd2hpbGVfdG9wQDcKCnByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2Vsc2VfYm9keUAyMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjMwMC0zMDcKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHNlbmRlciwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiByZWNlaXZlciwKICAgIC8vICAgICBhc3NldEFtb3VudDogYW1vdW50LAogICAgLy8gICAgIHhmZXJBc3NldDogYXNzZXQKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICBkaWcgMTUKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBkaWcgMTYKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGRpZyAxOQogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBkaWcgNQogICAgaXR4bl9maWVsZCBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjMwMC0zMDYKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHNlbmRlciwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiByZWNlaXZlciwKICAgIC8vICAgICBhc3NldEFtb3VudDogYW1vdW50LAogICAgLy8gICAgIHhmZXJBc3NldDogYXNzZXQKICAgIC8vICAgfSkKICAgIHB1c2hpbnQgNCAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjMwMC0zMDcKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHNlbmRlciwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiByZWNlaXZlciwKICAgIC8vICAgICBhc3NldEFtb3VudDogYW1vdW50LAogICAgLy8gICAgIHhmZXJBc3NldDogYXNzZXQKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgYiBwcm9jZXNzRXNjcm93QWxsb2NhdGlvbl9hZnRlcl9pZl9lbHNlQDIzCgpwcm9jZXNzRXNjcm93QWxsb2NhdGlvbl9hZnRlcl9pZl9lbHNlQDExOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6Mjc4CiAgICAvLyBjYXNlIFNwbGl0RGlzdHJpYnV0aW9uVHlwZVBlcmNlbnRhZ2U6CiAgICBkaWcgMTcKICAgIGJ5dGVjIDYgLy8gMHgxNAogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI3OC0yODEKICAgIC8vIGNhc2UgU3BsaXREaXN0cmlidXRpb25UeXBlUGVyY2VudGFnZToKICAgIC8vICAgLy8gQ2FsY3VsYXRlIHBlcmNlbnRhZ2Ugb24gcmVtYWluaW5nIGJhbGFuY2UgKGFmdGVyIGZsYXQgYW1vdW50cykKICAgIC8vICAgYW1vdW50ID0gY2FsY1BlcmNlbnQocmVtYWluaW5nLCB2YWx1ZSkKICAgIC8vICAgYnJlYWsKICAgIGJ6IHByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2FmdGVyX2lmX2Vsc2VAMTQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6OTIKICAgIC8vIGFzc2VydChwIDw9IERJVklTT1IsIEVSUl9JTlZBTElEX1BFUkNFTlRBR0UpCiAgICBkaWcgMTEKICAgIGR1cAogICAgaW50YyA0IC8vIDEwMDAwMAogICAgPD0KICAgIGFzc2VydCAvLyBJbnZhbGlkIHBlcmNlbnRhZ2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6OTMKICAgIC8vIHJldHVybiBvcC5kaXZ3KC4uLm9wLm11bHcoYSwgcCksIERJVklTT1IpCiAgICBkaWcgMTMKICAgIG11bHcKICAgIGludGMgNCAvLyAxMDAwMDAKICAgIGRpdncKICAgIGJ1cnkgMTcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI4MQogICAgLy8gYnJlYWsKICAgIGIgcHJvY2Vzc0VzY3Jvd0FsbG9jYXRpb25fYmxvY2tAMTgKCnByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2FmdGVyX2lmX2Vsc2VAMTQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyODIKICAgIC8vIGNhc2UgU3BsaXREaXN0cmlidXRpb25UeXBlUmVtYWluZGVyOgogICAgZGlnIDE3CiAgICBieXRlYyA1IC8vIDB4MWUKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyODItMjg1CiAgICAvLyBjYXNlIFNwbGl0RGlzdHJpYnV0aW9uVHlwZVJlbWFpbmRlcjoKICAgIC8vICAgLy8gUmVtYWluZGVyIGdldHMgd2hhdGV2ZXIgaXMgbGVmdAogICAgLy8gICBhbW91bnQgPSByZW1haW5pbmcKICAgIC8vICAgYnJlYWsKICAgIGJ6IHByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2Jsb2NrQDE4CiAgICBkaWcgMTIKICAgIGJ1cnkgMTcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI4NQogICAgLy8gYnJlYWsKICAgIGIgcHJvY2Vzc0VzY3Jvd0FsbG9jYXRpb25fYmxvY2tAMTgKCnByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2FmdGVyX3doaWxlQDI0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MzExCiAgICAvLyB0aGlzLnJlY2VpdmVBc3NldHMoeyBlc2Nyb3c6IGVzY3Jvd0lELCBhc3NldCB9KS5jcmVhdGUoKQogICAgZGlnIDIwCiAgICBpbnRjXzAgLy8gMAogICAgYm94X2NyZWF0ZQogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNTkKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpICs9IDEpIHsKICAgIGRpZyAxNAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMTUKICAgIGIgcHJvY2Vzc0VzY3Jvd0FsbG9jYXRpb25fd2hpbGVfdG9wQDIKCnByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX3Rlcm5hcnlfZmFsc2VANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI2NQogICAgLy8gOiBBc3NldEhvbGRpbmcuYXNzZXRCYWxhbmNlKHNlbmRlciwgYXNzZXQpWzBdCiAgICBkaWcgNQogICAgZGlnIDE2CiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIHBvcAogICAgYiBwcm9jZXNzRXNjcm93QWxsb2NhdGlvbl90ZXJuYXJ5X21lcmdlQDYKCnByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2FmdGVyX3doaWxlQDI1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MzE0CiAgICAvLyB0aGlzLmVzY3Jvd3MoeyB3YWxsZXQsIGVzY3JvdyB9KS52YWx1ZS5hbGxvY2F0aW9uQ291bnRlciArPSBpZHMubGVuZ3RoCiAgICBkaWcgMwogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgcHVzaGludCA0MiAvLyA0MgogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyA5CiAgICBkdXAKICAgIGNvdmVyIDIKICAgICsKICAgIGl0b2IKICAgIHVuY292ZXIgMgogICAgcHVzaGludCA0MiAvLyA0MgogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MzE1CiAgICAvLyBpZiAoKGFsbG9jYXRpb25Db3VudGVyICsgaWRzLmxlbmd0aCkgPT09IHRvdGFsQXNzZXRzVG9Qcm9jZXNzKSB7CiAgICBkaWcgMwogICAgKwogICAgZGlnIDIKICAgID09CiAgICBieiBwcm9jZXNzRXNjcm93QWxsb2NhdGlvbl9hZnRlcl9pZl9lbHNlQDI3CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozMTYKICAgIC8vIHRoaXMuZXNjcm93cyh7IHdhbGxldCwgZXNjcm93IH0pLnZhbHVlLnBoYXNlID0gRXNjcm93RGlzYnVyc2VtZW50UGhhc2VGaW5hbGl6YXRpb24KICAgIGRpZyAzCiAgICBpbnRjXzMgLy8gNDEKICAgIGJ5dGVjIDUgLy8gMHgxZQogICAgYm94X3JlcGxhY2UKCnByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2FmdGVyX2lmX2Vsc2VAMjc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozMTkKICAgIC8vIHJla2V5QmFja0lmTmVjZXNzYXJ5KHJla2V5QmFjaywgd2FsbGV0KQogICAgZGlnIDkKICAgIGRpZyAxMQogICAgY2FsbHN1YiByZWtleUJhY2tJZk5lY2Vzc2FyeQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjQwCiAgICAvLyBwcm9jZXNzRXNjcm93QWxsb2NhdGlvbih3YWxsZXQ6IEFwcGxpY2F0aW9uLCByZWtleUJhY2s6IGJvb2xlYW4sIGlkczogdWludDY0W10pOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCnByb2Nlc3NFc2Nyb3dBbGxvY2F0aW9uX2FmdGVyX2lmX2Vsc2VAMzI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozNgogICAgLy8gc3BsaXRSZWZzID0gQm94TWFwPFdhbGxldEVzY3Jvd0tleSwgU3BsaXRSZWY+KHsga2V5UHJlZml4OiBSZXZlbnVlTWFuYWdlckJveFByZWZpeFNwbGl0UmVmcyB9KQogICAgcHVzaGJ5dGVzICJyIgogICAgZGlnIDUKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NTUKICAgIC8vIGFzc2VydCh0aGlzLnNwbGl0UmVmcyhrZXkpLmV4aXN0cywgRVJSX1NQTElUU19PUl9SRUZfUkVRVUlSRUQpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIEVpdGhlciBzcGxpdHMgb3IgYSBzcGxpdCByZWZlcmVuY2UgbXVzdCBiZSBwcm92aWRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NTYKICAgIC8vIGNvbnN0IHsgYXBwLCBrZXk6IHJlZktleSB9ID0gdGhpcy5zcGxpdFJlZnMoa2V5KS52YWx1ZQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIHN3YXAKICAgIGludGNfMCAvLyAwCiAgICBpbnRjXzIgLy8gOAogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgIGRpZyAxCiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyAyCiAgICBsZW4KICAgIHVuY292ZXIgMwogICAgY292ZXIgMgogICAgc3Vic3RyaW5nMwogICAgZXh0cmFjdCAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjU5CiAgICAvLyBjb25zdCBbcmVmU3BsaXRzQnl0ZXMsIGV4aXN0c10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhBcHBsaWNhdGlvbihhcHApLCBCeXRlcyhyZWZLZXkpKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjYwCiAgICAvLyBhc3NlcnQoZXhpc3RzLCBFUlJfU1BMSVRfUkVGX05PVF9GT1VORCkKICAgIGFzc2VydCAvLyBSZWZlcmVuY2VkIHNwbGl0cyBub3QgZm91bmQgaW4gdGFyZ2V0IGNvbnRyYWN0CiAgICBidXJ5IDE5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNTEKICAgIC8vIGNvbnN0IHNwbGl0cyA9IHRoaXMucmVzb2x2ZVNwbGl0cyh3YWxsZXQsIGVzY3JvdykKICAgIGIgcHJvY2Vzc0VzY3Jvd0FsbG9jYXRpb25fYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo6UmV2ZW51ZU1hbmFnZXJQbHVnaW4ucmVzb2x2ZVNwbGl0c0AzMwoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjpSZXZlbnVlTWFuYWdlclBsdWdpbi5maW5hbGl6ZUVzY3Jvd0Rpc2J1cnNlbWVudFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmZpbmFsaXplRXNjcm93RGlzYnVyc2VtZW50OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MzI3CiAgICAvLyBmaW5hbGl6ZUVzY3Jvd0Rpc2J1cnNlbWVudCh3YWxsZXQ6IEFwcGxpY2F0aW9uLCByZWtleUJhY2s6IGJvb2xlYW4sIGlkczogdWludDY0W10pOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgdWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYm9vbDgKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIHN3YXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgY292ZXIgMgogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGR1cAogICAgY292ZXIgMwogICAgaW50Y18yIC8vIDgKICAgICoKICAgIHB1c2hpbnQgMiAvLyAyCiAgICArCiAgICBzd2FwCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIChsZW4rdWludDY0W10pCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI0NC0yNDcKICAgIC8vIGNvbnN0IFtlc2Nyb3dCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcygKICAgIC8vICAgd2FsbGV0LAogICAgLy8gICBCeXRlcyhBYnN0cmFjdEFjY291bnRHbG9iYWxTdGF0ZUtleXNDdXJyZW50RXNjcm93KQogICAgLy8gKQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI0NgogICAgLy8gQnl0ZXMoQWJzdHJhY3RBY2NvdW50R2xvYmFsU3RhdGVLZXlzQ3VycmVudEVzY3JvdykKICAgIGJ5dGVjIDQgLy8gImN1cnJlbnRfZXNjcm93IgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyNDQtMjQ3CiAgICAvLyBjb25zdCBbZXNjcm93Qnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoCiAgICAvLyAgIHdhbGxldCwKICAgIC8vICAgQnl0ZXMoQWJzdHJhY3RBY2NvdW50R2xvYmFsU3RhdGVLZXlzQ3VycmVudEVzY3JvdykKICAgIC8vICkKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjMyOQogICAgLy8gY29uc3QgeyBpZDogZXNjcm93SUQgfSA9IG11c3RHZXRFc2Nyb3dJbmZvKHdhbGxldCkKICAgIGR1cAogICAgY2FsbHN1YiBtdXN0R2V0RXNjcm93SW5mbwogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGNvdmVyIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjM2LTIzOQogICAgLy8gY29uc3QgW3NwZW5kaW5nQWRkcmVzc0J5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKAogICAgLy8gICB3YWxsZXQsCiAgICAvLyAgIEJ5dGVzKEFic3RyYWN0QWNjb3VudEdsb2JhbFN0YXRlS2V5c1NwZW5kaW5nQWRkcmVzcykKICAgIC8vICkKICAgIGRpZyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIzOAogICAgLy8gQnl0ZXMoQWJzdHJhY3RBY2NvdW50R2xvYmFsU3RhdGVLZXlzU3BlbmRpbmdBZGRyZXNzKQogICAgYnl0ZWNfMCAvLyAic3BlbmRpbmdfYWRkcmVzcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjM2LTIzOQogICAgLy8gY29uc3QgW3NwZW5kaW5nQWRkcmVzc0J5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKAogICAgLy8gICB3YWxsZXQsCiAgICAvLyAgIEJ5dGVzKEFic3RyYWN0QWNjb3VudEdsb2JhbFN0YXRlS2V5c1NwZW5kaW5nQWRkcmVzcykKICAgIC8vICkKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjMzMQogICAgLy8gYXNzZXJ0KHNlbmRlciA9PT0gQXBwbGljYXRpb24oZXNjcm93SUQpLmFkZHJlc3MsIEVSUl9DT05UUk9MTEVEX0FERFJFU1NfTVVTVF9CRV9FU0NST1cpCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIENvbnRyb2xsZWQgYWRkcmVzcyBtdXN0IGJlIGVzY3JvdwogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MzMzCiAgICAvLyBjb25zdCB7IHBoYXNlLCBhbGxvY2F0aW9uQ291bnRlciB9ID0gdGhpcy5lc2Nyb3dzKHsgd2FsbGV0LCBlc2Nyb3cgfSkudmFsdWUKICAgIGl0b2IKICAgIGRpZyAxCiAgICBsZW4KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgc3dhcAogICAgYnl0ZWNfMSAvLyAweDAwMGEKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozMAogICAgLy8gZXNjcm93cyA9IEJveE1hcDxXYWxsZXRFc2Nyb3dLZXksIFJlY2VpdmVFc2Nyb3c+KHsga2V5UHJlZml4OiBSZXZlbnVlTWFuYWdlckJveFByZWZpeEVzY3Jvd3MgfSkKICAgIGJ5dGVjXzIgLy8gImUiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MzMzCiAgICAvLyBjb25zdCB7IHBoYXNlLCBhbGxvY2F0aW9uQ291bnRlciB9ID0gdGhpcy5lc2Nyb3dzKHsgd2FsbGV0LCBlc2Nyb3cgfSkudmFsdWUKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBkdXAKICAgIGV4dHJhY3QgNDEgMQogICAgc3dhcAogICAgcHVzaGludCA0MiAvLyA0MgogICAgZXh0cmFjdF91aW50NjQKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjMzNAogICAgLy8gYXNzZXJ0KHBoYXNlID09PSBFc2Nyb3dEaXNidXJzZW1lbnRQaGFzZUZpbmFsaXphdGlvbiwgRVJSX0VTQ1JPV19OT1RfSU5fRklOQUxJWkFUSU9OX1BIQVNFKQogICAgYnl0ZWMgNSAvLyAweDFlCiAgICA9PQogICAgYXNzZXJ0IC8vIEVzY3JvdyBpcyBub3QgaW4gZmluYWxpemF0aW9uIHBoYXNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozMzcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHsKICAgIGludGNfMCAvLyAwCgpmaW5hbGl6ZUVzY3Jvd0Rpc2J1cnNlbWVudF93aGlsZV90b3BAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjMzNwogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykgewogICAgZHVwCiAgICBkaWcgNQogICAgPAogICAgYnogZmluYWxpemVFc2Nyb3dEaXNidXJzZW1lbnRfYWZ0ZXJfd2hpbGVANAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MzM4CiAgICAvLyBjb25zdCBhc3NldCA9IGlkc1tpXQogICAgZGlnIDUKICAgIGV4dHJhY3QgMiAwCiAgICBkaWcgMQogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpbnRjXzIgLy8gOAogICAgKgogICAgaW50Y18yIC8vIDgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MzM5CiAgICAvLyBhc3NlcnQodGhpcy5yZWNlaXZlQXNzZXRzKHsgZXNjcm93OiBlc2Nyb3dJRCwgYXNzZXQgfSkuZXhpc3RzLCBFUlJfQVNTRVRfTk9UX0FMTE9DQVRFRCkKICAgIGRpZyA1CiAgICBpdG9iCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjMyCiAgICAvLyByZWNlaXZlQXNzZXRzID0gQm94TWFwPEVzY3Jvd0Fzc2V0S2V5LCBieXRlczwwPj4oeyBrZXlQcmVmaXg6IFJldmVudWVNYW5hZ2VyQm94UHJlZml4UmVjZWl2ZUFzc2V0cyB9KQogICAgcHVzaGJ5dGVzICJhIgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozMzkKICAgIC8vIGFzc2VydCh0aGlzLnJlY2VpdmVBc3NldHMoeyBlc2Nyb3c6IGVzY3Jvd0lELCBhc3NldCB9KS5leGlzdHMsIEVSUl9BU1NFVF9OT1RfQUxMT0NBVEVEKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBBc3NldCB3YXMgbm90IGFsbG9jYXRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MzQwCiAgICAvLyB0aGlzLnJlY2VpdmVBc3NldHMoeyBlc2Nyb3c6IGVzY3Jvd0lELCBhc3NldCB9KS5kZWxldGUoKQogICAgYm94X2RlbAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozMzcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHsKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDEKICAgIGIgZmluYWxpemVFc2Nyb3dEaXNidXJzZW1lbnRfd2hpbGVfdG9wQDIKCmZpbmFsaXplRXNjcm93RGlzYnVyc2VtZW50X2FmdGVyX3doaWxlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozNDQKICAgIC8vIHRoaXMuZXNjcm93cyh7IHdhbGxldCwgZXNjcm93IH0pLnZhbHVlLmFsbG9jYXRpb25Db3VudGVyIC09IGlkcy5sZW5ndGgKICAgIGRpZyAyCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBwdXNoaW50IDQyIC8vIDQyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDYKICAgIGR1cAogICAgY292ZXIgMgogICAgLQogICAgaXRvYgogICAgdW5jb3ZlciAyCiAgICBwdXNoaW50IDQyIC8vIDQyCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozNDcKICAgIC8vIGlmICgoYWxsb2NhdGlvbkNvdW50ZXIgLSBpZHMubGVuZ3RoKSA9PT0gMCkgewogICAgZGlnIDIKICAgIHN3YXAKICAgIC0KICAgIGJueiBmaW5hbGl6ZUVzY3Jvd0Rpc2J1cnNlbWVudF9hZnRlcl9pZl9lbHNlQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjM0OAogICAgLy8gdGhpcy5lc2Nyb3dzKHsgd2FsbGV0LCBlc2Nyb3cgfSkudmFsdWUucGhhc2UgPSBFc2Nyb3dEaXNidXJzZW1lbnRQaGFzZUlkbGUKICAgIGRpZyAyCiAgICBpbnRjXzMgLy8gNDEKICAgIGJ5dGVjXzMgLy8gMHgwMAogICAgYm94X3JlcGxhY2UKCmZpbmFsaXplRXNjcm93RGlzYnVyc2VtZW50X2FmdGVyX2lmX2Vsc2VANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjM1MQogICAgLy8gcmVrZXlCYWNrSWZOZWNlc3NhcnkocmVrZXlCYWNrLCB3YWxsZXQpCiAgICBkaWcgNgogICAgZGlnIDgKICAgIGNhbGxzdWIgcmVrZXlCYWNrSWZOZWNlc3NhcnkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjMyNwogICAgLy8gZmluYWxpemVFc2Nyb3dEaXNidXJzZW1lbnQod2FsbGV0OiBBcHBsaWNhdGlvbiwgcmVrZXlCYWNrOiBib29sZWFuLCBpZHM6IHVpbnQ2NFtdKTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6OkFraXRhQmFzZUNvbnRyYWN0LnVwZGF0ZUFraXRhREFPW3JvdXRpbmddKCkgLT4gdm9pZDoKdXBkYXRlQWtpdGFEQU86CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czozNwogICAgLy8gdXBkYXRlQWtpdGFEQU8oYWtpdGFEQU86IEFwcGxpY2F0aW9uKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIHVpbnQ2NAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MzgKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0aGlzLmdldEFraXRhREFPV2FsbGV0KCkuYWRkcmVzcywgRVJSX05PVF9BS0lUQV9EQU8pCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czozMQogICAgLy8gY29uc3QgW3dhbGxldElEXSA9IG9wLkFwcEdsb2JhbC5nZXRFeFVpbnQ2NCh0aGlzLmFraXRhREFPLnZhbHVlLCBCeXRlcyhBa2l0YURBT0dsb2JhbFN0YXRlS2V5c1dhbGxldCkpCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MjgKICAgIC8vIGFraXRhREFPID0gR2xvYmFsU3RhdGU8QXBwbGljYXRpb24+KHsga2V5OiBHbG9iYWxTdGF0ZUtleUFraXRhREFPIH0pCiAgICBieXRlYyA3IC8vICJha2l0YV9kYW8iCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czozMQogICAgLy8gY29uc3QgW3dhbGxldElEXSA9IG9wLkFwcEdsb2JhbC5nZXRFeFVpbnQ2NCh0aGlzLmFraXRhREFPLnZhbHVlLCBCeXRlcyhBa2l0YURBT0dsb2JhbFN0YXRlS2V5c1dhbGxldCkpCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgcHVzaGJ5dGVzICJ3YWxsZXQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czozOAogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuZ2V0QWtpdGFEQU9XYWxsZXQoKS5hZGRyZXNzLCBFUlJfTk9UX0FLSVRBX0RBTykKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgID09CiAgICBhc3NlcnQgLy8gT25seSB0aGUgQWtpdGEgREFPIGNhbiBjYWxsIHRoaXMgZnVuY3Rpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjI4CiAgICAvLyBha2l0YURBTyA9IEdsb2JhbFN0YXRlPEFwcGxpY2F0aW9uPih7IGtleTogR2xvYmFsU3RhdGVLZXlBa2l0YURBTyB9KQogICAgYnl0ZWMgNyAvLyAiYWtpdGFfZGFvIgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MzkKICAgIC8vIHRoaXMuYWtpdGFEQU8udmFsdWUgPSBha2l0YURBTwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjM3CiAgICAvLyB1cGRhdGVBa2l0YURBTyhha2l0YURBTzogQXBwbGljYXRpb24pOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo6UmV2ZW51ZU1hbmFnZXJQbHVnaW4uY29udHJvbHMoc2VuZGVyOiBieXRlcykgLT4gdWludDY0Ogpjb250cm9sczoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjM4CiAgICAvLyBwcml2YXRlIGNvbnRyb2xzKHNlbmRlcjogQWNjb3VudCk6IGJvb2xlYW4gewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozOQogICAgLy8gcmV0dXJuIHNlbmRlci5hdXRoQWRkcmVzcyA9PT0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGZyYW1lX2RpZyAtMQogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RBdXRoQWRkcgogICAgYXNzZXJ0IC8vIGFjY291bnQgZnVuZGVkCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgPT0KICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjpSZXZlbnVlTWFuYWdlclBsdWdpbi52YWxpZGF0ZVNwbGl0cyhzcGxpdHM6IGJ5dGVzKSAtPiBieXRlczoKdmFsaWRhdGVTcGxpdHM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo2NwogICAgLy8gcHJpdmF0ZSB2YWxpZGF0ZVNwbGl0cyhzcGxpdHM6IFNwbGl0W10pOiB2b2lkIHsKICAgIHByb3RvIDEgMQogICAgaW50Y18wIC8vIDAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo2OAogICAgLy8gbGV0IHRvdGFsUGVyY2VudGFnZTogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjY5LTcwCiAgICAvLyBsZXQgaGFzUmVtYWluZGVyOiBib29sZWFuID0gZmFsc2UKICAgIC8vIGxldCBoYXNGbGF0OiBib29sZWFuID0gZmFsc2UKICAgIGR1cG4gMwoKdmFsaWRhdGVTcGxpdHNfd2hpbGVfdG9wQDE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo3MgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHNwbGl0cy5sZW5ndGg7IGkrKykgewogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGR1cAogICAgZnJhbWVfYnVyeSAxCiAgICBmcmFtZV9kaWcgNwogICAgPgogICAgYnogdmFsaWRhdGVTcGxpdHNfYWZ0ZXJfd2hpbGVAMTcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjczCiAgICAvLyBjb25zdCB7IHR5cGUsIHZhbHVlIH0gPSBjbG9uZShzcGxpdHNbaV0pCiAgICBmcmFtZV9kaWcgLTEKICAgIGV4dHJhY3QgMiAwCiAgICBmcmFtZV9kaWcgNwogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpbnRjXzMgLy8gNDEKICAgICoKICAgIGludGNfMyAvLyA0MQogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkdXAKICAgIGV4dHJhY3QgMzIgMQogICAgZnJhbWVfYnVyeSAwCiAgICBwdXNoaW50IDMzIC8vIDMzCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjc0CiAgICAvLyBjb25zdCBpc0xhc3QgPSBpID09PSBzcGxpdHMubGVuZ3RoIC0gMQogICAgZnJhbWVfZGlnIDEKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICB1bmNvdmVyIDIKICAgID09CiAgICBmcmFtZV9idXJ5IDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjc4CiAgICAvLyB2YWx1ZSA+IDAgfHwgdHlwZSA9PT0gU3BsaXREaXN0cmlidXRpb25UeXBlUmVtYWluZGVyLAogICAgYm56IHZhbGlkYXRlU3BsaXRzX2Jvb2xfdHJ1ZUA0CiAgICBmcmFtZV9kaWcgMAogICAgYnl0ZWMgNSAvLyAweDFlCiAgICA9PQogICAgYnogdmFsaWRhdGVTcGxpdHNfYm9vbF9mYWxzZUA1Cgp2YWxpZGF0ZVNwbGl0c19ib29sX3RydWVANDoKICAgIGludGNfMSAvLyAxCgp2YWxpZGF0ZVNwbGl0c19ib29sX21lcmdlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo3Ny04MAogICAgLy8gYXNzZXJ0KAogICAgLy8gICB2YWx1ZSA+IDAgfHwgdHlwZSA9PT0gU3BsaXREaXN0cmlidXRpb25UeXBlUmVtYWluZGVyLAogICAgLy8gICBFUlJfU1BMSVRfVkFMVUVfTVVTVF9CRV9QT1NJVElWRV9PUl9SRU1BSU5ERVIKICAgIC8vICkKICAgIGFzc2VydCAvLyBTcGxpdCB2YWx1ZSBtdXN0IGJlIHBvc2l0aXZlIG9yIHJlbWFpbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6ODMKICAgIC8vIGNhc2UgU3BsaXREaXN0cmlidXRpb25UeXBlUGVyY2VudGFnZToKICAgIGZyYW1lX2RpZyAwCiAgICBieXRlYyA2IC8vIDB4MTQKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo4My04NQogICAgLy8gY2FzZSBTcGxpdERpc3RyaWJ1dGlvblR5cGVQZXJjZW50YWdlOgogICAgLy8gICB0b3RhbFBlcmNlbnRhZ2UgKz0gdmFsdWUKICAgIC8vICAgYnJlYWsKICAgIGJ6IHZhbGlkYXRlU3BsaXRzX2FmdGVyX2lmX2Vsc2VAOQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6ODQKICAgIC8vIHRvdGFsUGVyY2VudGFnZSArPSB2YWx1ZQogICAgZnJhbWVfZGlnIDQKICAgIGZyYW1lX2RpZyAzCiAgICArCiAgICBmcmFtZV9idXJ5IDQKCnZhbGlkYXRlU3BsaXRzX2Jsb2NrQDE2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NzIKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBzcGxpdHMubGVuZ3RoOyBpKyspIHsKICAgIGZyYW1lX2RpZyA3CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSA3CiAgICBiIHZhbGlkYXRlU3BsaXRzX3doaWxlX3RvcEAxCgp2YWxpZGF0ZVNwbGl0c19hZnRlcl9pZl9lbHNlQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo4NgogICAgLy8gY2FzZSBTcGxpdERpc3RyaWJ1dGlvblR5cGVGbGF0OgogICAgZnJhbWVfZGlnIDAKICAgIHB1c2hieXRlcyAweDBhCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6ODYtODgKICAgIC8vIGNhc2UgU3BsaXREaXN0cmlidXRpb25UeXBlRmxhdDoKICAgIC8vICAgaGFzRmxhdCA9IHRydWUKICAgIC8vICAgYnJlYWsKICAgIGJ6IHZhbGlkYXRlU3BsaXRzX2FmdGVyX2lmX2Vsc2VAMTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjg3CiAgICAvLyBoYXNGbGF0ID0gdHJ1ZQogICAgaW50Y18xIC8vIDEKICAgIGZyYW1lX2J1cnkgNgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6ODgKICAgIC8vIGJyZWFrCiAgICBiIHZhbGlkYXRlU3BsaXRzX2Jsb2NrQDE2Cgp2YWxpZGF0ZVNwbGl0c19hZnRlcl9pZl9lbHNlQDEyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6ODkKICAgIC8vIGNhc2UgU3BsaXREaXN0cmlidXRpb25UeXBlUmVtYWluZGVyOgogICAgZnJhbWVfZGlnIDAKICAgIGJ5dGVjIDUgLy8gMHgxZQogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjg5LTkzCiAgICAvLyBjYXNlIFNwbGl0RGlzdHJpYnV0aW9uVHlwZVJlbWFpbmRlcjoKICAgIC8vICAgLy8gUmVtYWluZGVyIG11c3QgYmUgbGFzdAogICAgLy8gICBhc3NlcnQoaXNMYXN0LCBFUlJfUkVNQUlOREVSX01VU1RfQkVfTEFTVCkKICAgIC8vICAgaGFzUmVtYWluZGVyID0gdHJ1ZQogICAgLy8gICBicmVhawogICAgYnogdmFsaWRhdGVTcGxpdHNfYmxvY2tAMTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjkxCiAgICAvLyBhc3NlcnQoaXNMYXN0LCBFUlJfUkVNQUlOREVSX01VU1RfQkVfTEFTVCkKICAgIGZyYW1lX2RpZyAyCiAgICBhc3NlcnQgLy8gUmVtYWluZGVyIHNwbGl0IG11c3QgYmUgdGhlIGxhc3Qgc3BsaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjkyCiAgICAvLyBoYXNSZW1haW5kZXIgPSB0cnVlCiAgICBpbnRjXzEgLy8gMQogICAgZnJhbWVfYnVyeSA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo5MwogICAgLy8gYnJlYWsKICAgIGIgdmFsaWRhdGVTcGxpdHNfYmxvY2tAMTYKCnZhbGlkYXRlU3BsaXRzX2Jvb2xfZmFsc2VANToKICAgIGludGNfMCAvLyAwCiAgICBiIHZhbGlkYXRlU3BsaXRzX2Jvb2xfbWVyZ2VANgoKdmFsaWRhdGVTcGxpdHNfYWZ0ZXJfd2hpbGVAMTc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo5OAogICAgLy8gYXNzZXJ0KHRvdGFsUGVyY2VudGFnZSA8PSBESVZJU09SLCBFUlJfUEVSQ0VOVEFHRV9FWENFRURTXzEwMCkKICAgIGZyYW1lX2RpZyA0CiAgICBkdXAKICAgIGludGMgNCAvLyAxMDAwMDAKICAgIDw9CiAgICBhc3NlcnQgLy8gVG90YWwgcGVyY2VudGFnZSBzcGxpdHMgZXhjZWVkIDEwMCUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjEwMAogICAgLy8gYXNzZXJ0KHRvdGFsUGVyY2VudGFnZSAhPT0gRElWSVNPUiB8fCAhaGFzUmVtYWluZGVyLCBFUlJfUEVSQ0VOVEFHRV9NVVNUX0JFX05PVF9CRV8xMDBfV0lUSF9SRU1BSU5ERVIpCiAgICBpbnRjIDQgLy8gMTAwMDAwCiAgICAhPQogICAgYm56IHZhbGlkYXRlU3BsaXRzX2Jvb2xfdHJ1ZUAxOQogICAgZnJhbWVfZGlnIDUKICAgIGJueiB2YWxpZGF0ZVNwbGl0c19ib29sX2ZhbHNlQDIwCgp2YWxpZGF0ZVNwbGl0c19ib29sX3RydWVAMTk6CiAgICBpbnRjXzEgLy8gMQoKdmFsaWRhdGVTcGxpdHNfYm9vbF9tZXJnZUAyMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjEwMAogICAgLy8gYXNzZXJ0KHRvdGFsUGVyY2VudGFnZSAhPT0gRElWSVNPUiB8fCAhaGFzUmVtYWluZGVyLCBFUlJfUEVSQ0VOVEFHRV9NVVNUX0JFX05PVF9CRV8xMDBfV0lUSF9SRU1BSU5ERVIpCiAgICBhc3NlcnQgLy8gUGVyY2VudGFnZSBzcGxpdHMgY2Fubm90IHRvdGFsIDEwMCUgd2hlbiB1c2luZyBhIHJlbWFpbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTAyCiAgICAvLyBhc3NlcnQoIWhhc0ZsYXQgfHwgaGFzUmVtYWluZGVyIHx8IHRvdGFsUGVyY2VudGFnZSA9PT0gMCB8fCB0b3RhbFBlcmNlbnRhZ2UgPT09IERJVklTT1IsIEVSUl9GTEFUX1dJVEhfUEVSQ0VOVEFHRV9SRVFVSVJFU19SRU1BSU5ERVIpCiAgICBmcmFtZV9kaWcgNgogICAgYnogdmFsaWRhdGVTcGxpdHNfYm9vbF90cnVlQDI1CiAgICBmcmFtZV9kaWcgNQogICAgYm56IHZhbGlkYXRlU3BsaXRzX2Jvb2xfdHJ1ZUAyNQogICAgZnJhbWVfZGlnIDQKICAgIGJ6IHZhbGlkYXRlU3BsaXRzX2Jvb2xfdHJ1ZUAyNQogICAgZnJhbWVfZGlnIDQKICAgIGludGMgNCAvLyAxMDAwMDAKICAgID09CiAgICBieiB2YWxpZGF0ZVNwbGl0c19ib29sX2ZhbHNlQDI2Cgp2YWxpZGF0ZVNwbGl0c19ib29sX3RydWVAMjU6CiAgICBpbnRjXzEgLy8gMQoKdmFsaWRhdGVTcGxpdHNfYm9vbF9tZXJnZUAyNzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3JldmVudWUtbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjEwMgogICAgLy8gYXNzZXJ0KCFoYXNGbGF0IHx8IGhhc1JlbWFpbmRlciB8fCB0b3RhbFBlcmNlbnRhZ2UgPT09IDAgfHwgdG90YWxQZXJjZW50YWdlID09PSBESVZJU09SLCBFUlJfRkxBVF9XSVRIX1BFUkNFTlRBR0VfUkVRVUlSRVNfUkVNQUlOREVSKQogICAgYXNzZXJ0IC8vIEZsYXQgYW1vdW50cyB3aXRoIHBlcmNlbnRhZ2VzIHJlcXVpcmUgYSByZW1haW5kZXIgb3IgMTAwJSB0b3RhbAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvcmV2ZW51ZS1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTA0CiAgICAvLyBhc3NlcnQoaGFzUmVtYWluZGVyIHx8IHRvdGFsUGVyY2VudGFnZSA9PT0gRElWSVNPUiB8fCAodG90YWxQZXJjZW50YWdlID09PSAwICYmIGhhc0ZsYXQpLCBFUlJfU1BMSVRTX01VU1RfVE9UQUxfMTAwX09SX0hBVkVfUkVNQUlOREVSKQogICAgZnJhbWVfZGlnIDUKICAgIGJueiB2YWxpZGF0ZVNwbGl0c19ib29sX3RydWVAMzEKICAgIGZyYW1lX2RpZyA0CiAgICBpbnRjIDQgLy8gMTAwMDAwCiAgICA9PQogICAgYm56IHZhbGlkYXRlU3BsaXRzX2Jvb2xfdHJ1ZUAzMQogICAgZnJhbWVfZGlnIDQKICAgIGJueiB2YWxpZGF0ZVNwbGl0c19ib29sX2ZhbHNlQDMyCiAgICBmcmFtZV9kaWcgNgogICAgYnogdmFsaWRhdGVTcGxpdHNfYm9vbF9mYWxzZUAzMgoKdmFsaWRhdGVTcGxpdHNfYm9vbF90cnVlQDMxOgogICAgaW50Y18xIC8vIDEKCnZhbGlkYXRlU3BsaXRzX2Jvb2xfbWVyZ2VAMzM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9yZXZlbnVlLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoxMDQKICAgIC8vIGFzc2VydChoYXNSZW1haW5kZXIgfHwgdG90YWxQZXJjZW50YWdlID09PSBESVZJU09SIHx8ICh0b3RhbFBlcmNlbnRhZ2UgPT09IDAgJiYgaGFzRmxhdCksIEVSUl9TUExJVFNfTVVTVF9UT1RBTF8xMDBfT1JfSEFWRV9SRU1BSU5ERVIpCiAgICBhc3NlcnQgLy8gUGVyY2VudGFnZSBzcGxpdHMgbXVzdCB0b3RhbCAxMDAlIG9yIGluY2x1ZGUgYSByZW1haW5kZXIKICAgIGZyYW1lX2RpZyAtMQogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCnZhbGlkYXRlU3BsaXRzX2Jvb2xfZmFsc2VAMzI6CiAgICBpbnRjXzAgLy8gMAogICAgYiB2YWxpZGF0ZVNwbGl0c19ib29sX21lcmdlQDMzCgp2YWxpZGF0ZVNwbGl0c19ib29sX2ZhbHNlQDI2OgogICAgaW50Y18wIC8vIDAKICAgIGIgdmFsaWRhdGVTcGxpdHNfYm9vbF9tZXJnZUAyNwoKdmFsaWRhdGVTcGxpdHNfYm9vbF9mYWxzZUAyMDoKICAgIGludGNfMCAvLyAwCiAgICBiIHZhbGlkYXRlU3BsaXRzX2Jvb2xfbWVyZ2VAMjEK",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "byteCode": {
        "approval": "CyAFAAEIKaCNBiYIEHNwZW5kaW5nX2FkZHJlc3MCAAoBZQEADmN1cnJlbnRfZXNjcm93AR4BFAlha2l0YV9kYW8xG0EASTEZFEQxGESCCARoNeO8BJ9uAPgELYDm/ASE80wEBP5BD0QEfnwPcAQz6SyUBIVN7eA2GgCOCACbAZ0CSwLgA2wFbQYtAAEAI0MxGRQxGBQQQ4oBAYv/JwRlSLFJFRZXBgJMUIAEAAEAAkxQgASiQD3fshqyGov/shiBBrIQIrIBs7Q+SVcEAEsBVwAEgAQVH3x1EkRJIlmBCQuBAghMFRJEVwYJSSJbRImKAgCL/kEAHov/KGVIsYv+i/+IABKyICKyCEmyB7IAI7IQIrIBs4mKAgGL/kAAAzIDiYv/cghEiYAANhoBSRUkEkQXSTYaAkkVIxJEIlNMNhoDSU4CSSJZSU4DSSQLgQIITwIVEkQxFiMJSTgQIxJESwInBGVITgJLAyhlSElOBUsBOAcSTDgIMhBPAwsSEERLARZLARUWVwYCTwJQTClQTFAqTFBJTgJJvUUBRL5ISVcAIEyBgQJTTwKAC3Jla2V5X2luZGV4ZUg4AE8CEkREIklLBAxBAFBLBFcCAEsBJAtbSUUJSwNMcABFARREsUsFQQAwSwMjCUsBEkEAJiNLB4j/I7IgSweyESKyEksCSbIUsgCBBLIQIrIBs0kjCEUBQv+tIkL/10sBSb5EgSFbSwUIFoEhTLsjQzYaAUkVJBJEFzYaAkkVIxJEIlM2GgNJIlmBAghLARUSRFcCADYaBEkVgSASRDYaBUkVIxJEIlM2GgZJFSMSRCJTNhoHSSJZSSULgQIISwIVEkRLByhlSIgEW0RJRIEKDkQyBysiTwVUI08EVE8DTFAiFkxLAVArUEsBUExQTBZQSwQWSwMVFlcGAk8EUEwpUExQKksBUE8Cv0yIBCSAAXNPAlBJvEhMv0yI/hojQzYaAUkVJBJEFzYaAkkVIxJEIlM2GgNJIlmBAghLARUSRFcCADYaBEkVgSASRDYaBUkVIxJEIlM2GgZJFSMSRCJTNhoHSwYoZUiIA7tEMgcrIk8FVCNPBFRPA0xQIhZMSwFQK1BLAVBMUEwWUEsEFksDFRZXBgJPBFBMKVBMUCpLAVBPAr+AAXJMUEm8SEy/TIj9hSNDNhoBSRUkEkQXNhoCSRUjEkQiU0sBJwRlSExLAoj9DCJbSwMoZUhJiANIRExyCEQSREsCFksCFRZXBgJPA1BMKVBMUCpMUEm9RQFESb5ISVcpAUsBgYACU0sCgTJbTwOBOltPAysSRE8CRDIHSU8CCYGAowUYCUlPAg9ESwElJwa7FoEyTLtMiPz5I0MiRwOAAEcFNhoBSRUkEkQXSTYaAkkVIxJEIlNMNhoDSU4CSSJZSU4DJAuBAghMFRJESScEZUhMSYj8ZCJbSU4DSwEoZUhJTgJOBHIIRBJEFksBFRZXBgJPAlBMKVBMUEkqSwFQSU4CvkRJVykBSwGBIVtPAoEqW04DTCcGEkQjCEyAAXNMUEm9RQFBAUtJvkRFE0sSSSJZSUSBCg5EiAJSRRMiRQ9LDksIDEEA/UsIVwIASw8kC1tJRRFLBxZLARZQgAFhTFBJRRe9RQEUREAAzzIKYDIBCSJFD0UNSxIiWUsODUEArEsSVwIASw4lCyVYSVcgAUlOAkUUSVcAIElOAkUXgSFbRQ5LEXAARQFEIkUSgAEKEkEAUEsLRRFLEElLDklOAg5ETAlFDUsPQAAdsUsQsghLE7IHSwWyACOyECKyAbNLDSMIRQ5C/4+xSw+yEUsQshJLE7IUSwWyAIEEshAisgGzQv/bSxEnBhJBABJLC0khBA5ESw0dIQSXRRFC/5pLEScFEkH/kksMRRFC/4tLFCK5SEsOIwhFD0L/BUsFSxBwAEhC/y1LA0m+RIEqW0sJSU4CCBZPAoEqTwK7SwMISwISQQAGSwMlJwW7SwlLC4j7ISNDgAFySwVQSb1FAURJvkhMIiS6F0sBJFlLAhVPA04CUlcCAGVERRNC/pE2GgFJFSQSRBdJNhoCSRUjEkQiU0w2GgNJTgJJIllJTgMkC4ECCEwVEkRJJwRlSExJiPpqIltJTgNLAShlSExyCEQSRBZLARUWVwYCTwJQTClQTFAqTFBJvkRJVykBTIEqW0wnBRJEIklLBQxBACZLBVcCAEsBSU4CJAskWEsFFkxQgAFhTFBJvUUBRLxIIwhFAUL/00sCSb5EgSpbSwZJTgIJFk8CgSpPArtLAkwJQAAFSwIlK7tLBksIiPo4I0M2GgFJFSQSRBcxACInB2VEgAZ3YWxsZXRlSHIIRBJEJwdMZyNDigEBi/9zAkQyChKJigEBIoAARwIiRwOL/yJZSYwBiwcNQQBsi/9XAgCLB0lOAiULJVhJVyABjACBIVtJjAOLASMJTwISjAJAAAiLACcFEkEAOiNEiwAnBhJBABCLBIsDCIwEiwcjCIwHQv+riwCAAQoSQQAGI4wGQv/oiwAnBRJB/+CLAkQjjAVC/9ciQv/DiwRJIQQORCEEE0AABYsFQABBI0SLBkEAEosFQAANiwRBAAiLBCEEEkEAJCNEiwVAABKLBCEEEkAACosEQAAMiwZBAAcjRIv/jACJIkL/9iJC/9kiQv+8",
        "clear": "C4EBQw=="
    },
    "compilerInfo": {
        "compiler": "puya",
        "compilerVersion": {
            "major": 5,
            "minor": 2,
            "patch": 0
        }
    },
    "events": [],
    "templateVariables": {}
}