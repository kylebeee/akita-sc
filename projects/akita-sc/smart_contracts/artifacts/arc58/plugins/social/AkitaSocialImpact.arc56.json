{
    "name": "AkitaSocialImpact",
    "structs": {
        "arc4ImpactMetaValue": [
            {
                "name": "subscriptionIndex",
                "type": "uint64"
            },
            {
                "name": "NFD",
                "type": "uint64"
            },
            {
                "name": "nfdTimeChanged",
                "type": "uint64"
            },
            {
                "name": "nfdImpact",
                "type": "uint64"
            },
            {
                "name": "akitaNFT",
                "type": "uint64"
            }
        ],
        "MetaValue": [
            {
                "name": "walletID",
                "type": "uint64"
            },
            {
                "name": "streak",
                "type": "uint64"
            },
            {
                "name": "startDate",
                "type": "uint64"
            },
            {
                "name": "lastActive",
                "type": "uint64"
            },
            {
                "name": "followerIndex",
                "type": "uint64"
            },
            {
                "name": "followerCount",
                "type": "uint64"
            },
            {
                "name": "automated",
                "type": "bool"
            },
            {
                "name": "followGateID",
                "type": "uint64"
            },
            {
                "name": "addressGateID",
                "type": "uint64"
            }
        ]
    },
    "methods": [
        {
            "name": "createApplication",
            "args": [
                {
                    "type": "uint64",
                    "name": "akitaDAO"
                },
                {
                    "type": "string",
                    "name": "version"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [
                    "NoOp"
                ],
                "call": []
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "cacheMeta",
            "args": [
                {
                    "type": "uint64",
                    "name": "subscriptionIndex"
                },
                {
                    "type": "uint64",
                    "name": "NFDAppID"
                },
                {
                    "type": "uint64",
                    "name": "akitaAssetID"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "updateSubscriptionStateModifier",
            "args": [
                {
                    "type": "pay",
                    "name": "payment"
                },
                {
                    "type": "uint64",
                    "name": "subscriptionIndex"
                },
                {
                    "type": "uint64",
                    "name": "newModifier"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getUserImpactWithoutSocial",
            "args": [
                {
                    "type": "address",
                    "name": "address"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getUserImpact",
            "args": [
                {
                    "type": "address",
                    "name": "address"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getMeta",
            "args": [
                {
                    "type": "address",
                    "name": "user"
                }
            ],
            "returns": {
                "type": "(uint64,uint64,uint64,uint64,uint64,uint64,bool,uint64,uint64)",
                "struct": "MetaValue"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "updateApplication",
            "args": [
                {
                    "type": "string",
                    "name": "newVersion"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "UpdateApplication"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "updateAkitaDAO",
            "args": [
                {
                    "type": "uint64",
                    "name": "app"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        }
    ],
    "arcs": [
        22,
        28
    ],
    "networks": {},
    "state": {
        "schema": {
            "global": {
                "ints": 1,
                "bytes": 1
            },
            "local": {
                "ints": 0,
                "bytes": 0
            }
        },
        "keys": {
            "global": {
                "version": {
                    "keyType": "AVMString",
                    "valueType": "AVMString",
                    "key": "dmVyc2lvbg==",
                    "desc": "the current version of the contract"
                },
                "akitaDAO": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "YWtpdGFfZGFv",
                    "desc": "the app ID of the Akita DAO"
                }
            },
            "local": {},
            "box": {}
        },
        "maps": {
            "global": {},
            "local": {},
            "box": {
                "meta": {
                    "keyType": "address",
                    "valueType": "arc4ImpactMetaValue",
                    "desc": "A map of the meta data for each user",
                    "prefix": "bQ=="
                },
                "subscriptionStateModifier": {
                    "keyType": "uint64",
                    "valueType": "uint64",
                    "desc": "A map of how each akita subscription affects impact calculation",
                    "prefix": "cw=="
                }
            }
        }
    },
    "bareActions": {
        "create": [],
        "call": []
    },
    "sourceInfo": {
        "approval": {
            "sourceInfo": [
                {
                    "pc": [
                        561,
                        692,
                        773,
                        1753
                    ],
                    "errorMessage": "Box must have value"
                },
                {
                    "pc": [
                        480,
                        630,
                        766,
                        1070,
                        1202,
                        1253
                    ],
                    "errorMessage": "Bytes has valid prefix"
                },
                {
                    "pc": [
                        801
                    ],
                    "errorMessage": "Invalid NFD"
                },
                {
                    "pc": [
                        1719
                    ],
                    "errorMessage": "Invalid payment"
                },
                {
                    "pc": [
                        803
                    ],
                    "errorMessage": "NFD changed since impact last calculated"
                },
                {
                    "pc": [
                        1205
                    ],
                    "errorMessage": "Not an NFD"
                },
                {
                    "pc": [
                        1618
                    ],
                    "errorMessage": "Not an akita NFT"
                },
                {
                    "pc": [
                        1112
                    ],
                    "errorMessage": "Not an akita subscription contract"
                },
                {
                    "pc": [
                        1684
                    ],
                    "errorMessage": "Not the DAO"
                },
                {
                    "pc": [
                        202,
                        238,
                        313,
                        333,
                        353,
                        383,
                        412
                    ],
                    "errorMessage": "OnCompletion is not NoOp"
                },
                {
                    "pc": [
                        220
                    ],
                    "errorMessage": "OnCompletion is not UpdateApplication"
                },
                {
                    "pc": [
                        1820,
                        1840
                    ],
                    "errorMessage": "Only the Akita DAO can call this function"
                },
                {
                    "pc": [
                        1338
                    ],
                    "errorMessage": "User does not own this NFD"
                },
                {
                    "pc": [
                        1626
                    ],
                    "errorMessage": "User does not own this NFT"
                },
                {
                    "pc": [
                        516,
                        1682,
                        1818,
                        1838
                    ],
                    "errorMessage": "application exists"
                },
                {
                    "pc": [
                        837,
                        876,
                        1614
                    ],
                    "errorMessage": "asset exists"
                },
                {
                    "pc": [
                        416
                    ],
                    "errorMessage": "can only call when creating"
                },
                {
                    "pc": [
                        205,
                        223,
                        241,
                        316,
                        336,
                        356,
                        386
                    ],
                    "errorMessage": "can only call when not creating"
                },
                {
                    "pc": [
                        439,
                        513,
                        576,
                        587,
                        718,
                        807,
                        1140,
                        1386,
                        1679,
                        1815,
                        1835
                    ],
                    "errorMessage": "check GlobalState exists"
                },
                {
                    "pc": [
                        366
                    ],
                    "errorMessage": "transaction type is pay"
                }
            ],
            "pcOffsetMethod": "none"
        },
        "clear": {
            "sourceInfo": [],
            "pcOffsetMethod": "none"
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDYgOCAxMDAwMDAwMDAwMDAwIDIwMDAwMDAwMDAwMCAzMTUzNjAwMCAxMDAwMDAwMDAwMAogICAgYnl0ZWNibG9jayAiYWtpdGFfZGFvIiAweDE1MWY3Yzc1ICJha2l0YV9hbCIgIm0iICJha2l0YV9hc3NldHMiICJpLnRpbWVDaGFuZ2VkIiBiYXNlMzIoQUtDVFJESzRPV05XSFRQSDRYUEtMTldOTFozMzNWRTM1U0tRNEZHUUszWkpBNEZJSENMUSkgMHg2YzEzZWRlNCAidmVyc2lvbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEyOTEKICAgIC8vIGV4cG9ydCBjbGFzcyBBa2l0YVNvY2lhbEltcGFjdCBleHRlbmRzIEFraXRhQmFzZUNvbnRyYWN0IHsKICAgIHR4biBOdW1BcHBBcmdzCiAgICBieiBtYWluX2FmdGVyX2lmX2Vsc2VAMTQKICAgIHB1c2hieXRlc3MgMHhiOGM1NmY1MiAweDNlNmVlM2Q2IDB4OWQ3NGY1YTEgMHhmODFjN2I2MiAweGQ1NzRiYjEwIDB4Mjg4MmJiOGEgMHgxNzQ3NDA1YiAweDMzZTkyYzk0IC8vIG1ldGhvZCAiY3JlYXRlQXBwbGljYXRpb24odWludDY0LHN0cmluZyl2b2lkIiwgbWV0aG9kICJjYWNoZU1ldGEodWludDY0LHVpbnQ2NCx1aW50NjQpdWludDY0IiwgbWV0aG9kICJ1cGRhdGVTdWJzY3JpcHRpb25TdGF0ZU1vZGlmaWVyKHBheSx1aW50NjQsdWludDY0KXZvaWQiLCBtZXRob2QgImdldFVzZXJJbXBhY3RXaXRob3V0U29jaWFsKGFkZHJlc3MpdWludDY0IiwgbWV0aG9kICJnZXRVc2VySW1wYWN0KGFkZHJlc3MpdWludDY0IiwgbWV0aG9kICJnZXRNZXRhKGFkZHJlc3MpKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LGJvb2wsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgInVwZGF0ZUFwcGxpY2F0aW9uKHN0cmluZyl2b2lkIiwgbWV0aG9kICJ1cGRhdGVBa2l0YURBTyh1aW50NjQpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIG1haW5fY3JlYXRlQXBwbGljYXRpb25fcm91dGVAMyBtYWluX2NhY2hlTWV0YV9yb3V0ZUA0IG1haW5fdXBkYXRlU3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcl9yb3V0ZUA1IG1haW5fZ2V0VXNlckltcGFjdFdpdGhvdXRTb2NpYWxfcm91dGVANiBtYWluX2dldFVzZXJJbXBhY3Rfcm91dGVANyBtYWluX2dldE1ldGFfcm91dGVAOCBtYWluX3VwZGF0ZUFwcGxpY2F0aW9uX3JvdXRlQDkgbWFpbl91cGRhdGVBa2l0YURBT19yb3V0ZUAxMAoKbWFpbl9hZnRlcl9pZl9lbHNlQDE0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTI5MQogICAgLy8gZXhwb3J0IGNsYXNzIEFraXRhU29jaWFsSW1wYWN0IGV4dGVuZHMgQWtpdGFCYXNlQ29udHJhY3QgewogICAgaW50Y18wIC8vIDAKICAgIHJldHVybgoKbWFpbl91cGRhdGVBa2l0YURBT19yb3V0ZUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjI3CiAgICAvLyB1cGRhdGVBa2l0YURBTyhhcHA6IHVpbnQ2NCk6IHZvaWQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMjkxCiAgICAvLyBleHBvcnQgY2xhc3MgQWtpdGFTb2NpYWxJbXBhY3QgZXh0ZW5kcyBBa2l0YUJhc2VDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoyNwogICAgLy8gdXBkYXRlQWtpdGFEQU8oYXBwOiB1aW50NjQpOiB2b2lkIHsKICAgIGNhbGxzdWIgdXBkYXRlQWtpdGFEQU8KICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fdXBkYXRlQXBwbGljYXRpb25fcm91dGVAOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjE5CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiBbJ1VwZGF0ZUFwcGxpY2F0aW9uJ10gfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgIHB1c2hpbnQgNCAvLyBVcGRhdGVBcHBsaWNhdGlvbgogICAgPT0KICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IFVwZGF0ZUFwcGxpY2F0aW9uCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEyOTEKICAgIC8vIGV4cG9ydCBjbGFzcyBBa2l0YVNvY2lhbEltcGFjdCBleHRlbmRzIEFraXRhQmFzZUNvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGV4dHJhY3QgMiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoxOQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogWydVcGRhdGVBcHBsaWNhdGlvbiddIH0pCiAgICBjYWxsc3ViIHVwZGF0ZUFwcGxpY2F0aW9uCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dldE1ldGFfcm91dGVAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2NDMKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMjkxCiAgICAvLyBleHBvcnQgY2xhc3MgQWtpdGFTb2NpYWxJbXBhY3QgZXh0ZW5kcyBBa2l0YUJhc2VDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjQzCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGNhbGxzdWIgZ2V0TWV0YQogICAgdW5jb3ZlciA4CiAgICBpdG9iCiAgICB1bmNvdmVyIDgKICAgIGl0b2IKICAgIHVuY292ZXIgOAogICAgaXRvYgogICAgdW5jb3ZlciA4CiAgICBpdG9iCiAgICB1bmNvdmVyIDgKICAgIGl0b2IKICAgIHVuY292ZXIgOAogICAgaXRvYgogICAgcHVzaGJ5dGVzIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDEwCiAgICBzZXRiaXQKICAgIHVuY292ZXIgOAogICAgaXRvYgogICAgdW5jb3ZlciA4CiAgICBpdG9iCiAgICB1bmNvdmVyIDgKICAgIHVuY292ZXIgOAogICAgY29uY2F0CiAgICB1bmNvdmVyIDcKICAgIGNvbmNhdAogICAgdW5jb3ZlciA2CiAgICBjb25jYXQKICAgIHVuY292ZXIgNQogICAgY29uY2F0CiAgICB1bmNvdmVyIDQKICAgIGNvbmNhdAogICAgdW5jb3ZlciAzCiAgICBjb25jYXQKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZ2V0VXNlckltcGFjdF9yb3V0ZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYzOAogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEyOTEKICAgIC8vIGV4cG9ydCBjbGFzcyBBa2l0YVNvY2lhbEltcGFjdCBleHRlbmRzIEFraXRhQmFzZUNvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MzgKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgY2FsbHN1YiBnZXRVc2VySW1wYWN0CiAgICBpdG9iCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dldFVzZXJJbXBhY3RXaXRob3V0U29jaWFsX3JvdXRlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjMzCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTI5MQogICAgLy8gZXhwb3J0IGNsYXNzIEFraXRhU29jaWFsSW1wYWN0IGV4dGVuZHMgQWtpdGFCYXNlQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYzMwogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBjYWxsc3ViIGdldFVzZXJJbXBhY3RXaXRob3V0U29jaWFsCiAgICBpdG9iCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX3VwZGF0ZVN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXJfcm91dGVANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MTUKICAgIC8vIHVwZGF0ZVN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIocGF5bWVudDogZ3R4bi5QYXltZW50VHhuLCBzdWJzY3JpcHRpb25JbmRleDogdWludDY0LCBuZXdNb2RpZmllcjogdWludDY0KTogdm9pZCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEyOTEKICAgIC8vIGV4cG9ydCBjbGFzcyBBa2l0YVNvY2lhbEltcGFjdCBleHRlbmRzIEFraXRhQmFzZUNvbnRyYWN0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYxNQogICAgLy8gdXBkYXRlU3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcihwYXltZW50OiBndHhuLlBheW1lbnRUeG4sIHN1YnNjcmlwdGlvbkluZGV4OiB1aW50NjQsIG5ld01vZGlmaWVyOiB1aW50NjQpOiB2b2lkIHsKICAgIGNhbGxzdWIgdXBkYXRlU3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcgogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9jYWNoZU1ldGFfcm91dGVANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1ODIKICAgIC8vIGNhY2hlTWV0YShzdWJzY3JpcHRpb25JbmRleDogdWludDY0LCBORkRBcHBJRDogdWludDY0LCBha2l0YUFzc2V0SUQ6IHVpbnQ2NCk6IHVpbnQ2NCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEyOTEKICAgIC8vIGV4cG9ydCBjbGFzcyBBa2l0YVNvY2lhbEltcGFjdCBleHRlbmRzIEFraXRhQmFzZUNvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1ODIKICAgIC8vIGNhY2hlTWV0YShzdWJzY3JpcHRpb25JbmRleDogdWludDY0LCBORkRBcHBJRDogdWludDY0LCBha2l0YUFzc2V0SUQ6IHVpbnQ2NCk6IHVpbnQ2NCB7CiAgICBjYWxsc3ViIGNhY2hlTWV0YQogICAgaXRvYgogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9jcmVhdGVBcHBsaWNhdGlvbl9yb3V0ZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU3NAogICAgLy8gQGFiaW1ldGhvZCh7IG9uQ3JlYXRlOiAncmVxdWlyZScgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICAhCiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMjkxCiAgICAvLyBleHBvcnQgY2xhc3MgQWtpdGFTb2NpYWxJbXBhY3QgZXh0ZW5kcyBBa2l0YUJhc2VDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBleHRyYWN0IDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU3NAogICAgLy8gQGFiaW1ldGhvZCh7IG9uQ3JlYXRlOiAncmVxdWlyZScgfSkKICAgIGNhbGxzdWIgY3JlYXRlQXBwbGljYXRpb24KICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czo6QWtpdGFTb2NpYWxJbXBhY3QuaXNTdWJzY3JpYmVkKGFjY291bnQ6IGJ5dGVzLCBpbmRleDogdWludDY0KSAtPiB1aW50NjQsIHVpbnQ2NCwgdWludDY0Ogppc1N1YnNjcmliZWQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMzEzCiAgICAvLyBwcml2YXRlIGlzU3Vic2NyaWJlZChhY2NvdW50OiBBY2NvdW50LCBpbmRleDogdWludDY0KTogeyBhY3RpdmU6IGJvb2xlYW47IHNlcnZpY2VJRDogdWludDY0OyBzdHJlYWs6IHVpbnQ2NCB9IHsKICAgIHByb3RvIDIgMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTMxNC0xMzIxCiAgICAvLyBjb25zdCBpbmZvID0gYWJpQ2FsbCgKICAgIC8vICAgU3Vic2NyaXB0aW9ucy5wcm90b3R5cGUuZ2V0U3Vic2NyaXB0aW9uSW5mbywKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiBnZXRBa2l0YUFwcExpc3QodGhpcy5ha2l0YURBTy52YWx1ZSkuc3Vic2NyaXB0aW9ucywKICAgIC8vICAgICBhcmdzOiBbbmV3IEFkZHJlc3MoYWNjb3VudCksIGluZGV4XSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0sCiAgICAvLyApLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBHbG9iYWxTdGF0ZUtleUFraXRhREFPID0gJ2FraXRhX2RhbycKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2Rhby9jb25zdGFudHMudHM6NgogICAgLy8gZXhwb3J0IGNvbnN0IEFraXRhREFPR2xvYmFsU3RhdGVLZXlzQWtpdGFBcHBMaXN0ID0gJ2FraXRhX2FsJwogICAgYnl0ZWNfMiAvLyAiYWtpdGFfYWwiCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIzCiAgICAvLyBjb25zdCBbYXBwTGlzdEJ5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKGFraXRhREFPLCBCeXRlcyhBa2l0YURBT0dsb2JhbFN0YXRlS2V5c0FraXRhQXBwTGlzdCkpCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI0CiAgICAvLyByZXR1cm4gZGVjb2RlQXJjNDxBa2l0YUFwcExpc3Q+KGFwcExpc3RCeXRlcykKICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMzE4CiAgICAvLyBhcmdzOiBbbmV3IEFkZHJlc3MoYWNjb3VudCksIGluZGV4XSwKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTMxNC0xMzIxCiAgICAvLyBjb25zdCBpbmZvID0gYWJpQ2FsbCgKICAgIC8vICAgU3Vic2NyaXB0aW9ucy5wcm90b3R5cGUuZ2V0U3Vic2NyaXB0aW9uSW5mbywKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiBnZXRBa2l0YUFwcExpc3QodGhpcy5ha2l0YURBTy52YWx1ZSkuc3Vic2NyaXB0aW9ucywKICAgIC8vICAgICBhcmdzOiBbbmV3IEFkZHJlc3MoYWNjb3VudCksIGluZGV4XSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0sCiAgICAvLyApLnJldHVyblZhbHVlCiAgICBwdXNoYnl0ZXMgMHg0MDE1Yjg0MCAvLyBtZXRob2QgImdldFN1YnNjcmlwdGlvbkluZm8oYWRkcmVzcyx1aW50NjQpKGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsYWRkcmVzc1tdKSIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBpbnRjXzIgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgZmVlOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzMTQtMTMyMQogICAgLy8gY29uc3QgaW5mbyA9IGFiaUNhbGwoCiAgICAvLyAgIFN1YnNjcmlwdGlvbnMucHJvdG90eXBlLmdldFN1YnNjcmlwdGlvbkluZm8sCiAgICAvLyAgIHsKICAgIC8vICAgICBhcHBJZDogZ2V0QWtpdGFBcHBMaXN0KHRoaXMuYWtpdGFEQU8udmFsdWUpLnN1YnNjcmlwdGlvbnMsCiAgICAvLyAgICAgYXJnczogW25ldyBBZGRyZXNzKGFjY291bnQpLCBpbmRleF0sCiAgICAvLyAgICAgZmVlLAogICAgLy8gICB9LAogICAgLy8gKS5yZXR1cm5WYWx1ZQogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gTGFzdExvZwogICAgZHVwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIGR1cAogICAgZXh0cmFjdCA0IDMyCiAgICBkaWcgMQogICAgcHVzaGludCAzNiAvLyAzNgogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAyCiAgICBwdXNoaW50IDQ0IC8vIDQ0CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDMKICAgIHB1c2hpbnQgNjAgLy8gNjAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgNAogICAgcHVzaGludCA4NCAvLyA4NAogICAgZXh0cmFjdF91aW50NjQKICAgIHVuY292ZXIgNQogICAgcHVzaGludCA5MiAvLyA5MgogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb25zdGFudHMudHM6MQogICAgLy8gZXhwb3J0IGNvbnN0IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gPSAnYWtpdGFfZGFvJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gImFraXRhX2RhbyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMzI0CiAgICAvLyBjb25zdCB0b0FraXRhID0gaW5mby5yZWNpcGllbnQubmF0aXZlID09PSB0aGlzLmFraXRhREFPLnZhbHVlLmFkZHJlc3MKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgIHVuY292ZXIgNgogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzMjgKICAgIC8vIGNvbnN0IG5vdERvbmF0aW5nID0gaW5mby5zZXJ2aWNlSUQgIT09IDAKICAgIGRpZyA1CiAgICBpbnRjXzAgLy8gMAogICAgIT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzMzAKICAgIC8vIGNvbnN0IGxhc3RXaW5kb3dTdGFydDogdWludDY0ID0gR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCAtICgoKEdsb2JhbC5sYXRlc3RUaW1lc3RhbXAgLSBpbmZvLnN0YXJ0RGF0ZSkgJSBpbmZvLmludGVydmFsKSArIGluZm8uaW50ZXJ2YWwpCiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICBkdXAKICAgIHVuY292ZXIgNwogICAgLQogICAgZGlnIDYKICAgICUKICAgIHVuY292ZXIgNgogICAgKwogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTMzNAogICAgLy8gY29uc3Qgbm90U3RhbGUgPSBpbmZvLmxhc3RQYXltZW50ID4gbGFzdFdpbmRvd1N0YXJ0CiAgICB1bmNvdmVyIDQKICAgIDwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzMzcKICAgIC8vIGFjdGl2ZTogdG9Ba2l0YSAmJiBub3REb25hdGluZyAmJiBub3RTdGFsZSwKICAgIGNvdmVyIDIKICAgICYmCiAgICAmJgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTMzNi0xMzQwCiAgICAvLyByZXR1cm4gewogICAgLy8gICBhY3RpdmU6IHRvQWtpdGEgJiYgbm90RG9uYXRpbmcgJiYgbm90U3RhbGUsCiAgICAvLyAgIHNlcnZpY2VJRDogaW5mby5zZXJ2aWNlSUQsCiAgICAvLyAgIHN0cmVhazogaW5mby5zdHJlYWssCiAgICAvLyB9CiAgICBjb3ZlciAyCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czo6QWtpdGFTb2NpYWxJbXBhY3QudXNlckltcGFjdChhY2NvdW50OiBieXRlcywgaW5jbHVkZVNvY2lhbDogdWludDY0KSAtPiB1aW50NjQ6CnVzZXJJbXBhY3Q6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMzgzCiAgICAvLyBwcml2YXRlIHVzZXJJbXBhY3QoYWNjb3VudDogQWNjb3VudCwgaW5jbHVkZVNvY2lhbDogYm9vbGVhbik6IHVpbnQ2NCB7CiAgICBwcm90byAyIDEKICAgIGludGNfMCAvLyAwCiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cG4gOAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnN0YW50cy50czoxNQogICAgLy8gZXhwb3J0IGNvbnN0IEltcGFjdEJveFByZWZpeE1ldGEgPSAnbScKICAgIGJ5dGVjXzMgLy8gIm0iCiAgICBmcmFtZV9kaWcgLTIKICAgIGNvbmNhdAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMzg0CiAgICAvLyBjb25zdCBtZXRhID0gZGVjb2RlQXJjNDxJbXBhY3RNZXRhVmFsdWU+KHRoaXMubWV0YShhY2NvdW50KS52YWx1ZS5ieXRlcykKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgc3dhcAogICAgZHVwCiAgICBpbnRjXzMgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIHN3YXAKICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBHbG9iYWxTdGF0ZUtleUFraXRhREFPID0gJ2FraXRhX2RhbycKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2Rhby9jb25zdGFudHMudHM6MTYKICAgIC8vIGV4cG9ydCBjb25zdCBBa2l0YURBT0dsb2JhbFN0YXRlS2V5c0FraXRhQXNzZXRzID0gJ2FraXRhX2Fzc2V0cycKICAgIGJ5dGVjIDQgLy8gImFraXRhX2Fzc2V0cyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6NjMKICAgIC8vIGNvbnN0IGFraXRhQXNzZXRzQnl0ZXMgPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhha2l0YURBTywgQnl0ZXMoQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNBa2l0YUFzc2V0cykpWzBdCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjY0CiAgICAvLyByZXR1cm4gZGVjb2RlQXJjNDxBa2l0YUFzc2V0cz4oYWtpdGFBc3NldHNCeXRlcykKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQwNS0xNDE4CiAgICAvLyBjb25zdCBpbmZvID0gYWJpQ2FsbCgKICAgIC8vICAgU3Rha2luZy5wcm90b3R5cGUuZ2V0SW5mbywKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiBnZXRBa2l0YUFwcExpc3QodGhpcy5ha2l0YURBTy52YWx1ZSkuc3Rha2luZywKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICBuZXcgQWRkcmVzcyhhY2NvdW50KSwKICAgIC8vICAgICAgIG5ldyBhcmM0U3Rha2VJbmZvKHsKICAgIC8vICAgICAgICAgYXNzZXQ6IG5ldyBVaW50TjY0KGFrdGEpLAogICAgLy8gICAgICAgICB0eXBlOiBTVEFLSU5HX1RZUEVfU09GVCwKICAgIC8vICAgICAgIH0pCiAgICAvLyAgICAgXSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0KICAgIC8vICkucmV0dXJuVmFsdWUKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb25zdGFudHMudHM6MQogICAgLy8gZXhwb3J0IGNvbnN0IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gPSAnYWtpdGFfZGFvJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gImFraXRhX2RhbyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGFvL2NvbnN0YW50cy50czo2CiAgICAvLyBleHBvcnQgY29uc3QgQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNBa2l0YUFwcExpc3QgPSAnYWtpdGFfYWwnCiAgICBieXRlY18yIC8vICJha2l0YV9hbCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjMKICAgIC8vIGNvbnN0IFthcHBMaXN0Qnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoYWtpdGFEQU8sIEJ5dGVzKEFraXRhREFPR2xvYmFsU3RhdGVLZXlzQWtpdGFBcHBMaXN0KSkKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjQKICAgIC8vIHJldHVybiBkZWNvZGVBcmM0PEFraXRhQXBwTGlzdD4oYXBwTGlzdEJ5dGVzKQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNDEyCiAgICAvLyBhc3NldDogbmV3IFVpbnRONjQoYWt0YSksCiAgICBzd2FwCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy90eXBlcy50czoxNwogICAgLy8gZXhwb3J0IGNvbnN0IFNUQUtJTkdfVFlQRV9TT0ZUOiBTdGFraW5nVHlwZSA9IG5ldyBhcmM0LlVpbnROOCgxKQogICAgcHVzaGJ5dGVzIDB4MDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0MTEtMTQxNAogICAgLy8gbmV3IGFyYzRTdGFrZUluZm8oewogICAgLy8gICBhc3NldDogbmV3IFVpbnRONjQoYWt0YSksCiAgICAvLyAgIHR5cGU6IFNUQUtJTkdfVFlQRV9TT0ZULAogICAgLy8gfSkKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQwNS0xNDE4CiAgICAvLyBjb25zdCBpbmZvID0gYWJpQ2FsbCgKICAgIC8vICAgU3Rha2luZy5wcm90b3R5cGUuZ2V0SW5mbywKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiBnZXRBa2l0YUFwcExpc3QodGhpcy5ha2l0YURBTy52YWx1ZSkuc3Rha2luZywKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICBuZXcgQWRkcmVzcyhhY2NvdW50KSwKICAgIC8vICAgICAgIG5ldyBhcmM0U3Rha2VJbmZvKHsKICAgIC8vICAgICAgICAgYXNzZXQ6IG5ldyBVaW50TjY0KGFrdGEpLAogICAgLy8gICAgICAgICB0eXBlOiBTVEFLSU5HX1RZUEVfU09GVCwKICAgIC8vICAgICAgIH0pCiAgICAvLyAgICAgXSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0KICAgIC8vICkucmV0dXJuVmFsdWUKICAgIHB1c2hieXRlcyAweGM5MDY4ODA5IC8vIG1ldGhvZCAiZ2V0SW5mbyhhZGRyZXNzLCh1aW50NjQsdWludDgpKSh1aW50NjQsdWludDY0LHVpbnQ2NCkiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIC0yCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgaW50Y18yIC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9jb25zdGFudHMudHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IGZlZTogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNDA1LTE0MTgKICAgIC8vIGNvbnN0IGluZm8gPSBhYmlDYWxsKAogICAgLy8gICBTdGFraW5nLnByb3RvdHlwZS5nZXRJbmZvLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IGdldEFraXRhQXBwTGlzdCh0aGlzLmFraXRhREFPLnZhbHVlKS5zdGFraW5nLAogICAgLy8gICAgIGFyZ3M6IFsKICAgIC8vICAgICAgIG5ldyBBZGRyZXNzKGFjY291bnQpLAogICAgLy8gICAgICAgbmV3IGFyYzRTdGFrZUluZm8oewogICAgLy8gICAgICAgICBhc3NldDogbmV3IFVpbnRONjQoYWt0YSksCiAgICAvLyAgICAgICAgIHR5cGU6IFNUQUtJTkdfVFlQRV9TT0ZULAogICAgLy8gICAgICAgfSkKICAgIC8vICAgICBdLAogICAgLy8gICAgIGZlZSwKICAgIC8vICAgfQogICAgLy8gKS5yZXR1cm5WYWx1ZQogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gTGFzdExvZwogICAgZHVwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIGR1cAogICAgcHVzaGludCA0IC8vIDQKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgcHVzaGludCAxMiAvLyAxMgogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0MjAKICAgIC8vIGNvbnN0IGVsYXBzZWQ6IHVpbnQ2NCA9IEdsb2JhbC5sYXRlc3RUaW1lc3RhbXAgLSBpbmZvLmxhc3RVcGRhdGUKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKICAgIHN3YXAKICAgIC0KICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb25zdGFudHMudHM6MzYKICAgIC8vIGV4cG9ydCBjb25zdCBURU5fVEhPVVNBTkRfQUtJVEE6IHVpbnQ2NCA9IDEwXzAwMF8wMDBfMDAwCiAgICBpbnRjIDcgLy8gMTAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0MjMKICAgIC8vIGlmIChpbmZvLmFtb3VudCA8IFRFTl9USE9VU0FORF9BS0lUQSB8fCBlbGFwc2VkIDwgVEhJUlRZX0RBWVMpIHsKICAgIDwKICAgIGJueiB1c2VySW1wYWN0X2lmX2JvZHlAMjcKICAgIGZyYW1lX2RpZyAxNQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnN0YW50cy50czozMQogICAgLy8gZXhwb3J0IGNvbnN0IFRISVJUWV9EQVlTOiB1aW50NjQgPSAyXzU5Ml8wMDAKICAgIHB1c2hpbnQgMjU5MjAwMCAvLyAyNTkyMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNDIzCiAgICAvLyBpZiAoaW5mby5hbW91bnQgPCBURU5fVEhPVVNBTkRfQUtJVEEgfHwgZWxhcHNlZCA8IFRISVJUWV9EQVlTKSB7CiAgICA8CiAgICBieiB1c2VySW1wYWN0X2FmdGVyX2lmX2Vsc2VAMjgKCnVzZXJJbXBhY3RfaWZfYm9keUAyNzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0MjQKICAgIC8vIHJldHVybiAwCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSA1Cgp1c2VySW1wYWN0X2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldFN0YWtpbmdJbXBhY3RTY29yZUAzMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0NTMKICAgIC8vIGxldCBzdWJzY3JpYmVySW1wYWN0OiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNDU1CiAgICAvLyBjb25zdCBzdWJzY3JpcHRpb25TdGF0ZSA9IHRoaXMuaXNTdWJzY3JpYmVkKGFjY291bnQsIHN1YnNjcmlwdGlvbkluZGV4KQogICAgZnJhbWVfZGlnIC0yCiAgICBmcmFtZV9kaWcgMTEKICAgIGNhbGxzdWIgaXNTdWJzY3JpYmVkCiAgICBmcmFtZV9idXJ5IDgKICAgIGZyYW1lX2J1cnkgNwogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQ1NwogICAgLy8gaWYgKCFzdWJzY3JpcHRpb25TdGF0ZS5hY3RpdmUpIHsKICAgIGJ6IHVzZXJJbXBhY3RfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czo6QWtpdGFTb2NpYWxJbXBhY3QuZ2V0U3Vic2NyaWJlckltcGFjdFNjb3JlQDM5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNDYxCiAgICAvLyBjb25zdCBtb2RpZmllciA9IHRoaXMuc3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcihzdWJzY3JpcHRpb25TdGF0ZS5zZXJ2aWNlSUQpLnZhbHVlCiAgICBmcmFtZV9kaWcgNwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnN0YW50cy50czoxNgogICAgLy8gZXhwb3J0IGNvbnN0IEltcGFjdEJveFByZWZpeFN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIgPSAncycKICAgIHB1c2hieXRlcyAicyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQ2MQogICAgLy8gY29uc3QgbW9kaWZpZXIgPSB0aGlzLnN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIoc3Vic2NyaXB0aW9uU3RhdGUuc2VydmljZUlEKS52YWx1ZQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0NjQKICAgIC8vIGlmIChzdWJzY3JpcHRpb25TdGF0ZS5zdHJlYWsgPj0gMTIpIHsKICAgIGZyYW1lX2RpZyA4CiAgICBwdXNoaW50IDEyIC8vIDEyCiAgICA+PQogICAgYnogdXNlckltcGFjdF9lbHNlX2JvZHlAMzcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0NjUKICAgIC8vIHN1YnNjcmliZXJJbXBhY3QgKz0gMjUwIC8gbW9kaWZpZXIKICAgIHB1c2hpbnQgMjUwIC8vIDI1MAogICAgc3dhcAogICAgLwogICAgZnJhbWVfYnVyeSA2Cgp1c2VySW1wYWN0X2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldFN1YnNjcmliZXJJbXBhY3RTY29yZUAzOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzODgKICAgIC8vIGNvbnN0IHNvY2lhbEltcGFjdCA9IGluY2x1ZGVTb2NpYWwgPyB0aGlzLmdldFNvY2lhbEltcGFjdFNjb3JlKGFjY291bnQpIDogVWludDY0KDApIC8vIFNvY2lhbCBBY3Rpdml0eSB8IHVwIHRvIDI1MAogICAgZnJhbWVfZGlnIC0xCiAgICBieiB1c2VySW1wYWN0X3Rlcm5hcnlfZmFsc2VAMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQ3NC0xNDgxCiAgICAvLyByZXR1cm4gYWJpQ2FsbCgKICAgIC8vICAgQWtpdGFTb2NpYWxQbHVnaW4ucHJvdG90eXBlLmdldFVzZXJTb2NpYWxJbXBhY3QsCiAgICAvLyAgIHsKICAgIC8vICAgICBhcHBJZDogZ2V0UGx1Z2luQXBwTGlzdCh0aGlzLmFraXRhREFPLnZhbHVlKS5zb2NpYWwsCiAgICAvLyAgICAgYXJnczogW25ldyBBZGRyZXNzKGFjY291bnQpXSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0KICAgIC8vICkucmV0dXJuVmFsdWUKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb25zdGFudHMudHM6MQogICAgLy8gZXhwb3J0IGNvbnN0IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gPSAnYWtpdGFfZGFvJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gImFraXRhX2RhbyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGFvL2NvbnN0YW50cy50czo3CiAgICAvLyBleHBvcnQgY29uc3QgQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNQbHVnaW5BcHBMaXN0ID0gJ3BsdWduX2FsJwogICAgcHVzaGJ5dGVzICJwbHVnbl9hbCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjgKICAgIC8vIGNvbnN0IFtwbHVnaW5BcHBMaXN0Qnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoYWtpdGFEQU8sIEJ5dGVzKEFraXRhREFPR2xvYmFsU3RhdGVLZXlzUGx1Z2luQXBwTGlzdCkpCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI5CiAgICAvLyByZXR1cm4gZGVjb2RlQXJjNDxQbHVnaW5BcHBMaXN0PihwbHVnaW5BcHBMaXN0Qnl0ZXMpCiAgICBpbnRjXzMgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0NzQtMTQ4MQogICAgLy8gcmV0dXJuIGFiaUNhbGwoCiAgICAvLyAgIEFraXRhU29jaWFsUGx1Z2luLnByb3RvdHlwZS5nZXRVc2VyU29jaWFsSW1wYWN0LAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IGdldFBsdWdpbkFwcExpc3QodGhpcy5ha2l0YURBTy52YWx1ZSkuc29jaWFsLAogICAgLy8gICAgIGFyZ3M6IFtuZXcgQWRkcmVzcyhhY2NvdW50KV0sCiAgICAvLyAgICAgZmVlLAogICAgLy8gICB9CiAgICAvLyApLnJldHVyblZhbHVlCiAgICBwdXNoYnl0ZXMgMHhlODY5OTM0ZCAvLyBtZXRob2QgImdldFVzZXJTb2NpYWxJbXBhY3QoYWRkcmVzcyl1aW50NjQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIC0yCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBpbnRjXzIgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgZmVlOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0NzQtMTQ4MQogICAgLy8gcmV0dXJuIGFiaUNhbGwoCiAgICAvLyAgIEFraXRhU29jaWFsUGx1Z2luLnByb3RvdHlwZS5nZXRVc2VyU29jaWFsSW1wYWN0LAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IGdldFBsdWdpbkFwcExpc3QodGhpcy5ha2l0YURBTy52YWx1ZSkuc29jaWFsLAogICAgLy8gICAgIGFyZ3M6IFtuZXcgQWRkcmVzcyhhY2NvdW50KV0sCiAgICAvLyAgICAgZmVlLAogICAgLy8gICB9CiAgICAvLyApLnJldHVyblZhbHVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBzd2FwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIGJ0b2kKICAgIGZyYW1lX2J1cnkgNAoKdXNlckltcGFjdF90ZXJuYXJ5X21lcmdlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTQ4CiAgICAvLyBjb25zdCBtZXRhID0gZGVjb2RlQXJjNDxJbXBhY3RNZXRhVmFsdWU+KHRoaXMubWV0YShhY2NvdW50KS52YWx1ZS5ieXRlcykKICAgIGZyYW1lX2RpZyAxMAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGR1cAogICAgaW50Y18zIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgcHVzaGludCAxNiAvLyAxNgogICAgZXh0cmFjdF91aW50NjQKICAgIHVuY292ZXIgMgogICAgcHVzaGludCAyNCAvLyAyNAogICAgZXh0cmFjdF91aW50NjQKICAgIGZyYW1lX2J1cnkgMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU0OQogICAgLy8gY29uc3QgW2xhc3RDaGFuZ2VkQnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMobWV0YS5ORkQsIEJ5dGVzKE5GREdsb2JhbFN0YXRlS2V5c1RpbWVDaGFuZ2VkKSkKICAgIGRpZyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29uc3RhbnRzLnRzOjIxCiAgICAvLyBleHBvcnQgY29uc3QgTkZER2xvYmFsU3RhdGVLZXlzVGltZUNoYW5nZWQgPSAnaS50aW1lQ2hhbmdlZCcKICAgIGJ5dGVjIDUgLy8gImkudGltZUNoYW5nZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTQ5CiAgICAvLyBjb25zdCBbbGFzdENoYW5nZWRCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhtZXRhLk5GRCwgQnl0ZXMoTkZER2xvYmFsU3RhdGVLZXlzVGltZUNoYW5nZWQpKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU1MAogICAgLy8gY29uc3QgdGltZUNoYW5nZWQgPSBidG9pKGxhc3RDaGFuZ2VkQnl0ZXMpCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTUyCiAgICAvLyBhc3NlcnQoTkZEQXBwLmlkID09PSBBcHBsaWNhdGlvbihtZXRhLk5GRCkuaWQsIEVSUl9JTlZBTElEX05GRCkKICAgIGZyYW1lX2RpZyAxMgogICAgdW5jb3ZlciAzCiAgICA9PQogICAgYXNzZXJ0IC8vIEludmFsaWQgTkZECiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTUzCiAgICAvLyBhc3NlcnQobWV0YS5uZmRUaW1lQ2hhbmdlZCA9PT0gdGltZUNoYW5nZWQsIEVSUl9ORkRfQ0hBTkdFRCkKICAgID09CiAgICBhc3NlcnQgLy8gTkZEIGNoYW5nZWQgc2luY2UgaW1wYWN0IGxhc3QgY2FsY3VsYXRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbnN0YW50cy50czoxCiAgICAvLyBleHBvcnQgY29uc3QgR2xvYmFsU3RhdGVLZXlBa2l0YURBTyA9ICdha2l0YV9kYW8nCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMCAvLyAiYWtpdGFfZGFvIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kYW8vY29uc3RhbnRzLnRzOjE2CiAgICAvLyBleHBvcnQgY29uc3QgQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNBa2l0YUFzc2V0cyA9ICdha2l0YV9hc3NldHMnCiAgICBieXRlYyA0IC8vICJha2l0YV9hc3NldHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjYzCiAgICAvLyBjb25zdCBha2l0YUFzc2V0c0J5dGVzID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoYWtpdGFEQU8sIEJ5dGVzKEFraXRhREFPR2xvYmFsU3RhdGVLZXlzQWtpdGFBc3NldHMpKVswXQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo2NAogICAgLy8gcmV0dXJuIGRlY29kZUFyYzQ8QWtpdGFBc3NldHM+KGFraXRhQXNzZXRzQnl0ZXMpCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0NDEKICAgIC8vIGNvbnN0IGJhbGFuY2UgPSBBc3NldEhvbGRpbmcuYXNzZXRCYWxhbmNlKGFjY291bnQsIGFrdGEpWzBdCiAgICBmcmFtZV9kaWcgLTIKICAgIHN3YXAKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgcG9wCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnN0YW50cy50czozNgogICAgLy8gZXhwb3J0IGNvbnN0IFRFTl9USE9VU0FORF9BS0lUQTogdWludDY0ID0gMTBfMDAwXzAwMF8wMDAKICAgIGludGMgNyAvLyAxMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQ0NAogICAgLy8gaWYgKGJhbGFuY2UgPCBURU5fVEhPVVNBTkRfQUtJVEEpIHsKICAgIDwKICAgIGJ6IHVzZXJJbXBhY3RfYWZ0ZXJfaWZfZWxzZUAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQ0NQogICAgLy8gcmV0dXJuIDAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDIKCnVzZXJJbXBhY3RfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czo6QWtpdGFTb2NpYWxJbXBhY3QuZ2V0SGVsZEFrdGFJbXBhY3RTY29yZUAxMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1NTkKICAgIC8vIGNvbnN0IHByZWZpeCA9IGFzc2V0LnVuaXROYW1lLnNsaWNlKDAsIDMpCiAgICBmcmFtZV9kaWcgMTMKICAgIGR1cAogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldFVuaXROYW1lCiAgICBhc3NlcnQgLy8gYXNzZXQgZXhpc3RzCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18wIC8vIDAKICAgIGRpZyAxCiAgICA+PQogICAgaW50Y18wIC8vIDAKICAgIGRpZyAyCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgcHVzaGludCAzIC8vIDMKICAgIGRpZyAyCiAgICA+PQogICAgcHVzaGludCAzIC8vIDMKICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIHN1YnN0cmluZzMKICAgIGZyYW1lX2J1cnkgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU2MAogICAgLy8gY29uc3QgYmFsYW5jZSA9IEFzc2V0SG9sZGluZy5hc3NldEJhbGFuY2UoYWNjb3VudCwgYXNzZXQpWzBdCiAgICBmcmFtZV9kaWcgLTIKICAgIGRpZyAxCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIHBvcAogICAgZnJhbWVfYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTYxCiAgICAvLyBpZiAoYXNzZXQuY3JlYXRvciA9PT0gQWNjb3VudChBa2l0YU5GVENyZWF0b3JBZGRyZXNzKSAmJiBiYWxhbmNlID4gMCkgewogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldENyZWF0b3IKICAgIGFzc2VydCAvLyBhc3NldCBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9jb25zdGFudHMudHM6MzMKICAgIC8vIGV4cG9ydCBjb25zdCBBa2l0YU5GVENyZWF0b3JBZGRyZXNzID0gJ0FLQ1RSREs0T1dOV0hUUEg0WFBLTE5XTkxaMzMzVkUzNVNLUTRGR1FLM1pKQTRGSUhDTFRSRzNQRkknCiAgICBieXRlYyA2IC8vIGFkZHIgQUtDVFJESzRPV05XSFRQSDRYUEtMTldOTFozMzNWRTM1U0tRNEZHUUszWkpBNEZJSENMVFJHM1BGSQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU2MQogICAgLy8gaWYgKGFzc2V0LmNyZWF0b3IgPT09IEFjY291bnQoQWtpdGFORlRDcmVhdG9yQWRkcmVzcykgJiYgYmFsYW5jZSA+IDApIHsKICAgID09CiAgICBieiB1c2VySW1wYWN0X2FmdGVyX2lmX2Vsc2VAMTkKICAgIGZyYW1lX2RpZyAxCiAgICBieiB1c2VySW1wYWN0X2FmdGVyX2lmX2Vsc2VAMTkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1NjIKICAgIC8vIGlmIChwcmVmaXggPT09IEJ5dGVzKEFraXRhQ29sbGVjdGlvbnNQcmVmaXhBS0MpKSB7CiAgICBmcmFtZV9kaWcgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czozNQogICAgLy8gZXhwb3J0IGNvbnN0IEFraXRhQ29sbGVjdGlvbnNQcmVmaXhBS0MgPSAnQUtDJwogICAgcHVzaGJ5dGVzICJBS0MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTYyCiAgICAvLyBpZiAocHJlZml4ID09PSBCeXRlcyhBa2l0YUNvbGxlY3Rpb25zUHJlZml4QUtDKSkgewogICAgPT0KICAgIGJ6IHVzZXJJbXBhY3RfYWZ0ZXJfaWZfZWxzZUAxNgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU2MwogICAgLy8gcmV0dXJuIDUwCiAgICBwdXNoaW50IDUwIC8vIDUwCgp1c2VySW1wYWN0X2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldE5GVEltcGFjdFNjb3JlQDIwOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTM5MwogICAgLy8gY29uc3QgdG90YWw6IHVpbnQ2NCA9IHN0YWtlZEFrdGFJbXBhY3QgKyBzdWJzY3JpYmVySW1wYWN0ICsgc29jaWFsSW1wYWN0ICsgbmZkU2NvcmUgKyBoZWxkQWtpdGFJbXBhY3QgKyBuZnRJbXBhY3QKICAgIGZyYW1lX2RpZyA1CiAgICBmcmFtZV9kaWcgNgogICAgKwogICAgZnJhbWVfZGlnIDQKICAgICsKICAgIGZyYW1lX2RpZyAzCiAgICArCiAgICBmcmFtZV9kaWcgMgogICAgKwogICAgKwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzOTQKICAgIC8vIGlmICh0b3RhbCA9PT0gMCkgewogICAgYm56IHVzZXJJbXBhY3RfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMzk1CiAgICAvLyByZXR1cm4gMQogICAgaW50Y18xIC8vIDEKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgp1c2VySW1wYWN0X2FmdGVyX2lmX2Vsc2VANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzOTgKICAgIC8vIHJldHVybiB0b3RhbAogICAgZnJhbWVfZGlnIDkKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgp1c2VySW1wYWN0X2FmdGVyX2lmX2Vsc2VAMTY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTY1CiAgICAvLyBpZiAocHJlZml4ID09PSBCeXRlcyhBa2l0YUNvbGxlY3Rpb25zUHJlZml4QU9HKSkgewogICAgZnJhbWVfZGlnIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9jb25zdGFudHMudHM6MzYKICAgIC8vIGV4cG9ydCBjb25zdCBBa2l0YUNvbGxlY3Rpb25zUHJlZml4QU9HID0gJ0FPRycKICAgIHB1c2hieXRlcyAiQU9HIgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU2NQogICAgLy8gaWYgKHByZWZpeCA9PT0gQnl0ZXMoQWtpdGFDb2xsZWN0aW9uc1ByZWZpeEFPRykpIHsKICAgID09CiAgICBieiB1c2VySW1wYWN0X2FmdGVyX2lmX2Vsc2VAMTkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1NjYKICAgIC8vIHJldHVybiAyNQogICAgcHVzaGludCAyNSAvLyAyNQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTM5MQogICAgLy8gY29uc3QgbmZ0SW1wYWN0ID0gdGhpcy5nZXRORlRJbXBhY3RTY29yZShhY2NvdW50LCBBc3NldChtZXRhLmFraXRhTkZUKSkgLy8gSG9sZHMgQUtDL09tbmlnZW0gfCA1MAogICAgYiB1c2VySW1wYWN0X2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldE5GVEltcGFjdFNjb3JlQDIwCgp1c2VySW1wYWN0X2FmdGVyX2lmX2Vsc2VAMTk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTY5CiAgICAvLyByZXR1cm4gMAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzOTEKICAgIC8vIGNvbnN0IG5mdEltcGFjdCA9IHRoaXMuZ2V0TkZUSW1wYWN0U2NvcmUoYWNjb3VudCwgQXNzZXQobWV0YS5ha2l0YU5GVCkpIC8vIEhvbGRzIEFLQy9PbW5pZ2VtIHwgNTAKICAgIGIgdXNlckltcGFjdF9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjpBa2l0YVNvY2lhbEltcGFjdC5nZXRORlRJbXBhY3RTY29yZUAyMAoKdXNlckltcGFjdF9hZnRlcl9pZl9lbHNlQDEwOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQ0OAogICAgLy8gY29uc3QgY2FwcGVkID0gYmFsYW5jZSA+PSBPTkVfTUlMTElPTl9BS0lUQSA/IE9ORV9NSUxMSU9OX0FLSVRBIDogYmFsYW5jZQogICAgZnJhbWVfZGlnIDEKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnN0YW50cy50czozNAogICAgLy8gZXhwb3J0IGNvbnN0IE9ORV9NSUxMSU9OX0FLSVRBOiB1aW50NjQgPSAxXzAwMF8wMDBfMDAwXzAwMAogICAgaW50YyA0IC8vIDEwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0NDgKICAgIC8vIGNvbnN0IGNhcHBlZCA9IGJhbGFuY2UgPj0gT05FX01JTExJT05fQUtJVEEgPyBPTkVfTUlMTElPTl9BS0lUQSA6IGJhbGFuY2UKICAgID49CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29uc3RhbnRzLnRzOjM0CiAgICAvLyBleHBvcnQgY29uc3QgT05FX01JTExJT05fQUtJVEE6IHVpbnQ2NCA9IDFfMDAwXzAwMF8wMDBfMDAwCiAgICBpbnRjIDQgLy8gMTAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQ0OAogICAgLy8gY29uc3QgY2FwcGVkID0gYmFsYW5jZSA+PSBPTkVfTUlMTElPTl9BS0lUQSA/IE9ORV9NSUxMSU9OX0FLSVRBIDogYmFsYW5jZQogICAgc3dhcAogICAgc2VsZWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNDQ5CiAgICAvLyByZXR1cm4gKGNhcHBlZCAqIDUwKSAvIE9ORV9NSUxMSU9OX0FLSVRBCiAgICBwdXNoaW50IDUwIC8vIDUwCiAgICAqCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29uc3RhbnRzLnRzOjM0CiAgICAvLyBleHBvcnQgY29uc3QgT05FX01JTExJT05fQUtJVEE6IHVpbnQ2NCA9IDFfMDAwXzAwMF8wMDBfMDAwCiAgICBpbnRjIDQgLy8gMTAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQ0OQogICAgLy8gcmV0dXJuIChjYXBwZWQgKiA1MCkgLyBPTkVfTUlMTElPTl9BS0lUQQogICAgLwogICAgZnJhbWVfYnVyeSAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMzkwCiAgICAvLyBjb25zdCBoZWxkQWtpdGFJbXBhY3QgPSB0aGlzLmdldEhlbGRBa3RhSW1wYWN0U2NvcmUoYWNjb3VudCkgLy8gSGVsZCBBS1RBIHwgdXAgdG8gNTAKICAgIGIgdXNlckltcGFjdF9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjpBa2l0YVNvY2lhbEltcGFjdC5nZXRIZWxkQWt0YUltcGFjdFNjb3JlQDExCgp1c2VySW1wYWN0X3Rlcm5hcnlfZmFsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzODgKICAgIC8vIGNvbnN0IHNvY2lhbEltcGFjdCA9IGluY2x1ZGVTb2NpYWwgPyB0aGlzLmdldFNvY2lhbEltcGFjdFNjb3JlKGFjY291bnQpIDogVWludDY0KDApIC8vIFNvY2lhbCBBY3Rpdml0eSB8IHVwIHRvIDI1MAogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgNAogICAgYiB1c2VySW1wYWN0X3Rlcm5hcnlfbWVyZ2VAMwoKdXNlckltcGFjdF9lbHNlX2JvZHlAMzc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNDY3CiAgICAvLyBzdWJzY3JpYmVySW1wYWN0ICs9IChzdWJzY3JpcHRpb25TdGF0ZS5zdHJlYWsgKiAyMCkgLyBtb2RpZmllcgogICAgZnJhbWVfZGlnIDgKICAgIHB1c2hpbnQgMjAgLy8gMjAKICAgICoKICAgIHN3YXAKICAgIC8KICAgIGZyYW1lX2J1cnkgNgogICAgYiB1c2VySW1wYWN0X2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldFN1YnNjcmliZXJJbXBhY3RTY29yZUAzOQoKdXNlckltcGFjdF9hZnRlcl9pZl9lbHNlQDI4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQyOAogICAgLy8gY29uc3QgYW10Q2FwcGVkID0gaW5mby5hbW91bnQgPj0gVFdPX0hVTkRSRURfVEhPVVNBTkRfQUtJVEEgPyBUV09fSFVORFJFRF9USE9VU0FORF9BS0lUQSA6IGluZm8uYW1vdW50CiAgICBmcmFtZV9kaWcgMTQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb25zdGFudHMudHM6MzUKICAgIC8vIGV4cG9ydCBjb25zdCBUV09fSFVORFJFRF9USE9VU0FORF9BS0lUQTogdWludDY0ID0gMjAwXzAwMF8wMDBfMDAwCiAgICBpbnRjIDUgLy8gMjAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNDI4CiAgICAvLyBjb25zdCBhbXRDYXBwZWQgPSBpbmZvLmFtb3VudCA+PSBUV09fSFVORFJFRF9USE9VU0FORF9BS0lUQSA/IFRXT19IVU5EUkVEX1RIT1VTQU5EX0FLSVRBIDogaW5mby5hbW91bnQKICAgID49CiAgICBieiB1c2VySW1wYWN0X3Rlcm5hcnlfZmFsc2VAMzAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb25zdGFudHMudHM6MzUKICAgIC8vIGV4cG9ydCBjb25zdCBUV09fSFVORFJFRF9USE9VU0FORF9BS0lUQTogdWludDY0ID0gMjAwXzAwMF8wMDBfMDAwCiAgICBpbnRjIDUgLy8gMjAwMDAwMDAwMDAwCgp1c2VySW1wYWN0X3Rlcm5hcnlfbWVyZ2VAMzE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNDMxCiAgICAvLyBjb25zdCBtYXhTY29yZTogdWludDY0ID0gKGFtdENhcHBlZCAqIDI1MCkgLyBUV09fSFVORFJFRF9USE9VU0FORF9BS0lUQQogICAgcHVzaGludCAyNTAgLy8gMjUwCiAgICAqCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29uc3RhbnRzLnRzOjM1CiAgICAvLyBleHBvcnQgY29uc3QgVFdPX0hVTkRSRURfVEhPVVNBTkRfQUtJVEE6IHVpbnQ2NCA9IDIwMF8wMDBfMDAwXzAwMAogICAgaW50YyA1IC8vIDIwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQzMQogICAgLy8gY29uc3QgbWF4U2NvcmU6IHVpbnQ2NCA9IChhbXRDYXBwZWQgKiAyNTApIC8gVFdPX0hVTkRSRURfVEhPVVNBTkRfQUtJVEEKICAgIC8KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0MzQKICAgIC8vIGNvbnN0IHRpbWVDYXBwZWQgPSBlbGFwc2VkID49IE9ORV9ZRUFSID8gT05FX1lFQVIgOiBlbGFwc2VkCiAgICBmcmFtZV9kaWcgMTUKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnN0YW50cy50czozMgogICAgLy8gZXhwb3J0IGNvbnN0IE9ORV9ZRUFSOiB1aW50NjQgPSAzMV81MzZfMDAwCiAgICBpbnRjIDYgLy8gMzE1MzYwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0MzQKICAgIC8vIGNvbnN0IHRpbWVDYXBwZWQgPSBlbGFwc2VkID49IE9ORV9ZRUFSID8gT05FX1lFQVIgOiBlbGFwc2VkCiAgICA+PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnN0YW50cy50czozMgogICAgLy8gZXhwb3J0IGNvbnN0IE9ORV9ZRUFSOiB1aW50NjQgPSAzMV81MzZfMDAwCiAgICBpbnRjIDYgLy8gMzE1MzYwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0MzQKICAgIC8vIGNvbnN0IHRpbWVDYXBwZWQgPSBlbGFwc2VkID49IE9ORV9ZRUFSID8gT05FX1lFQVIgOiBlbGFwc2VkCiAgICBzd2FwCiAgICBzZWxlY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0MzYKICAgIC8vIHJldHVybiAodGltZUNhcHBlZCAqIG1heFNjb3JlKSAvIE9ORV9ZRUFSCiAgICAqCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29uc3RhbnRzLnRzOjMyCiAgICAvLyBleHBvcnQgY29uc3QgT05FX1lFQVI6IHVpbnQ2NCA9IDMxXzUzNl8wMDAKICAgIGludGMgNiAvLyAzMTUzNjAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQzNgogICAgLy8gcmV0dXJuICh0aW1lQ2FwcGVkICogbWF4U2NvcmUpIC8gT05FX1lFQVIKICAgIC8KICAgIGZyYW1lX2J1cnkgNQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTM4NgogICAgLy8gY29uc3Qgc3Rha2VkQWt0YUltcGFjdCA9IHRoaXMuZ2V0U3Rha2luZ0ltcGFjdFNjb3JlKGFjY291bnQpIC8vIFN0YWtlZCBBS1RBIHwgdXAgdG8gMjUwCiAgICBiIHVzZXJJbXBhY3RfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czo6QWtpdGFTb2NpYWxJbXBhY3QuZ2V0U3Rha2luZ0ltcGFjdFNjb3JlQDMyCgp1c2VySW1wYWN0X3Rlcm5hcnlfZmFsc2VAMzA6CiAgICBmcmFtZV9kaWcgMTQKICAgIGIgdXNlckltcGFjdF90ZXJuYXJ5X21lcmdlQDMxCgoKLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0Lm5mZFJlYWRGaWVsZChORkRBcHA6IHVpbnQ2NCwgZmllbGQ6IGJ5dGVzKSAtPiBieXRlczoKbmZkUmVhZEZpZWxkOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQ4NAogICAgLy8gcHJpdmF0ZSBuZmRSZWFkRmllbGQoTkZEQXBwOiBBcHBsaWNhdGlvbiwgZmllbGQ6IHN0cmluZyk6IGJ5dGVzIHsKICAgIHByb3RvIDIgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQ4NS0xNDkyCiAgICAvLyBjb25zdCBmaWVsZEJ5dGVzID0gYWJpQ2FsbCgKICAgIC8vICAgTkZELnByb3RvdHlwZS5yZWFkRmllbGQsCiAgICAvLyAgIHsKICAgIC8vICAgICBhcHBJZDogTkZEQXBwLmlkLAogICAgLy8gICAgIGFyZ3M6IFtCeXRlcyhmaWVsZCldLAogICAgLy8gICAgIGZlZSwKICAgIC8vICAgfQogICAgLy8gKS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQ4OQogICAgLy8gYXJnczogW0J5dGVzKGZpZWxkKV0sCiAgICBmcmFtZV9kaWcgLTEKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNDg1LTE0OTIKICAgIC8vIGNvbnN0IGZpZWxkQnl0ZXMgPSBhYmlDYWxsKAogICAgLy8gICBORkQucHJvdG90eXBlLnJlYWRGaWVsZCwKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiBORkRBcHAuaWQsCiAgICAvLyAgICAgYXJnczogW0J5dGVzKGZpZWxkKV0sCiAgICAvLyAgICAgZmVlLAogICAgLy8gICB9CiAgICAvLyApLnJldHVyblZhbHVlCiAgICBieXRlYyA3IC8vIG1ldGhvZCAicmVhZEZpZWxkKGJ5dGVbXSlieXRlW10iCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyAtMgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBpbnRjXzIgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgZmVlOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0ODUtMTQ5MgogICAgLy8gY29uc3QgZmllbGRCeXRlcyA9IGFiaUNhbGwoCiAgICAvLyAgIE5GRC5wcm90b3R5cGUucmVhZEZpZWxkLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IE5GREFwcC5pZCwKICAgIC8vICAgICBhcmdzOiBbQnl0ZXMoZmllbGQpXSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0KICAgIC8vICkucmV0dXJuVmFsdWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CiAgICBleHRyYWN0IDYgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTQ5NAogICAgLy8gcmV0dXJuIGZpZWxkQnl0ZXMKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjpBa2l0YVNvY2lhbEltcGFjdC5jcmVhdGVBcHBsaWNhdGlvbihha2l0YURBTzogdWludDY0LCB2ZXJzaW9uOiBieXRlcykgLT4gdm9pZDoKY3JlYXRlQXBwbGljYXRpb246CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTc0LTE1NzUKICAgIC8vIEBhYmltZXRob2QoeyBvbkNyZWF0ZTogJ3JlcXVpcmUnIH0pCiAgICAvLyBjcmVhdGVBcHBsaWNhdGlvbihha2l0YURBTzogdWludDY0LCB2ZXJzaW9uOiBzdHJpbmcpOiB2b2lkIHsKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbnN0YW50cy50czozCiAgICAvLyBleHBvcnQgY29uc3QgR2xvYmFsU3RhdGVLZXlWZXJzaW9uID0gJ3ZlcnNpb24nCiAgICBieXRlYyA4IC8vICJ2ZXJzaW9uIgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU3NgogICAgLy8gdGhpcy52ZXJzaW9uLnZhbHVlID0gdmVyc2lvbgogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbnN0YW50cy50czoxCiAgICAvLyBleHBvcnQgY29uc3QgR2xvYmFsU3RhdGVLZXlBa2l0YURBTyA9ICdha2l0YV9kYW8nCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTc3CiAgICAvLyB0aGlzLmFraXRhREFPLnZhbHVlID0gQXBwbGljYXRpb24oYWtpdGFEQU8pCiAgICBmcmFtZV9kaWcgLTIKICAgIGFwcF9nbG9iYWxfcHV0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czo6QWtpdGFTb2NpYWxJbXBhY3QuY2FjaGVNZXRhKHN1YnNjcmlwdGlvbkluZGV4OiB1aW50NjQsIE5GREFwcElEOiB1aW50NjQsIGFraXRhQXNzZXRJRDogdWludDY0KSAtPiB1aW50NjQ6CmNhY2hlTWV0YToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1ODIKICAgIC8vIGNhY2hlTWV0YShzdWJzY3JpcHRpb25JbmRleDogdWludDY0LCBORkRBcHBJRDogdWludDY0LCBha2l0YUFzc2V0SUQ6IHVpbnQ2NCk6IHVpbnQ2NCB7CiAgICBwcm90byAzIDEKICAgIGludGNfMCAvLyAwCiAgICBkdXBuIDYKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTgzCiAgICAvLyBpZiAoc3Vic2NyaXB0aW9uSW5kZXggIT09IDApIHsKICAgIGZyYW1lX2RpZyAtMwogICAgYnogY2FjaGVNZXRhX2FmdGVyX2lmX2Vsc2VAMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU4NAogICAgLy8gYXNzZXJ0KHRoaXMuaXNTdWJzY3JpYmVkKFR4bi5zZW5kZXIsIHN1YnNjcmlwdGlvbkluZGV4KS5hY3RpdmUsIEVSUl9OT1RfQV9TVUJTQ1JJUFRJT04pCiAgICB0eG4gU2VuZGVyCiAgICBmcmFtZV9kaWcgLTMKICAgIGNhbGxzdWIgaXNTdWJzY3JpYmVkCiAgICBwb3BuIDIKICAgIGFzc2VydCAvLyBOb3QgYW4gYWtpdGEgc3Vic2NyaXB0aW9uIGNvbnRyYWN0CgpjYWNoZU1ldGFfYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU4NwogICAgLy8gbGV0IG5mZFRpbWVDaGFuZ2VkOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU4OAogICAgLy8gbGV0IG5mZEltcGFjdDogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgOAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU4OQogICAgLy8gaWYgKE5GREFwcElEICE9PSAwKSB7CiAgICBmcmFtZV9kaWcgLTIKICAgIGJ6IGNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzNDQKICAgIC8vIGNvbnN0IFtuZmROYW1lQnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoTkZEQXBwLCBCeXRlcyhORkRHbG9iYWxTdGF0ZUtleXNOYW1lKSkKICAgIGZyYW1lX2RpZyAtMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnN0YW50cy50czoxOAogICAgLy8gZXhwb3J0IGNvbnN0IE5GREdsb2JhbFN0YXRlS2V5c05hbWUgPSAnaS5uYW1lJwogICAgcHVzaGJ5dGVzICJpLm5hbWUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMzQ0CiAgICAvLyBjb25zdCBbbmZkTmFtZUJ5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKE5GREFwcCwgQnl0ZXMoTkZER2xvYmFsU3RhdGVLZXlzTmFtZSkpCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMzQ2LTEzNTMKICAgIC8vIHJldHVybiBhYmlDYWxsKAogICAgLy8gICBORkRSZWdpc3RyeS5wcm90b3R5cGUuaXNWYWxpZE5mZEFwcElkLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IGdldE90aGVyQXBwTGlzdCh0aGlzLmFraXRhREFPLnZhbHVlKS5uZmRSZWdpc3RyeSwKICAgIC8vICAgICBhcmdzOiBbU3RyaW5nKG5mZE5hbWVCeXRlcyksIE5GREFwcC5pZF0sCiAgICAvLyAgICAgZmVlLAogICAgLy8gICB9CiAgICAvLyApLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBHbG9iYWxTdGF0ZUtleUFraXRhREFPID0gJ2FraXRhX2RhbycKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2Rhby9jb25zdGFudHMudHM6OAogICAgLy8gZXhwb3J0IGNvbnN0IEFraXRhREFPR2xvYmFsU3RhdGVLZXlzT3RoZXJBcHBMaXN0ID0gJ290aGVyX2FsJwogICAgcHVzaGJ5dGVzICJvdGhlcl9hbCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MzMKICAgIC8vIGNvbnN0IFtvdGhlckFwcExpc3RCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhha2l0YURBTywgQnl0ZXMoQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNPdGhlckFwcExpc3QpKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czozNAogICAgLy8gcmV0dXJuIGRlY29kZUFyYzQ8T3RoZXJBcHBMaXN0PihvdGhlckFwcExpc3RCeXRlcykKICAgIGludGNfMyAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTM1MAogICAgLy8gYXJnczogW1N0cmluZyhuZmROYW1lQnl0ZXMpLCBORkRBcHAuaWRdLAogICAgZGlnIDEKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzNDYtMTM1MwogICAgLy8gcmV0dXJuIGFiaUNhbGwoCiAgICAvLyAgIE5GRFJlZ2lzdHJ5LnByb3RvdHlwZS5pc1ZhbGlkTmZkQXBwSWQsCiAgICAvLyAgIHsKICAgIC8vICAgICBhcHBJZDogZ2V0T3RoZXJBcHBMaXN0KHRoaXMuYWtpdGFEQU8udmFsdWUpLm5mZFJlZ2lzdHJ5LAogICAgLy8gICAgIGFyZ3M6IFtTdHJpbmcobmZkTmFtZUJ5dGVzKSwgTkZEQXBwLmlkXSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0KICAgIC8vICkucmV0dXJuVmFsdWUKICAgIHB1c2hieXRlcyAweDRiZTIyZmM2IC8vIG1ldGhvZCAiaXNWYWxpZE5mZEFwcElkKHN0cmluZyx1aW50NjQpYm9vbCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgaW50Y18yIC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9jb25zdGFudHMudHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IGZlZTogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMzQ2LTEzNTMKICAgIC8vIHJldHVybiBhYmlDYWxsKAogICAgLy8gICBORkRSZWdpc3RyeS5wcm90b3R5cGUuaXNWYWxpZE5mZEFwcElkLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IGdldE90aGVyQXBwTGlzdCh0aGlzLmFraXRhREFPLnZhbHVlKS5uZmRSZWdpc3RyeSwKICAgIC8vICAgICBhcmdzOiBbU3RyaW5nKG5mZE5hbWVCeXRlcyksIE5GREFwcC5pZF0sCiAgICAvLyAgICAgZmVlLAogICAgLy8gICB9CiAgICAvLyApLnJldHVyblZhbHVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBzd2FwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1OTEKICAgIC8vIGFzc2VydCh0aGlzLmlzTkZEKG5mZEFwcCksIEVSUl9OT1RfQU5fTkZEKQogICAgYXNzZXJ0IC8vIE5vdCBhbiBORkQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1OTIKICAgIC8vIGFzc2VydCh0aGlzLmFkZHJlc3NWZXJpZmllZE9uTkZEKFR4bi5zZW5kZXIsIG5mZEFwcCksIEVSUl9VU0VSX0RPRVNfTk9UX09XTl9ORkQpCiAgICB0eG4gU2VuZGVyCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzNTgtMTM2NwogICAgLy8gY29uc3QgY2FBbGdvRGF0YSA9IGFiaUNhbGwoCiAgICAvLyAgIE5GRC5wcm90b3R5cGUucmVhZEZpZWxkLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IE5GREFwcC5pZCwKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICBCeXRlcyhORkRNZXRhS2V5VmVyaWZpZWRBZGRyZXNzZXMpCiAgICAvLyAgICAgXSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0sCiAgICAvLyApLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICBieXRlYyA3IC8vIG1ldGhvZCAicmVhZEZpZWxkKGJ5dGVbXSlieXRlW10iCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnN0YW50cy50czoyMwogICAgLy8gZXhwb3J0IGNvbnN0IE5GRE1ldGFLZXlWZXJpZmllZEFkZHJlc3NlcyA9ICd2LmNhQWxnby4wLmFzJwogICAgcHVzaGJ5dGVzIDB4MDAwZDc2MmU2MzYxNDE2YzY3NmYyZTMwMmU2MTczCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIC0yCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzNTgtMTM2NwogICAgLy8gY29uc3QgY2FBbGdvRGF0YSA9IGFiaUNhbGwoCiAgICAvLyAgIE5GRC5wcm90b3R5cGUucmVhZEZpZWxkLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IE5GREFwcC5pZCwKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICBCeXRlcyhORkRNZXRhS2V5VmVyaWZpZWRBZGRyZXNzZXMpCiAgICAvLyAgICAgXSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0sCiAgICAvLyApLnJldHVyblZhbHVlCiAgICBpbnRjXzIgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgZmVlOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzNTgtMTM2NwogICAgLy8gY29uc3QgY2FBbGdvRGF0YSA9IGFiaUNhbGwoCiAgICAvLyAgIE5GRC5wcm90b3R5cGUucmVhZEZpZWxkLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IE5GREFwcC5pZCwKICAgIC8vICAgICBhcmdzOiBbCiAgICAvLyAgICAgICBCeXRlcyhORkRNZXRhS2V5VmVyaWZpZWRBZGRyZXNzZXMpCiAgICAvLyAgICAgXSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0sCiAgICAvLyApLnJldHVyblZhbHVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgZXh0cmFjdCA2IDAKICAgIGZyYW1lX2J1cnkgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTM2OQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGNhQWxnb0RhdGEubGVuZ3RoOyBpICs9IDMyKSB7CiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSA3CgpjYWNoZU1ldGFfd2hpbGVfdG9wQDE0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTM2OQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGNhQWxnb0RhdGEubGVuZ3RoOyBpICs9IDMyKSB7CiAgICBmcmFtZV9kaWcgMgogICAgbGVuCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMTEKICAgIGZyYW1lX2RpZyA3CiAgICA+CiAgICBieiBjYWNoZU1ldGFfYWZ0ZXJfd2hpbGVAMTkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzNzAKICAgIC8vIGNvbnN0IGFkZHIgPSBjYUFsZ29EYXRhLnNsaWNlKGksIGkgKyAzMikKICAgIGZyYW1lX2RpZyA3CiAgICBkdXAKICAgIGZyYW1lX2RpZyAxMQogICAgZHVwCiAgICBjb3ZlciAzCiAgICA+PQogICAgZGlnIDEKICAgIGRpZyAzCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgc3dhcAogICAgcHVzaGludCAzMiAvLyAzMgogICAgKwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDcKICAgIGR1cAogICAgZGlnIDMKICAgID49CiAgICBzd2FwCiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBkdXAKICAgIGRpZyAyCiAgICA8CiAgICBkaWcgMgogICAgc3dhcAogICAgc2VsZWN0CiAgICBmcmFtZV9kaWcgMgogICAgY292ZXIgMgogICAgc3Vic3RyaW5nMwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzNzEKICAgIC8vIGlmIChhZGRyICE9PSBHbG9iYWwuemVyb0FkZHJlc3MuYnl0ZXMgJiYgYWRkciA9PT0gYWNjb3VudC5ieXRlcykgewogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAhPQogICAgYnogY2FjaGVNZXRhX3doaWxlX3RvcEAxNAogICAgZnJhbWVfZGlnIDEKICAgIGZyYW1lX2RpZyAwCiAgICA9PQogICAgYnogY2FjaGVNZXRhX3doaWxlX3RvcEAxNAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTM3MgogICAgLy8gcmV0dXJuIHRydWUKICAgIGludGNfMSAvLyAxCgpjYWNoZU1ldGFfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czo6QWtpdGFTb2NpYWxJbXBhY3QuYWRkcmVzc1ZlcmlmaWVkT25ORkRAMjA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTkyCiAgICAvLyBhc3NlcnQodGhpcy5hZGRyZXNzVmVyaWZpZWRPbk5GRChUeG4uc2VuZGVyLCBuZmRBcHApLCBFUlJfVVNFUl9ET0VTX05PVF9PV05fTkZEKQogICAgYXNzZXJ0IC8vIFVzZXIgZG9lcyBub3Qgb3duIHRoaXMgTkZECiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTkzCiAgICAvLyBjb25zdCBbdGltZUNoYW5nZWRCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhuZmRBcHAsIEJ5dGVzKE5GREdsb2JhbFN0YXRlS2V5c1RpbWVDaGFuZ2VkKSkKICAgIGZyYW1lX2RpZyAtMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnN0YW50cy50czoyMQogICAgLy8gZXhwb3J0IGNvbnN0IE5GREdsb2JhbFN0YXRlS2V5c1RpbWVDaGFuZ2VkID0gJ2kudGltZUNoYW5nZWQnCiAgICBieXRlYyA1IC8vICJpLnRpbWVDaGFuZ2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU5MwogICAgLy8gY29uc3QgW3RpbWVDaGFuZ2VkQnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMobmZkQXBwLCBCeXRlcyhORkRHbG9iYWxTdGF0ZUtleXNUaW1lQ2hhbmdlZCkpCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTk0CiAgICAvLyBuZmRUaW1lQ2hhbmdlZCA9IGJ0b2kodGltZUNoYW5nZWRCeXRlcykKICAgIGJ0b2kKICAgIGZyYW1lX2J1cnkgMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1MDgKICAgIC8vIGxldCBuZmRJbXBhY3Q6IHVpbnQ2NCA9IDUwCiAgICBwdXNoaW50IDUwIC8vIDUwCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgOAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTUxMAogICAgLy8gY29uc3QgW3BhcmVudEFwcElEQnl0ZXMsIHBhcmVudEFwcElEQnl0ZXNFeGlzdF0gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhORkRBcHAsIEJ5dGVzKE5GREdsb2JhbFN0YXRlS2V5c1BhcmVudEFwcElEKSkKICAgIGZyYW1lX2RpZyAtMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnN0YW50cy50czoxOQogICAgLy8gZXhwb3J0IGNvbnN0IE5GREdsb2JhbFN0YXRlS2V5c1BhcmVudEFwcElEID0gJ2kucGFyZW50QXBwSUQnCiAgICBwdXNoYnl0ZXMgImkucGFyZW50QXBwSUQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTEwCiAgICAvLyBjb25zdCBbcGFyZW50QXBwSURCeXRlcywgcGFyZW50QXBwSURCeXRlc0V4aXN0XSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKE5GREFwcCwgQnl0ZXMoTkZER2xvYmFsU3RhdGVLZXlzUGFyZW50QXBwSUQpKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHN3YXAKICAgIGZyYW1lX2J1cnkgNAogICAgc3dhcAogICAgZnJhbWVfYnVyeSA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTEyCiAgICAvLyBpZiAocGFyZW50QXBwSURCeXRlc0V4aXN0ICYmIGJ0b2kocGFyZW50QXBwSURCeXRlcykgPT09IGdldEFraXRhQXBwTGlzdCh0aGlzLmFraXRhREFPLnZhbHVlKS5ha2l0YU5GRCkgewogICAgYnogY2FjaGVNZXRhX2FmdGVyX2lmX2Vsc2VAMjQKICAgIGZyYW1lX2RpZyA0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBHbG9iYWxTdGF0ZUtleUFraXRhREFPID0gJ2FraXRhX2RhbycKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2Rhby9jb25zdGFudHMudHM6NgogICAgLy8gZXhwb3J0IGNvbnN0IEFraXRhREFPR2xvYmFsU3RhdGVLZXlzQWtpdGFBcHBMaXN0ID0gJ2FraXRhX2FsJwogICAgYnl0ZWNfMiAvLyAiYWtpdGFfYWwiCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIzCiAgICAvLyBjb25zdCBbYXBwTGlzdEJ5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKGFraXRhREFPLCBCeXRlcyhBa2l0YURBT0dsb2JhbFN0YXRlS2V5c0FraXRhQXBwTGlzdCkpCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI0CiAgICAvLyByZXR1cm4gZGVjb2RlQXJjNDxBa2l0YUFwcExpc3Q+KGFwcExpc3RCeXRlcykKICAgIHB1c2hpbnQgODggLy8gODgKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTEyCiAgICAvLyBpZiAocGFyZW50QXBwSURCeXRlc0V4aXN0ICYmIGJ0b2kocGFyZW50QXBwSURCeXRlcykgPT09IGdldEFraXRhQXBwTGlzdCh0aGlzLmFraXRhREFPLnZhbHVlKS5ha2l0YU5GRCkgewogICAgPT0KICAgIGZyYW1lX2RpZyA4CiAgICBmcmFtZV9idXJ5IDkKICAgIGJ6IGNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDI0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTEzCiAgICAvLyBuZmRJbXBhY3QgKz0gNTAKICAgIHB1c2hpbnQgMTAwIC8vIDEwMAogICAgZnJhbWVfYnVyeSA5CgpjYWNoZU1ldGFfYWZ0ZXJfaWZfZWxzZUAyNDoKICAgIGZyYW1lX2RpZyA5CiAgICBmcmFtZV9idXJ5IDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1MTYKICAgIC8vIGNvbnN0IHZlcnNpb24gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhORkRBcHAsIEJ5dGVzKE5GREdsb2JhbFN0YXRlS2V5c1ZlcnNpb24pKVswXS5zbGljZSgwLCAyKQogICAgZnJhbWVfZGlnIC0yCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29uc3RhbnRzLnRzOjIwCiAgICAvLyBleHBvcnQgY29uc3QgTkZER2xvYmFsU3RhdGVLZXlzVmVyc2lvbiA9ICdpLnZlcicKICAgIHB1c2hieXRlcyAiaS52ZXIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTE2CiAgICAvLyBjb25zdCB2ZXJzaW9uID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoTkZEQXBwLCBCeXRlcyhORkRHbG9iYWxTdGF0ZUtleXNWZXJzaW9uKSlbMF0uc2xpY2UoMCwgMikKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzAgLy8gMAogICAgZGlnIDEKICAgID49CiAgICBpbnRjXzAgLy8gMAogICAgZGlnIDIKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBwdXNoaW50IDIgLy8gMgogICAgZGlnIDIKICAgID49CiAgICBwdXNoaW50IDIgLy8gMgogICAgdW5jb3ZlciAzCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgc3Vic3RyaW5nMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTUxOAogICAgLy8gaWYgKHZlcnNpb24gIT09IEJ5dGVzKCczLicpKSB7CiAgICBwdXNoYnl0ZXMgIjMuIgogICAgIT0KICAgIGJueiBjYWNoZU1ldGFfYWZ0ZXJfaWZfZWxzZUA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNDk4CiAgICAvLyBjb25zdCBkb21haW4gPSB0aGlzLm5mZFJlYWRGaWVsZChORkRBcHAsIE5GRE1ldGFLZXlWZXJpZmllZERvbWFpbikKICAgIGZyYW1lX2RpZyAtMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnN0YW50cy50czoyNAogICAgLy8gZXhwb3J0IGNvbnN0IE5GRE1ldGFLZXlWZXJpZmllZERvbWFpbiA9ICd2LmRvbWFpbicKICAgIHB1c2hieXRlcyAidi5kb21haW4iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNDk4CiAgICAvLyBjb25zdCBkb21haW4gPSB0aGlzLm5mZFJlYWRGaWVsZChORkRBcHAsIE5GRE1ldGFLZXlWZXJpZmllZERvbWFpbikKICAgIGNhbGxzdWIgbmZkUmVhZEZpZWxkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNDk5CiAgICAvLyBjb25zdCB0d2l0dGVyID0gdGhpcy5uZmRSZWFkRmllbGQoTkZEQXBwLCBORkRNZXRhS2V5VmVyaWZpZWRUd2l0dGVyKQogICAgZnJhbWVfZGlnIC0yCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29uc3RhbnRzLnRzOjI1CiAgICAvLyBleHBvcnQgY29uc3QgTkZETWV0YUtleVZlcmlmaWVkVHdpdHRlciA9ICd2LnR3aXR0ZXInCiAgICBwdXNoYnl0ZXMgInYudHdpdHRlciIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE0OTkKICAgIC8vIGNvbnN0IHR3aXR0ZXIgPSB0aGlzLm5mZFJlYWRGaWVsZChORkRBcHAsIE5GRE1ldGFLZXlWZXJpZmllZFR3aXR0ZXIpCiAgICBjYWxsc3ViIG5mZFJlYWRGaWVsZAogICAgZnJhbWVfYnVyeSA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTAwCiAgICAvLyBjb25zdCBkaXNjb3JkID0gdGhpcy5uZmRSZWFkRmllbGQoTkZEQXBwLCBORkRNZXRhS2V5VmVyaWZpZWREaXNjb3JkKQogICAgZnJhbWVfZGlnIC0yCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29uc3RhbnRzLnRzOjI2CiAgICAvLyBleHBvcnQgY29uc3QgTkZETWV0YUtleVZlcmlmaWVkRGlzY29yZCA9ICd2LmRpc2NvcmQnCiAgICBwdXNoYnl0ZXMgInYuZGlzY29yZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE1MDAKICAgIC8vIGNvbnN0IGRpc2NvcmQgPSB0aGlzLm5mZFJlYWRGaWVsZChORkRBcHAsIE5GRE1ldGFLZXlWZXJpZmllZERpc2NvcmQpCiAgICBjYWxsc3ViIG5mZFJlYWRGaWVsZAogICAgZnJhbWVfYnVyeSAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTAxCiAgICAvLyBjb25zdCB0ZWxlZ3JhbSA9IHRoaXMubmZkUmVhZEZpZWxkKE5GREFwcCwgTkZETWV0YUtleVZlcmlmaWVkVGVsZWdyYW0pCiAgICBmcmFtZV9kaWcgLTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb25zdGFudHMudHM6MjcKICAgIC8vIGV4cG9ydCBjb25zdCBORkRNZXRhS2V5VmVyaWZpZWRUZWxlZ3JhbSA9ICd2LnRlbGVncmFtJwogICAgcHVzaGJ5dGVzICJ2LnRlbGVncmFtIgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTUwMQogICAgLy8gY29uc3QgdGVsZWdyYW0gPSB0aGlzLm5mZFJlYWRGaWVsZChORkRBcHAsIE5GRE1ldGFLZXlWZXJpZmllZFRlbGVncmFtKQogICAgY2FsbHN1YiBuZmRSZWFkRmllbGQKICAgIGZyYW1lX2J1cnkgNQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTUyNQogICAgLy8gaWYgKGRvbWFpbi5sZW5ndGggPiAwKSB7CiAgICBsZW4KICAgIGZyYW1lX2RpZyA4CiAgICBmcmFtZV9idXJ5IDkKICAgIGJ6IGNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDI4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTI2CiAgICAvLyBuZmRJbXBhY3QgKz0gMTAKICAgIGZyYW1lX2RpZyA4CiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICArCiAgICBmcmFtZV9idXJ5IDkKCmNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDI4OgogICAgZnJhbWVfZGlnIDkKICAgIGR1cAogICAgZnJhbWVfYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTMwCiAgICAvLyBpZiAodHdpdHRlci5sZW5ndGggPiAwKSB7CiAgICBmcmFtZV9kaWcgNgogICAgbGVuCiAgICBzd2FwCiAgICBmcmFtZV9idXJ5IDkKICAgIGJ6IGNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDMwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTMxCiAgICAvLyBuZmRJbXBhY3QgKz0gMjAKICAgIGZyYW1lX2RpZyA4CiAgICBwdXNoaW50IDIwIC8vIDIwCiAgICArCiAgICBmcmFtZV9idXJ5IDkKCmNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDMwOgogICAgZnJhbWVfZGlnIDkKICAgIGR1cAogICAgZnJhbWVfYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTM1CiAgICAvLyBpZiAoZGlzY29yZC5sZW5ndGggPiAwKSB7CiAgICBmcmFtZV9kaWcgMwogICAgbGVuCiAgICBzd2FwCiAgICBmcmFtZV9idXJ5IDkKICAgIGJ6IGNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTM2CiAgICAvLyBuZmRJbXBhY3QgKz0gMTAKICAgIGZyYW1lX2RpZyA4CiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICArCiAgICBmcmFtZV9idXJ5IDkKCmNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDMyOgogICAgZnJhbWVfZGlnIDkKICAgIGR1cAogICAgZnJhbWVfYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTQwCiAgICAvLyBpZiAodGVsZWdyYW0ubGVuZ3RoID4gMCkgewogICAgZnJhbWVfZGlnIDUKICAgIGxlbgogICAgc3dhcAogICAgZnJhbWVfYnVyeSA5CiAgICBieiBjYWNoZU1ldGFfYWZ0ZXJfaWZfZWxzZUAzNAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU0MQogICAgLy8gbmZkSW1wYWN0ICs9IDEwCiAgICBmcmFtZV9kaWcgOAogICAgcHVzaGludCAxMCAvLyAxMAogICAgKwogICAgZnJhbWVfYnVyeSA5CgpjYWNoZU1ldGFfYWZ0ZXJfaWZfZWxzZUAzNDoKICAgIGZyYW1lX2RpZyA5CiAgICBmcmFtZV9idXJ5IDgKCmNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNTk4CiAgICAvLyBpZiAoYWtpdGFBc3NldElEICE9PSAwKSB7CiAgICBmcmFtZV9kaWcgLTEKICAgIGJ6IGNhY2hlTWV0YV9hZnRlcl9pZl9lbHNlQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzODAKICAgIC8vIHJldHVybiBha2l0YU5GVC5jcmVhdG9yID09PSBBY2NvdW50KEFraXRhTkZUQ3JlYXRvckFkZHJlc3MpCiAgICBmcmFtZV9kaWcgLTEKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRDcmVhdG9yCiAgICBhc3NlcnQgLy8gYXNzZXQgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvY29uc3RhbnRzLnRzOjMzCiAgICAvLyBleHBvcnQgY29uc3QgQWtpdGFORlRDcmVhdG9yQWRkcmVzcyA9ICdBS0NUUkRLNE9XTldIVFBINFhQS0xOV05MWjMzM1ZFMzVTS1E0RkdRSzNaSkE0RklIQ0xUUkczUEZJJwogICAgYnl0ZWMgNiAvLyBhZGRyIEFLQ1RSREs0T1dOV0hUUEg0WFBLTE5XTkxaMzMzVkUzNVNLUTRGR1FLM1pKQTRGSUhDTFRSRzNQRkkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjEzODAKICAgIC8vIHJldHVybiBha2l0YU5GVC5jcmVhdG9yID09PSBBY2NvdW50KEFraXRhTkZUQ3JlYXRvckFkZHJlc3MpCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYwMAogICAgLy8gYXNzZXJ0KHRoaXMuaXNBa2l0YU5GVChha2l0YU5GVCksIEVSUl9OT1RfQU5fQUtJVEFfTkZUKQogICAgYXNzZXJ0IC8vIE5vdCBhbiBha2l0YSBORlQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MDEKICAgIC8vIGFzc2VydCh0aGlzLnVzZXJIb2xkcyhUeG4uc2VuZGVyLCBha2l0YU5GVCksIEVSUl9VU0VSX0RPRVNfTk9UX09XTl9ORlQpCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxMzEwCiAgICAvLyByZXR1cm4gQXNzZXRIb2xkaW5nLmFzc2V0QmFsYW5jZShhY2NvdW50LCBORlQpWzBdID4gMAogICAgZnJhbWVfZGlnIC0xCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYwMQogICAgLy8gYXNzZXJ0KHRoaXMudXNlckhvbGRzKFR4bi5zZW5kZXIsIGFraXRhTkZUKSwgRVJSX1VTRVJfRE9FU19OT1RfT1dOX05GVCkKICAgIGFzc2VydCAvLyBVc2VyIGRvZXMgbm90IG93biB0aGlzIE5GVAoKY2FjaGVNZXRhX2FmdGVyX2lmX2Vsc2VANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MDUKICAgIC8vIHN1YnNjcmlwdGlvbkluZGV4OiBuZXcgVWludE42NChzdWJzY3JpcHRpb25JbmRleCksCiAgICBmcmFtZV9kaWcgLTMKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MDYKICAgIC8vIE5GRDogbmV3IFVpbnRONjQoTkZEQXBwSUQpLAogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjA3CiAgICAvLyBuZmRUaW1lQ2hhbmdlZDogbmV3IFVpbnRONjQobmZkVGltZUNoYW5nZWQpLAogICAgZnJhbWVfZGlnIDEwCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjA4CiAgICAvLyBuZmRJbXBhY3Q6IG5ldyBVaW50TjY0KG5mZEltcGFjdCksCiAgICBmcmFtZV9kaWcgOAogICAgZHVwCiAgICBjb3ZlciA0CiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjA5CiAgICAvLyBha2l0YU5GVDogbmV3IFVpbnRONjQoYWtpdGFBc3NldElEKSwKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYwNC0xNjEwCiAgICAvLyB0aGlzLm1ldGEoVHhuLnNlbmRlcikudmFsdWUgPSBuZXcgYXJjNEltcGFjdE1ldGFWYWx1ZSh7CiAgICAvLyAgIHN1YnNjcmlwdGlvbkluZGV4OiBuZXcgVWludE42NChzdWJzY3JpcHRpb25JbmRleCksCiAgICAvLyAgIE5GRDogbmV3IFVpbnRONjQoTkZEQXBwSUQpLAogICAgLy8gICBuZmRUaW1lQ2hhbmdlZDogbmV3IFVpbnRONjQobmZkVGltZUNoYW5nZWQpLAogICAgLy8gICBuZmRJbXBhY3Q6IG5ldyBVaW50TjY0KG5mZEltcGFjdCksCiAgICAvLyAgIGFraXRhTkZUOiBuZXcgVWludE42NChha2l0YUFzc2V0SUQpLAogICAgLy8gfSkKICAgIHVuY292ZXIgNAogICAgdW5jb3ZlciA0CiAgICBjb25jYXQKICAgIHVuY292ZXIgMwogICAgY29uY2F0CiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29uc3RhbnRzLnRzOjE1CiAgICAvLyBleHBvcnQgY29uc3QgSW1wYWN0Qm94UHJlZml4TWV0YSA9ICdtJwogICAgYnl0ZWNfMyAvLyAibSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MDQKICAgIC8vIHRoaXMubWV0YShUeG4uc2VuZGVyKS52YWx1ZSA9IG5ldyBhcmM0SW1wYWN0TWV0YVZhbHVlKHsKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb25zdGFudHMudHM6MTUKICAgIC8vIGV4cG9ydCBjb25zdCBJbXBhY3RCb3hQcmVmaXhNZXRhID0gJ20nCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MDQtMTYxMAogICAgLy8gdGhpcy5tZXRhKFR4bi5zZW5kZXIpLnZhbHVlID0gbmV3IGFyYzRJbXBhY3RNZXRhVmFsdWUoewogICAgLy8gICBzdWJzY3JpcHRpb25JbmRleDogbmV3IFVpbnRONjQoc3Vic2NyaXB0aW9uSW5kZXgpLAogICAgLy8gICBORkQ6IG5ldyBVaW50TjY0KE5GREFwcElEKSwKICAgIC8vICAgbmZkVGltZUNoYW5nZWQ6IG5ldyBVaW50TjY0KG5mZFRpbWVDaGFuZ2VkKSwKICAgIC8vICAgbmZkSW1wYWN0OiBuZXcgVWludE42NChuZmRJbXBhY3QpLAogICAgLy8gICBha2l0YU5GVDogbmV3IFVpbnRONjQoYWtpdGFBc3NldElEKSwKICAgIC8vIH0pCiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjEyCiAgICAvLyByZXR1cm4gbmZkSW1wYWN0CiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKY2FjaGVNZXRhX2FmdGVyX3doaWxlQDE5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTM3NgogICAgLy8gcmV0dXJuIGZhbHNlCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTU5MgogICAgLy8gYXNzZXJ0KHRoaXMuYWRkcmVzc1ZlcmlmaWVkT25ORkQoVHhuLnNlbmRlciwgbmZkQXBwKSwgRVJSX1VTRVJfRE9FU19OT1RfT1dOX05GRCkKICAgIGIgY2FjaGVNZXRhX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmFkZHJlc3NWZXJpZmllZE9uTkZEQDIwCgoKLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LnVwZGF0ZVN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIocGF5bWVudDogdWludDY0LCBzdWJzY3JpcHRpb25JbmRleDogdWludDY0LCBuZXdNb2RpZmllcjogdWludDY0KSAtPiB2b2lkOgp1cGRhdGVTdWJzY3JpcHRpb25TdGF0ZU1vZGlmaWVyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYxNQogICAgLy8gdXBkYXRlU3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcihwYXltZW50OiBndHhuLlBheW1lbnRUeG4sIHN1YnNjcmlwdGlvbkluZGV4OiB1aW50NjQsIG5ld01vZGlmaWVyOiB1aW50NjQpOiB2b2lkIHsKICAgIHByb3RvIDMgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYxNgogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuYWtpdGFEQU8udmFsdWUuYWRkcmVzcywgRVJSX05PVF9EQU8pCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBHbG9iYWxTdGF0ZUtleUFraXRhREFPID0gJ2FraXRhX2RhbycKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYxNgogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuYWtpdGFEQU8udmFsdWUuYWRkcmVzcywgRVJSX05PVF9EQU8pCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIE5vdCB0aGUgREFPCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjE4CiAgICAvLyB0aGlzLnN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIoc3Vic2NyaXB0aW9uSW5kZXgpLnZhbHVlID0gbmV3TW9kaWZpZXIKICAgIGZyYW1lX2RpZyAtMgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnN0YW50cy50czoxNgogICAgLy8gZXhwb3J0IGNvbnN0IEltcGFjdEJveFByZWZpeFN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIgPSAncycKICAgIHB1c2hieXRlcyAicyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYxOAogICAgLy8gdGhpcy5zdWJzY3JpcHRpb25TdGF0ZU1vZGlmaWVyKHN1YnNjcmlwdGlvbkluZGV4KS52YWx1ZSA9IG5ld01vZGlmaWVyCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MjAtMTYyNwogICAgLy8gYXNzZXJ0TWF0Y2goCiAgICAvLyAgIHBheW1lbnQsCiAgICAvLyAgIHsKICAgIC8vICAgICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYW1vdW50OiB0aGlzLm1icigpLnN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIKICAgIC8vICAgfSwKICAgIC8vICAgRVJSX0lOVkFMSURfUEFZTUVOVAogICAgLy8gKQogICAgZnJhbWVfZGlnIC0zCiAgICBndHhucyBSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYyMwogICAgLy8gcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MjAtMTYyNwogICAgLy8gYXNzZXJ0TWF0Y2goCiAgICAvLyAgIHBheW1lbnQsCiAgICAvLyAgIHsKICAgIC8vICAgICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYW1vdW50OiB0aGlzLm1icigpLnN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIKICAgIC8vICAgfSwKICAgIC8vICAgRVJSX0lOVkFMSURfUEFZTUVOVAogICAgLy8gKQogICAgPT0KICAgIGJ6IHVwZGF0ZVN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXJfYm9vbF9mYWxzZUAzCiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTMwNQogICAgLy8gc3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcjogOV8zMDAsCiAgICBwdXNoaW50IDkzMDAgLy8gOTMwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYyMC0xNjI3CiAgICAvLyBhc3NlcnRNYXRjaCgKICAgIC8vICAgcGF5bWVudCwKICAgIC8vICAgewogICAgLy8gICAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhbW91bnQ6IHRoaXMubWJyKCkuc3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcgogICAgLy8gICB9LAogICAgLy8gICBFUlJfSU5WQUxJRF9QQVlNRU5UCiAgICAvLyApCiAgICA9PQogICAgYnogdXBkYXRlU3Vic2NyaXB0aW9uU3RhdGVNb2RpZmllcl9ib29sX2ZhbHNlQDMKICAgIGludGNfMSAvLyAxCgp1cGRhdGVTdWJzY3JpcHRpb25TdGF0ZU1vZGlmaWVyX2Jvb2xfbWVyZ2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MjAtMTYyNwogICAgLy8gYXNzZXJ0TWF0Y2goCiAgICAvLyAgIHBheW1lbnQsCiAgICAvLyAgIHsKICAgIC8vICAgICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYW1vdW50OiB0aGlzLm1icigpLnN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXIKICAgIC8vICAgfSwKICAgIC8vICAgRVJSX0lOVkFMSURfUEFZTUVOVAogICAgLy8gKQogICAgYXNzZXJ0IC8vIEludmFsaWQgcGF5bWVudAogICAgcmV0c3ViCgp1cGRhdGVTdWJzY3JpcHRpb25TdGF0ZU1vZGlmaWVyX2Jvb2xfZmFsc2VAMzoKICAgIGludGNfMCAvLyAwCiAgICBiIHVwZGF0ZVN1YnNjcmlwdGlvblN0YXRlTW9kaWZpZXJfYm9vbF9tZXJnZUA0CgoKLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldFVzZXJJbXBhY3RXaXRob3V0U29jaWFsKGFkZHJlc3M6IGJ5dGVzKSAtPiB1aW50NjQ6CmdldFVzZXJJbXBhY3RXaXRob3V0U29jaWFsOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6MTYzMy0xNjM0CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIC8vIGdldFVzZXJJbXBhY3RXaXRob3V0U29jaWFsKGFkZHJlc3M6IEFkZHJlc3MpOiB1aW50NjQgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjM1CiAgICAvLyByZXR1cm4gdGhpcy51c2VySW1wYWN0KGFkZHJlc3MubmF0aXZlLCBmYWxzZSkKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgdXNlckltcGFjdAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2FyYzU4L3BsdWdpbnMvc29jaWFsL2NvbnRyYWN0LmFsZ28udHM6OkFraXRhU29jaWFsSW1wYWN0LmdldFVzZXJJbXBhY3QoYWRkcmVzczogYnl0ZXMpIC0+IHVpbnQ2NDoKZ2V0VXNlckltcGFjdDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2MzgtMTYzOQogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICAvLyBnZXRVc2VySW1wYWN0KGFkZHJlc3M6IEFkZHJlc3MpOiB1aW50NjQgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjQwCiAgICAvLyByZXR1cm4gdGhpcy51c2VySW1wYWN0KGFkZHJlc3MubmF0aXZlLCB0cnVlKQogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjXzEgLy8gMQogICAgY2FsbHN1YiB1c2VySW1wYWN0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czo6QWtpdGFTb2NpYWxJbXBhY3QuZ2V0TWV0YSh1c2VyOiBieXRlcykgLT4gdWludDY0LCB1aW50NjQsIHVpbnQ2NCwgdWludDY0LCB1aW50NjQsIHVpbnQ2NCwgdWludDY0LCB1aW50NjQsIHVpbnQ2NDoKZ2V0TWV0YToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hcmM1OC9wbHVnaW5zL3NvY2lhbC9jb250cmFjdC5hbGdvLnRzOjE2NDMtMTY0NAogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICAvLyBnZXRNZXRhKHVzZXI6IEFkZHJlc3MpOiBNZXRhVmFsdWUgewogICAgcHJvdG8gMSA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29uc3RhbnRzLnRzOjE1CiAgICAvLyBleHBvcnQgY29uc3QgSW1wYWN0Qm94UHJlZml4TWV0YSA9ICdtJwogICAgYnl0ZWNfMyAvLyAibSIKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXJjNTgvcGx1Z2lucy9zb2NpYWwvY29udHJhY3QuYWxnby50czoxNjQ1CiAgICAvLyByZXR1cm4gZGVjb2RlQXJjNDxNZXRhVmFsdWU+KHRoaXMubWV0YSh1c2VyLm5hdGl2ZSkudmFsdWUuYnl0ZXMpCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAxCiAgICBpbnRjXzMgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAyCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDMKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgNAogICAgcHVzaGludCAzMiAvLyAzMgogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyA1CiAgICBwdXNoaW50IDQwIC8vIDQwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDYKICAgIHB1c2hpbnQgMzg0IC8vIDM4NAogICAgZ2V0Yml0CiAgICBwdXNoYnl0ZXMgMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBkaWcgNwogICAgcHVzaGludCA0OSAvLyA0OQogICAgZXh0cmFjdF91aW50NjQKICAgIHVuY292ZXIgOAogICAgcHVzaGludCA1NyAvLyA1NwogICAgZXh0cmFjdF91aW50NjQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjpBa2l0YUJhc2VDb250cmFjdC51cGRhdGVBcHBsaWNhdGlvbihuZXdWZXJzaW9uOiBieXRlcykgLT4gdm9pZDoKdXBkYXRlQXBwbGljYXRpb246CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoxOS0yMAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogWydVcGRhdGVBcHBsaWNhdGlvbiddIH0pCiAgICAvLyB1cGRhdGVBcHBsaWNhdGlvbihuZXdWZXJzaW9uOiBzdHJpbmcpOiB2b2lkIHsKICAgIHByb3RvIDEgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MjEKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0aGlzLmFraXRhREFPLnZhbHVlLmFkZHJlc3MsIEVSUl9OT1RfQUtJVEFfREFPKQogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbnN0YW50cy50czoxCiAgICAvLyBleHBvcnQgY29uc3QgR2xvYmFsU3RhdGVLZXlBa2l0YURBTyA9ICdha2l0YV9kYW8nCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMCAvLyAiYWtpdGFfZGFvIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjIxCiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gdGhpcy5ha2l0YURBTy52YWx1ZS5hZGRyZXNzLCBFUlJfTk9UX0FLSVRBX0RBTykKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgID09CiAgICBhc3NlcnQgLy8gT25seSB0aGUgQWtpdGEgREFPIGNhbiBjYWxsIHRoaXMgZnVuY3Rpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb25zdGFudHMudHM6MwogICAgLy8gZXhwb3J0IGNvbnN0IEdsb2JhbFN0YXRlS2V5VmVyc2lvbiA9ICd2ZXJzaW9uJwogICAgYnl0ZWMgOCAvLyAidmVyc2lvbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjIyCiAgICAvLyB0aGlzLnZlcnNpb24udmFsdWUgPSBuZXdWZXJzaW9uCiAgICBmcmFtZV9kaWcgLTEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czo6QWtpdGFCYXNlQ29udHJhY3QudXBkYXRlQWtpdGFEQU8oYXBwOiB1aW50NjQpIC0+IHZvaWQ6CnVwZGF0ZUFraXRhREFPOgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MjcKICAgIC8vIHVwZGF0ZUFraXRhREFPKGFwcDogdWludDY0KTogdm9pZCB7CiAgICBwcm90byAxIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjI4CiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gdGhpcy5ha2l0YURBTy52YWx1ZS5hZGRyZXNzLCBFUlJfTk9UX0FLSVRBX0RBTykKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb25zdGFudHMudHM6MQogICAgLy8gZXhwb3J0IGNvbnN0IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gPSAnYWtpdGFfZGFvJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gImFraXRhX2RhbyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoyOAogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuYWtpdGFEQU8udmFsdWUuYWRkcmVzcywgRVJSX05PVF9BS0lUQV9EQU8pCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgdGhlIEFraXRhIERBTyBjYW4gY2FsbCB0aGlzIGZ1bmN0aW9uCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBHbG9iYWxTdGF0ZUtleUFraXRhREFPID0gJ2FraXRhX2RhbycKICAgIGJ5dGVjXzAgLy8gImFraXRhX2RhbyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjI5CiAgICAvLyB0aGlzLmFraXRhREFPLnZhbHVlID0gQXBwbGljYXRpb24oYXBwKQogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCg==",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "byteCode": {
        "approval": "CiAIAAEGCICglKWNHYCgt4fpBYDnhA+AyK+gJSYJCWFraXRhX2RhbwQVH3x1CGFraXRhX2FsAW0MYWtpdGFfYXNzZXRzDWkudGltZUNoYW5nZWQgAoU4jVx1m2PN5+XepbbNXne91JvslQ4U0FbykHCoOJcEbBPt5Ad2ZXJzaW9uMRtBAD+CCAS4xW9SBD5u49YEnXT1oQT4HHtiBNV0uxAEKIK7igQXR0BbBDPpLJQ2GgCOCADUALcAmQCFAHEAJgASAAIiQzEZFEQxGEQ2GgEXiAZOI0MxGYEEEkQxGEQ2GgFXAgCIBiYjQzEZFEQxGEQ2GgGIBdlPCBZPCBZPCBZPCBZPCBZPCBaAAQAiTwpUTwgWTwgWTwhPCFBPB1BPBlBPBVBPBFBPA1BPAlBMUClMULAjQzEZFEQxGEQ2GgGIBYQWKUxQsCNDMRkURDEYRDYaAYgFZhYpTFCwI0MxGRREMRhEMRYjCUk4ECMSRDYaARc2GgIXiAUNI0MxGRREMRhENhoBFzYaAhc2GgMXiAKuFilMULAjQzEZFEQxGBRENhoBFzYaAlcCAIgChSNDigIDsSIoZUQqZUiBIFuL/xaABEAVuECyGov+shqyGrIYJLIQIrIBs7Q+SVcABCkSRElXBCBLAYEkW0sCgSxbSwOBPFtLBIFUW08FgVxbIihlRHIIRE8GEksFIhMyB0lPBwlLBhhPBggJTwQMTgIQEE4CiYoCASKAAEcIK4v+UEm+REkiW0xJJVtMgSBbIihlRCcEZUgiW7EiKGVEKmVIIltMFoABAVCABMkGiAmyGov+shqyGrIYJLIQIrIBs7Q+SVcABCkSREmBBFtJTwKBDFsyB0wJTCEHDEAAC4sPgYCangEMQQFHIowFIowGi/6LC4j/DIwIjAdBABqLBxaAAXNMUL5EF4sIgQwPQQEUgfoBTAqMBov/QQECsSIoZUSACHBsdWduX2FsZUglW4AE6GmTTbIai/6yGrIYJLIQIrIBs7Q+SVcEAExXAAQpEkQXjASLCr5ESSVbSwGBEFtPAoEYW4wDSwEnBWVIF4sMTwMSRBJEIihlRCcEZUgiW4v+THAASEmMASEHDEEAeiKMAosNSXEDREkVIksBDyJLAk8CTYEDSwIPgQNPA08CTVKMAIv+SwFwAEiMAXELRCcGEkEAQIsBQQA7iwCAA0FLQxJBACCBMosFiwYIiwQIiwMIiwIICEmMCUAABCOMAImLCYwAiYsAgANBT0cSQQAFgRlC/9IiQv/OiwFJIQQPIQRMTYEyCyEECowCQv90IowEQv8wiwiBFAtMCowGQv7niw4hBQ9BABwhBYH6AQshBQqLD0khBg8hBkxNCyEGCowFQv6Yiw5C/+GKAgGxi/8VFlcGAov/UCcHshqyGov+shgkshAisgGztD5JVwAEKRJEVwYAiYoCACcIi/9nKIv+Z4mKAwEiRwaAAEcEi/1BAAoxAIv9iP1aRgJEIowKIowIi/5BAeGL/oAGaS5uYW1lZUixIihlRIAIb3RoZXJfYWxlSCVbSwEVFlcGAk8CUIv+FoAES+IvxrIaTLIashqyGCSyECKyAbO0PklXBABMVwAEKRJEIlNEMQCMALEnB7IagA8ADXYuY2FBbGdvLjAuYXOyGov+shgkshAisgGztD5JVwAEKRJEVwYAjAIijAeLAhVJjAuLBw1BAYmLB0mLC0lOAw9LAUsDTwJNTIEgCEmMB0lLAw9MTwNPAk1JSwIMSwJMTYsCTgJSSYwBMgMTQf+9iwGLABJB/7UjRIv+JwVlSBeMCoEySYwIi/6ADWkucGFyZW50QXBwSURlTIwETIwJQQAZiwQXIihlRCplSIFYWxKLCIwJQQAEgWSMCYsJjAiL/oAFaS52ZXJlSEkVIksBDyJLAk8CTYECSwIPgQJPA08CTVKAAjMuE0AAmIv+gAh2LmRvbWFpboj+S4v+gAl2LnR3aXR0ZXKI/juMBov+gAl2LmRpc2NvcmSI/imMA4v+gAp2LnRlbGVncmFtiP4WjAUViwiMCUEAB4sIgQoIjAmLCUmMCIsGFUyMCUEAB4sIgRQIjAmLCUmMCIsDFUyMCUEAB4sIgQoIjAmLCUmMCIsFFUyMCUEAB4sIgQoIjAmLCYwIi/9BABGL/3ELRCcGEkQxAIv/cABIRIv9Fov+FosKFosISU4EFov/Fk8ETwRQTwNQTwJQTFArMQBQTL+MAIkiQv6zigMAMQAiKGVEcghEEkSL/haAAXNMUIv/Fr+L/TgHMgoSQQAOi/04CIHUSBJBAAMjRIkiQv/6igEBi/8iiPtdiYoBAYv/I4j7U4mKAQkri/9QvkRJIltLASVbSwKBEFtLA4EYW0sEgSBbSwWBKFtLBoGAA1OAAQAiTwJUIlNLB4ExW08IgTlbiYoBADEAIihlRHIIRBJEJwiL/2eJigEAMQAiKGVEcghEEkQoi/9niQ==",
        "clear": "CoEBQw=="
    },
    "compilerInfo": {
        "compiler": "puya",
        "compilerVersion": {
            "major": 4,
            "minor": 8,
            "patch": 0
        }
    },
    "events": [],
    "templateVariables": {}
}