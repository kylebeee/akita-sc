#pragma version 10
#pragma typetrack false

// @algorandfoundation/algorand-typescript/arc4/index.d.ts::Contract.approvalProgram() -> uint64:
main:
    intcblock 0 1 1497100
    bytecblock "akita_dao" "child_contract_version" "revocation" 0x151f7c75 "version" "escrow_factory"
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txn NumAppArgs
    bz main_after_if_else@13
    pushbytess 0x3ba9072f 0xac9df27e 0xfb48d584 0x9b67fa6d 0x23cf4fef 0x33e92c94 0x1ead20a9 // method "create(uint64,string,string,uint64,uint64)void", method "updateRevocationApp(uint64)void", method "new(pay,address,address,string)uint64", method "cost()uint64", method "update(string,string)void", method "updateAkitaDAO(uint64)void", method "updateAkitaDAOEscrow(uint64)void"
    txna ApplicationArgs 0
    match main_create_route@3 main_updateRevocationApp_route@4 main_new_route@5 main_cost_route@6 main_update_route@7 main_updateAkitaDAO_route@8 main_updateAkitaDAOEscrow_route@9

main_after_if_else@13:
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    intc_0 // 0
    return

main_updateAkitaDAOEscrow_route@9:
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    callsub updateAkitaDAOEscrow
    intc_1 // 1
    return

main_updateAkitaDAO_route@8:
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    callsub updateAkitaDAO
    intc_1 // 1
    return

main_update_route@7:
    // smart_contracts/utils/base-contracts/factory.ts:71
    // @abimethod({ allowActions: ['UpdateApplication'] })
    txn OnCompletion
    pushint 4 // UpdateApplication
    ==
    assert // OnCompletion is not UpdateApplication
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    extract 2 0
    txna ApplicationArgs 2
    extract 2 0
    // smart_contracts/utils/base-contracts/factory.ts:71
    // @abimethod({ allowActions: ['UpdateApplication'] })
    callsub update
    intc_1 // 1
    return

main_cost_route@6:
    // smart_contracts/arc58/account/factory.algo.ts:96
    // @abimethod({ readonly: true })
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    callsub cost
    itob
    bytec_3 // 0x151f7c75
    swap
    concat
    log
    intc_1 // 1
    return

main_new_route@5:
    // smart_contracts/arc58/account/factory.algo.ts:49
    // new(payment: gtxn.PaymentTxn, controlledAddress: Address, admin: Address, nickname: string): uint64 {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txn GroupIndex
    intc_1 // 1
    -
    dup
    gtxns TypeEnum
    intc_1 // pay
    ==
    assert // transaction type is pay
    txna ApplicationArgs 1
    txna ApplicationArgs 2
    txna ApplicationArgs 3
    extract 2 0
    // smart_contracts/arc58/account/factory.algo.ts:49
    // new(payment: gtxn.PaymentTxn, controlledAddress: Address, admin: Address, nickname: string): uint64 {
    callsub new
    itob
    bytec_3 // 0x151f7c75
    swap
    concat
    log
    intc_1 // 1
    return

main_updateRevocationApp_route@4:
    // smart_contracts/arc58/account/factory.algo.ts:44
    // updateRevocationApp(app: uint64): void {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    // smart_contracts/arc58/account/factory.algo.ts:44
    // updateRevocationApp(app: uint64): void {
    callsub updateRevocationApp
    intc_1 // 1
    return

main_create_route@3:
    // smart_contracts/arc58/account/factory.algo.ts:33
    // @abimethod({ onCreate: 'require' })
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    !
    assert // can only call when creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    txna ApplicationArgs 2
    extract 2 0
    txna ApplicationArgs 3
    extract 2 0
    txna ApplicationArgs 4
    btoi
    txna ApplicationArgs 5
    btoi
    // smart_contracts/arc58/account/factory.algo.ts:33
    // @abimethod({ onCreate: 'require' })
    callsub create
    intc_1 // 1
    return


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.create(akitaDAO: uint64, version: bytes, childVersion: bytes, escrowFactoryApp: uint64, revocationApp: uint64) -> void:
create:
    // smart_contracts/arc58/account/factory.algo.ts:33-34
    // @abimethod({ onCreate: 'require' })
    // create(akitaDAO: uint64, version: string, childVersion: string, escrowFactoryApp: uint64, revocationApp: uint64): void {
    proto 5 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/arc58/account/factory.algo.ts:35
    // this.akitaDAO.value = Application(akitaDAO)
    frame_dig -5
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:32
    // version = GlobalState<string>({ key: GlobalStateKeyVersion })
    bytec 4 // "version"
    // smart_contracts/arc58/account/factory.algo.ts:36
    // this.version.value = version
    frame_dig -4
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    bytec_1 // "child_contract_version"
    // smart_contracts/arc58/account/factory.algo.ts:37
    // this.childContractVersion.value = childVersion
    frame_dig -3
    app_global_put
    // smart_contracts/arc58/account/factory.algo.ts:27
    // escrowFactory = GlobalState<Application>({ key: GlobalStateKeyEscrowFactory })
    bytec 5 // "escrow_factory"
    // smart_contracts/arc58/account/factory.algo.ts:38
    // this.escrowFactory.value = Application(escrowFactoryApp)
    frame_dig -2
    app_global_put
    // smart_contracts/arc58/account/factory.algo.ts:29
    // revocation = GlobalState<Application>({ key: GlobalStateKeyRevocation })
    bytec_2 // "revocation"
    // smart_contracts/arc58/account/factory.algo.ts:39
    // this.revocation.value = Application(revocationApp)
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.updateRevocationApp(app: uint64) -> void:
updateRevocationApp:
    // smart_contracts/arc58/account/factory.algo.ts:44
    // updateRevocationApp(app: uint64): void {
    proto 1 0
    // smart_contracts/arc58/account/factory.algo.ts:45
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/arc58/account/factory.algo.ts:45
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/arc58/account/factory.algo.ts:29
    // revocation = GlobalState<Application>({ key: GlobalStateKeyRevocation })
    bytec_2 // "revocation"
    // smart_contracts/arc58/account/factory.algo.ts:46
    // this.revocation.value = Application(app)
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.new(payment: uint64, controlledAddress: bytes, admin: bytes, nickname: bytes) -> uint64:
new:
    // smart_contracts/arc58/account/factory.algo.ts:49
    // new(payment: gtxn.PaymentTxn, controlledAddress: Address, admin: Address, nickname: string): uint64 {
    proto 4 1
    // smart_contracts/arc58/account/factory.algo.ts:57
    // Global.minBalance +
    global MinBalance
    // smart_contracts/arc58/account/factory.algo.ts:54-58
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * abstractedAccount.globalUints) + // 228_000
    // (GLOBAL_STATE_KEY_BYTES_COST * abstractedAccount.globalBytes) + // 300_000
    // Global.minBalance +
    // ARC58WalletIDsByAccountsMbr
    intc_2 // 1497100
    +
    // smart_contracts/arc58/account/factory.algo.ts:61-68
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: childMBR,
    //   },
    //   ERR_INVALID_PAYMENT
    // )
    frame_dig -4
    gtxns Receiver
    // smart_contracts/arc58/account/factory.algo.ts:64
    // receiver: Global.currentApplicationAddress,
    global CurrentApplicationAddress
    // smart_contracts/arc58/account/factory.algo.ts:61-68
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: childMBR,
    //   },
    //   ERR_INVALID_PAYMENT
    // )
    ==
    frame_dig -4
    gtxns Amount
    uncover 2
    ==
    &&
    assert // Invalid payment
    // smart_contracts/arc58/account/factory.algo.ts:70-81
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    itxn_begin
    // smart_contracts/arc58/account/factory.algo.ts:73
    // this.childContractVersion.value,
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    bytec_1 // "child_contract_version"
    // smart_contracts/arc58/account/factory.algo.ts:73
    // this.childContractVersion.value,
    app_global_get_ex
    assert // check GlobalState exists
    dup
    len
    itob
    extract 6 2
    swap
    concat
    // smart_contracts/arc58/account/factory.algo.ts:76
    // this.escrowFactory.value.id,
    intc_0 // 0
    // smart_contracts/arc58/account/factory.algo.ts:27
    // escrowFactory = GlobalState<Application>({ key: GlobalStateKeyEscrowFactory })
    bytec 5 // "escrow_factory"
    // smart_contracts/arc58/account/factory.algo.ts:76
    // this.escrowFactory.value.id,
    app_global_get_ex
    assert // check GlobalState exists
    itob
    // smart_contracts/arc58/account/factory.algo.ts:77
    // this.revocation.value.id,
    intc_0 // 0
    // smart_contracts/arc58/account/factory.algo.ts:29
    // revocation = GlobalState<Application>({ key: GlobalStateKeyRevocation })
    bytec_2 // "revocation"
    // smart_contracts/arc58/account/factory.algo.ts:77
    // this.revocation.value.id,
    app_global_get_ex
    assert // check GlobalState exists
    itob
    // smart_contracts/arc58/account/factory.algo.ts:78
    // nickname,
    frame_dig -1
    len
    itob
    extract 6 2
    frame_dig -1
    concat
    // smart_contracts/arc58/account/factory.algo.ts:70-81
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    pushbytes 0x70ca115d // method "create(string,address,address,uint64,uint64,string)void"
    itxn_field ApplicationArgs
    uncover 3
    itxn_field ApplicationArgs
    frame_dig -3
    itxn_field ApplicationArgs
    frame_dig -2
    itxn_field ApplicationArgs
    uncover 2
    itxn_field ApplicationArgs
    swap
    itxn_field ApplicationArgs
    itxn_field ApplicationArgs
    // smart_contracts/arc58/account/factory.algo.ts:51
    // const abstractedAccount = compileArc4(AbstractedAccount)
    pushint 16 // 16
    itxn_field GlobalNumByteSlice
    pushint 10 // 10
    itxn_field GlobalNumUint
    pushbytes base64(CoEBQw==)
    itxn_field ClearStateProgramPages
    pushbytes base64(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)
    itxn_field ApprovalProgramPages
    pushbytes base64(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)
    itxn_field ApprovalProgramPages
    // smart_contracts/arc58/account/factory.algo.ts:70-81
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    intc_0 // 0
    itxn_field OnCompletion
    // smart_contracts/arc58/account/factory.algo.ts:80
    // extraProgramPages: 3
    pushint 3 // 3
    itxn_field ExtraProgramPages
    // smart_contracts/arc58/account/factory.algo.ts:70-81
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    pushint 6 // appl
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee
    itxn_submit
    // smart_contracts/arc58/account/factory.algo.ts:83
    // .createdApp
    gitxn 0 CreatedApplicationID
    // smart_contracts/arc58/account/factory.algo.ts:86-91
    // itxn
    //   .payment({
    //     receiver: Application(walletID).address,
    //     amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    //   })
    //   .submit()
    itxn_begin
    // smart_contracts/arc58/account/factory.algo.ts:88
    // receiver: Application(walletID).address,
    dup
    app_params_get AppAddress
    assert // application exists
    // smart_contracts/arc58/account/factory.algo.ts:89
    // amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    global MinBalance
    pushint 12100 // 12100
    +
    itxn_field Amount
    itxn_field Receiver
    // smart_contracts/arc58/account/factory.algo.ts:86-90
    // itxn
    //   .payment({
    //     receiver: Application(walletID).address,
    //     amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    //   })
    intc_1 // 1
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee
    // smart_contracts/arc58/account/factory.algo.ts:86-91
    // itxn
    //   .payment({
    //     receiver: Application(walletID).address,
    //     amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    //   })
    //   .submit()
    itxn_submit
    // smart_contracts/arc58/account/factory.algo.ts:93
    // return walletID
    retsub


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.cost() -> uint64:
cost:
    // smart_contracts/arc58/account/factory.algo.ts:104
    // Global.minBalance +
    global MinBalance
    // smart_contracts/arc58/account/factory.algo.ts:101-105
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * AbstractAccountNumGlobalUints) +
    // (GLOBAL_STATE_KEY_BYTES_COST * AbstractAccountNumGlobalBytes) +
    // Global.minBalance +
    // ARC58WalletIDsByAccountsMbr
    intc_2 // 1497100
    +
    // smart_contracts/arc58/account/factory.algo.ts:100-106
    // return (
    //   MAX_PROGRAM_PAGES +
    //   (GLOBAL_STATE_KEY_UINT_COST * AbstractAccountNumGlobalUints) +
    //   (GLOBAL_STATE_KEY_BYTES_COST * AbstractAccountNumGlobalBytes) +
    //   Global.minBalance +
    //   ARC58WalletIDsByAccountsMbr
    // )
    retsub


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.update(newVersion: bytes, newChildVersion: bytes) -> void:
update:
    // smart_contracts/utils/base-contracts/factory.ts:71-72
    // @abimethod({ allowActions: ['UpdateApplication'] })
    // update(newVersion: string, newChildVersion: string): void {
    proto 2 0
    // smart_contracts/utils/base-contracts/factory.ts:73
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:73
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:32
    // version = GlobalState<string>({ key: GlobalStateKeyVersion })
    bytec 4 // "version"
    // smart_contracts/utils/base-contracts/factory.ts:74
    // this.version.value = newVersion
    frame_dig -2
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    bytec_1 // "child_contract_version"
    // smart_contracts/utils/base-contracts/factory.ts:75
    // this.childContractVersion.value = newChildVersion
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.updateAkitaDAO(app: uint64) -> void:
updateAkitaDAO:
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    proto 1 0
    // smart_contracts/utils/base-contracts/factory.ts:81
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:81
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:82
    // this.akitaDAO.value = Application(app)
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.updateAkitaDAOEscrow(app: uint64) -> void:
updateAkitaDAOEscrow:
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    proto 1 0
    // smart_contracts/utils/base-contracts/factory.ts:86
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:86
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:36
    // akitaDAOEscrow = GlobalState<Application>({ key: GlobalStateKeyAkitaEscrow })
    pushbytes "akita_escrow"
    // smart_contracts/utils/base-contracts/factory.ts:87
    // this.akitaDAOEscrow.value = Application(app)
    frame_dig -1
    app_global_put
    retsub
