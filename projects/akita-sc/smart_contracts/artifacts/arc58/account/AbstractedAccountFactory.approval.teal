#pragma version 10
#pragma typetrack false

// @algorandfoundation/algorand-typescript/arc4/index.d.ts::Contract.approvalProgram() -> uint64:
main:
    intcblock 0 1 1497100
    bytecblock "akita_dao" "child_contract_version" "revocation" 0x151f7c75 "version" "escrow_factory"
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txn NumAppArgs
    bz main_after_if_else@13
    pushbytess 0x3ba9072f 0xac9df27e 0xfb48d584 0x9b67fa6d 0x23cf4fef 0x33e92c94 0x1ead20a9 // method "create(uint64,string,string,uint64,uint64)void", method "updateRevocationApp(uint64)void", method "new(pay,address,address,string)uint64", method "cost()uint64", method "update(string,string)void", method "updateAkitaDAO(uint64)void", method "updateAkitaDAOEscrow(uint64)void"
    txna ApplicationArgs 0
    match main_create_route@3 main_updateRevocationApp_route@4 main_new_route@5 main_cost_route@6 main_update_route@7 main_updateAkitaDAO_route@8 main_updateAkitaDAOEscrow_route@9

main_after_if_else@13:
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    intc_0 // 0
    return

main_updateAkitaDAOEscrow_route@9:
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    callsub updateAkitaDAOEscrow
    intc_1 // 1
    return

main_updateAkitaDAO_route@8:
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    callsub updateAkitaDAO
    intc_1 // 1
    return

main_update_route@7:
    // smart_contracts/utils/base-contracts/factory.ts:71
    // @abimethod({ allowActions: ['UpdateApplication'] })
    txn OnCompletion
    pushint 4 // UpdateApplication
    ==
    assert // OnCompletion is not UpdateApplication
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    extract 2 0
    txna ApplicationArgs 2
    extract 2 0
    // smart_contracts/utils/base-contracts/factory.ts:71
    // @abimethod({ allowActions: ['UpdateApplication'] })
    callsub update
    intc_1 // 1
    return

main_cost_route@6:
    // smart_contracts/arc58/account/factory.algo.ts:96
    // @abimethod({ readonly: true })
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    callsub cost
    itob
    bytec_3 // 0x151f7c75
    swap
    concat
    log
    intc_1 // 1
    return

main_new_route@5:
    // smart_contracts/arc58/account/factory.algo.ts:49
    // new(payment: gtxn.PaymentTxn, controlledAddress: Address, admin: Address, nickname: string): uint64 {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txn GroupIndex
    intc_1 // 1
    -
    dup
    gtxns TypeEnum
    intc_1 // pay
    ==
    assert // transaction type is pay
    txna ApplicationArgs 1
    txna ApplicationArgs 2
    txna ApplicationArgs 3
    extract 2 0
    // smart_contracts/arc58/account/factory.algo.ts:49
    // new(payment: gtxn.PaymentTxn, controlledAddress: Address, admin: Address, nickname: string): uint64 {
    callsub new
    itob
    bytec_3 // 0x151f7c75
    swap
    concat
    log
    intc_1 // 1
    return

main_updateRevocationApp_route@4:
    // smart_contracts/arc58/account/factory.algo.ts:44
    // updateRevocationApp(app: uint64): void {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    // smart_contracts/arc58/account/factory.algo.ts:44
    // updateRevocationApp(app: uint64): void {
    callsub updateRevocationApp
    intc_1 // 1
    return

main_create_route@3:
    // smart_contracts/arc58/account/factory.algo.ts:33
    // @abimethod({ onCreate: 'require' })
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    !
    assert // can only call when creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    txna ApplicationArgs 2
    extract 2 0
    txna ApplicationArgs 3
    extract 2 0
    txna ApplicationArgs 4
    btoi
    txna ApplicationArgs 5
    btoi
    // smart_contracts/arc58/account/factory.algo.ts:33
    // @abimethod({ onCreate: 'require' })
    callsub create
    intc_1 // 1
    return


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.create(akitaDAO: uint64, version: bytes, childVersion: bytes, escrowFactoryApp: uint64, revocationApp: uint64) -> void:
create:
    // smart_contracts/arc58/account/factory.algo.ts:33-34
    // @abimethod({ onCreate: 'require' })
    // create(akitaDAO: uint64, version: string, childVersion: string, escrowFactoryApp: uint64, revocationApp: uint64): void {
    proto 5 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/arc58/account/factory.algo.ts:35
    // this.akitaDAO.value = Application(akitaDAO)
    frame_dig -5
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:32
    // version = GlobalState<string>({ key: GlobalStateKeyVersion })
    bytec 4 // "version"
    // smart_contracts/arc58/account/factory.algo.ts:36
    // this.version.value = version
    frame_dig -4
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    bytec_1 // "child_contract_version"
    // smart_contracts/arc58/account/factory.algo.ts:37
    // this.childContractVersion.value = childVersion
    frame_dig -3
    app_global_put
    // smart_contracts/arc58/account/factory.algo.ts:27
    // escrowFactory = GlobalState<Application>({ key: GlobalStateKeyEscrowFactory })
    bytec 5 // "escrow_factory"
    // smart_contracts/arc58/account/factory.algo.ts:38
    // this.escrowFactory.value = Application(escrowFactoryApp)
    frame_dig -2
    app_global_put
    // smart_contracts/arc58/account/factory.algo.ts:29
    // revocation = GlobalState<Application>({ key: GlobalStateKeyRevocation })
    bytec_2 // "revocation"
    // smart_contracts/arc58/account/factory.algo.ts:39
    // this.revocation.value = Application(revocationApp)
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.updateRevocationApp(app: uint64) -> void:
updateRevocationApp:
    // smart_contracts/arc58/account/factory.algo.ts:44
    // updateRevocationApp(app: uint64): void {
    proto 1 0
    // smart_contracts/arc58/account/factory.algo.ts:45
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/arc58/account/factory.algo.ts:45
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/arc58/account/factory.algo.ts:29
    // revocation = GlobalState<Application>({ key: GlobalStateKeyRevocation })
    bytec_2 // "revocation"
    // smart_contracts/arc58/account/factory.algo.ts:46
    // this.revocation.value = Application(app)
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.new(payment: uint64, controlledAddress: bytes, admin: bytes, nickname: bytes) -> uint64:
new:
    // smart_contracts/arc58/account/factory.algo.ts:49
    // new(payment: gtxn.PaymentTxn, controlledAddress: Address, admin: Address, nickname: string): uint64 {
    proto 4 1
    // smart_contracts/arc58/account/factory.algo.ts:57
    // Global.minBalance +
    global MinBalance
    // smart_contracts/arc58/account/factory.algo.ts:54-58
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * abstractedAccount.globalUints) + // 228_000
    // (GLOBAL_STATE_KEY_BYTES_COST * abstractedAccount.globalBytes) + // 300_000
    // Global.minBalance +
    // ARC58WalletIDsByAccountsMbr
    intc_2 // 1497100
    +
    // smart_contracts/arc58/account/factory.algo.ts:61-68
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: childMBR,
    //   },
    //   ERR_INVALID_PAYMENT
    // )
    frame_dig -4
    gtxns Receiver
    // smart_contracts/arc58/account/factory.algo.ts:64
    // receiver: Global.currentApplicationAddress,
    global CurrentApplicationAddress
    // smart_contracts/arc58/account/factory.algo.ts:61-68
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: childMBR,
    //   },
    //   ERR_INVALID_PAYMENT
    // )
    ==
    frame_dig -4
    gtxns Amount
    uncover 2
    ==
    &&
    assert // Invalid payment
    // smart_contracts/arc58/account/factory.algo.ts:70-81
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    itxn_begin
    // smart_contracts/arc58/account/factory.algo.ts:73
    // this.childContractVersion.value,
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    bytec_1 // "child_contract_version"
    // smart_contracts/arc58/account/factory.algo.ts:73
    // this.childContractVersion.value,
    app_global_get_ex
    assert // check GlobalState exists
    dup
    len
    itob
    extract 6 2
    swap
    concat
    // smart_contracts/arc58/account/factory.algo.ts:76
    // this.escrowFactory.value.id,
    intc_0 // 0
    // smart_contracts/arc58/account/factory.algo.ts:27
    // escrowFactory = GlobalState<Application>({ key: GlobalStateKeyEscrowFactory })
    bytec 5 // "escrow_factory"
    // smart_contracts/arc58/account/factory.algo.ts:76
    // this.escrowFactory.value.id,
    app_global_get_ex
    assert // check GlobalState exists
    itob
    // smart_contracts/arc58/account/factory.algo.ts:77
    // this.revocation.value.id,
    intc_0 // 0
    // smart_contracts/arc58/account/factory.algo.ts:29
    // revocation = GlobalState<Application>({ key: GlobalStateKeyRevocation })
    bytec_2 // "revocation"
    // smart_contracts/arc58/account/factory.algo.ts:77
    // this.revocation.value.id,
    app_global_get_ex
    assert // check GlobalState exists
    itob
    // smart_contracts/arc58/account/factory.algo.ts:78
    // nickname,
    frame_dig -1
    len
    itob
    extract 6 2
    frame_dig -1
    concat
    // smart_contracts/arc58/account/factory.algo.ts:70-81
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    pushbytes 0x70ca115d // method "create(string,address,address,uint64,uint64,string)void"
    itxn_field ApplicationArgs
    uncover 3
    itxn_field ApplicationArgs
    frame_dig -3
    itxn_field ApplicationArgs
    frame_dig -2
    itxn_field ApplicationArgs
    uncover 2
    itxn_field ApplicationArgs
    swap
    itxn_field ApplicationArgs
    itxn_field ApplicationArgs
    // smart_contracts/arc58/account/factory.algo.ts:51
    // const abstractedAccount = compileArc4(AbstractedAccount)
    pushint 16 // 16
    itxn_field GlobalNumByteSlice
    pushint 10 // 10
    itxn_field GlobalNumUint
    pushbytes base64(CoEBQw==)
    itxn_field ClearStateProgramPages
    pushbytes base64(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)
    itxn_field ApprovalProgramPages
    pushbytes base64(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)
    itxn_field ApprovalProgramPages
    // smart_contracts/arc58/account/factory.algo.ts:70-81
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    intc_0 // 0
    itxn_field OnCompletion
    // smart_contracts/arc58/account/factory.algo.ts:80
    // extraProgramPages: 3
    pushint 3 // 3
    itxn_field ExtraProgramPages
    // smart_contracts/arc58/account/factory.algo.ts:70-81
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    pushint 6 // appl
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee
    itxn_submit
    // smart_contracts/arc58/account/factory.algo.ts:83
    // .createdApp
    gitxn 0 CreatedApplicationID
    // smart_contracts/arc58/account/factory.algo.ts:86-91
    // itxn
    //   .payment({
    //     receiver: Application(walletID).address,
    //     amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    //   })
    //   .submit()
    itxn_begin
    // smart_contracts/arc58/account/factory.algo.ts:88
    // receiver: Application(walletID).address,
    dup
    app_params_get AppAddress
    assert // application exists
    // smart_contracts/arc58/account/factory.algo.ts:89
    // amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    global MinBalance
    pushint 12100 // 12100
    +
    itxn_field Amount
    itxn_field Receiver
    // smart_contracts/arc58/account/factory.algo.ts:86-90
    // itxn
    //   .payment({
    //     receiver: Application(walletID).address,
    //     amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    //   })
    intc_1 // 1
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee
    // smart_contracts/arc58/account/factory.algo.ts:86-91
    // itxn
    //   .payment({
    //     receiver: Application(walletID).address,
    //     amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    //   })
    //   .submit()
    itxn_submit
    // smart_contracts/arc58/account/factory.algo.ts:93
    // return walletID
    retsub


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.cost() -> uint64:
cost:
    // smart_contracts/arc58/account/factory.algo.ts:104
    // Global.minBalance +
    global MinBalance
    // smart_contracts/arc58/account/factory.algo.ts:101-105
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * AbstractAccountNumGlobalUints) +
    // (GLOBAL_STATE_KEY_BYTES_COST * AbstractAccountNumGlobalBytes) +
    // Global.minBalance +
    // ARC58WalletIDsByAccountsMbr
    intc_2 // 1497100
    +
    // smart_contracts/arc58/account/factory.algo.ts:100-106
    // return (
    //   MAX_PROGRAM_PAGES +
    //   (GLOBAL_STATE_KEY_UINT_COST * AbstractAccountNumGlobalUints) +
    //   (GLOBAL_STATE_KEY_BYTES_COST * AbstractAccountNumGlobalBytes) +
    //   Global.minBalance +
    //   ARC58WalletIDsByAccountsMbr
    // )
    retsub


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.update(newVersion: bytes, newChildVersion: bytes) -> void:
update:
    // smart_contracts/utils/base-contracts/factory.ts:71-72
    // @abimethod({ allowActions: ['UpdateApplication'] })
    // update(newVersion: string, newChildVersion: string): void {
    proto 2 0
    // smart_contracts/utils/base-contracts/factory.ts:73
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:73
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:32
    // version = GlobalState<string>({ key: GlobalStateKeyVersion })
    bytec 4 // "version"
    // smart_contracts/utils/base-contracts/factory.ts:74
    // this.version.value = newVersion
    frame_dig -2
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    bytec_1 // "child_contract_version"
    // smart_contracts/utils/base-contracts/factory.ts:75
    // this.childContractVersion.value = newChildVersion
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.updateAkitaDAO(app: uint64) -> void:
updateAkitaDAO:
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    proto 1 0
    // smart_contracts/utils/base-contracts/factory.ts:81
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:81
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:82
    // this.akitaDAO.value = Application(app)
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.updateAkitaDAOEscrow(app: uint64) -> void:
updateAkitaDAOEscrow:
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    proto 1 0
    // smart_contracts/utils/base-contracts/factory.ts:86
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:86
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:36
    // akitaDAOEscrow = GlobalState<Application>({ key: GlobalStateKeyAkitaEscrow })
    pushbytes "akita_escrow"
    // smart_contracts/utils/base-contracts/factory.ts:87
    // this.akitaDAOEscrow.value = Application(app)
    frame_dig -1
    app_global_put
    retsub
