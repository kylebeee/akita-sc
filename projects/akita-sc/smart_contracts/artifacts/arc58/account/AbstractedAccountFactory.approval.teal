#pragma version 10
#pragma typetrack false

// @algorandfoundation/algorand-typescript/arc4/index.d.ts::Contract.approvalProgram() -> uint64:
main:
    intcblock 0 1 3397100
    bytecblock "akita_dao" "child_contract_version" "revocation" 0x151f7c75 "version" "escrow_factory"
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txn NumAppArgs
    bz main_after_if_else@13
    pushbytess 0x3ba9072f 0xac9df27e 0xfb48d584 0x9b67fa6d 0x23cf4fef 0x33e92c94 0x1ead20a9 // method "create(uint64,string,string,uint64,uint64)void", method "updateRevocationApp(uint64)void", method "new(pay,address,address,string)uint64", method "cost()uint64", method "update(string,string)void", method "updateAkitaDAO(uint64)void", method "updateAkitaDAOEscrow(uint64)void"
    txna ApplicationArgs 0
    match main_create_route@3 main_updateRevocationApp_route@4 main_new_route@5 main_cost_route@6 main_update_route@7 main_updateAkitaDAO_route@8 main_updateAkitaDAOEscrow_route@9

main_after_if_else@13:
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    intc_0 // 0
    return

main_updateAkitaDAOEscrow_route@9:
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    callsub updateAkitaDAOEscrow
    intc_1 // 1
    return

main_updateAkitaDAO_route@8:
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    callsub updateAkitaDAO
    intc_1 // 1
    return

main_update_route@7:
    // smart_contracts/utils/base-contracts/factory.ts:71
    // @abimethod({ allowActions: ['UpdateApplication'] })
    txn OnCompletion
    pushint 4 // UpdateApplication
    ==
    assert // OnCompletion is not UpdateApplication
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    extract 2 0
    txna ApplicationArgs 2
    extract 2 0
    // smart_contracts/utils/base-contracts/factory.ts:71
    // @abimethod({ allowActions: ['UpdateApplication'] })
    callsub update
    intc_1 // 1
    return

main_cost_route@6:
    // smart_contracts/arc58/account/factory.algo.ts:96
    // @abimethod({ readonly: true })
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    callsub cost
    itob
    bytec_3 // 0x151f7c75
    swap
    concat
    log
    intc_1 // 1
    return

main_new_route@5:
    // smart_contracts/arc58/account/factory.algo.ts:49
    // new(payment: gtxn.PaymentTxn, controlledAddress: Address, admin: Address, nickname: string): uint64 {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txn GroupIndex
    intc_1 // 1
    -
    dup
    gtxns TypeEnum
    intc_1 // pay
    ==
    assert // transaction type is pay
    txna ApplicationArgs 1
    txna ApplicationArgs 2
    txna ApplicationArgs 3
    extract 2 0
    // smart_contracts/arc58/account/factory.algo.ts:49
    // new(payment: gtxn.PaymentTxn, controlledAddress: Address, admin: Address, nickname: string): uint64 {
    callsub new
    itob
    bytec_3 // 0x151f7c75
    swap
    concat
    log
    intc_1 // 1
    return

main_updateRevocationApp_route@4:
    // smart_contracts/arc58/account/factory.algo.ts:44
    // updateRevocationApp(app: uint64): void {
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    // smart_contracts/arc58/account/factory.algo.ts:44
    // updateRevocationApp(app: uint64): void {
    callsub updateRevocationApp
    intc_1 // 1
    return

main_create_route@3:
    // smart_contracts/arc58/account/factory.algo.ts:33
    // @abimethod({ onCreate: 'require' })
    txn OnCompletion
    !
    assert // OnCompletion is not NoOp
    txn ApplicationID
    !
    assert // can only call when creating
    // smart_contracts/arc58/account/factory.algo.ts:22
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    txna ApplicationArgs 2
    extract 2 0
    txna ApplicationArgs 3
    extract 2 0
    txna ApplicationArgs 4
    btoi
    txna ApplicationArgs 5
    btoi
    // smart_contracts/arc58/account/factory.algo.ts:33
    // @abimethod({ onCreate: 'require' })
    callsub create
    intc_1 // 1
    return


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.create(akitaDAO: uint64, version: bytes, childVersion: bytes, escrowFactoryApp: uint64, revocationApp: uint64) -> void:
create:
    // smart_contracts/arc58/account/factory.algo.ts:33-34
    // @abimethod({ onCreate: 'require' })
    // create(akitaDAO: uint64, version: string, childVersion: string, escrowFactoryApp: uint64, revocationApp: uint64): void {
    proto 5 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/arc58/account/factory.algo.ts:35
    // this.akitaDAO.value = Application(akitaDAO)
    frame_dig -5
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:32
    // version = GlobalState<string>({ key: GlobalStateKeyVersion })
    bytec 4 // "version"
    // smart_contracts/arc58/account/factory.algo.ts:36
    // this.version.value = version
    frame_dig -4
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    bytec_1 // "child_contract_version"
    // smart_contracts/arc58/account/factory.algo.ts:37
    // this.childContractVersion.value = childVersion
    frame_dig -3
    app_global_put
    // smart_contracts/arc58/account/factory.algo.ts:27
    // escrowFactory = GlobalState<Application>({ key: GlobalStateKeyEscrowFactory })
    bytec 5 // "escrow_factory"
    // smart_contracts/arc58/account/factory.algo.ts:38
    // this.escrowFactory.value = Application(escrowFactoryApp)
    frame_dig -2
    app_global_put
    // smart_contracts/arc58/account/factory.algo.ts:29
    // revocation = GlobalState<Application>({ key: GlobalStateKeyRevocation })
    bytec_2 // "revocation"
    // smart_contracts/arc58/account/factory.algo.ts:39
    // this.revocation.value = Application(revocationApp)
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.updateRevocationApp(app: uint64) -> void:
updateRevocationApp:
    // smart_contracts/arc58/account/factory.algo.ts:44
    // updateRevocationApp(app: uint64): void {
    proto 1 0
    // smart_contracts/arc58/account/factory.algo.ts:45
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/arc58/account/factory.algo.ts:45
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/arc58/account/factory.algo.ts:29
    // revocation = GlobalState<Application>({ key: GlobalStateKeyRevocation })
    bytec_2 // "revocation"
    // smart_contracts/arc58/account/factory.algo.ts:46
    // this.revocation.value = Application(app)
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.new(payment: uint64, controlledAddress: bytes, admin: bytes, nickname: bytes) -> uint64:
new:
    // smart_contracts/arc58/account/factory.algo.ts:49
    // new(payment: gtxn.PaymentTxn, controlledAddress: Address, admin: Address, nickname: string): uint64 {
    proto 4 1
    // smart_contracts/arc58/account/factory.algo.ts:57
    // Global.minBalance +
    global MinBalance
    // smart_contracts/arc58/account/factory.algo.ts:54-58
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * abstractedAccount.globalUints) + // 228_000
    // (GLOBAL_STATE_KEY_BYTES_COST * abstractedAccount.globalBytes) + // 300_000
    // Global.minBalance +
    // ARC58WalletIDsByAccountsMbr
    intc_2 // 3397100
    +
    // smart_contracts/arc58/account/factory.algo.ts:61-68
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: childMBR,
    //   },
    //   ERR_INVALID_PAYMENT
    // )
    frame_dig -4
    gtxns Receiver
    // smart_contracts/arc58/account/factory.algo.ts:64
    // receiver: Global.currentApplicationAddress,
    global CurrentApplicationAddress
    // smart_contracts/arc58/account/factory.algo.ts:61-68
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: childMBR,
    //   },
    //   ERR_INVALID_PAYMENT
    // )
    ==
    frame_dig -4
    gtxns Amount
    uncover 2
    ==
    &&
    assert // Invalid payment
    // smart_contracts/arc58/account/factory.algo.ts:70-81
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    itxn_begin
    // smart_contracts/arc58/account/factory.algo.ts:73
    // this.childContractVersion.value,
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    bytec_1 // "child_contract_version"
    // smart_contracts/arc58/account/factory.algo.ts:73
    // this.childContractVersion.value,
    app_global_get_ex
    assert // check GlobalState exists
    dup
    len
    itob
    extract 6 2
    swap
    concat
    // smart_contracts/arc58/account/factory.algo.ts:76
    // this.escrowFactory.value.id,
    intc_0 // 0
    // smart_contracts/arc58/account/factory.algo.ts:27
    // escrowFactory = GlobalState<Application>({ key: GlobalStateKeyEscrowFactory })
    bytec 5 // "escrow_factory"
    // smart_contracts/arc58/account/factory.algo.ts:76
    // this.escrowFactory.value.id,
    app_global_get_ex
    assert // check GlobalState exists
    itob
    // smart_contracts/arc58/account/factory.algo.ts:77
    // this.revocation.value.id,
    intc_0 // 0
    // smart_contracts/arc58/account/factory.algo.ts:29
    // revocation = GlobalState<Application>({ key: GlobalStateKeyRevocation })
    bytec_2 // "revocation"
    // smart_contracts/arc58/account/factory.algo.ts:77
    // this.revocation.value.id,
    app_global_get_ex
    assert // check GlobalState exists
    itob
    // smart_contracts/arc58/account/factory.algo.ts:78
    // nickname,
    frame_dig -1
    len
    itob
    extract 6 2
    frame_dig -1
    concat
    // smart_contracts/arc58/account/factory.algo.ts:70-81
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    pushbytes 0x70ca115d // method "create(string,address,address,uint64,uint64,string)void"
    itxn_field ApplicationArgs
    uncover 3
    itxn_field ApplicationArgs
    frame_dig -3
    itxn_field ApplicationArgs
    frame_dig -2
    itxn_field ApplicationArgs
    uncover 2
    itxn_field ApplicationArgs
    swap
    itxn_field ApplicationArgs
    itxn_field ApplicationArgs
    // smart_contracts/arc58/account/factory.algo.ts:51
    // const abstractedAccount = compileArc4(AbstractedAccount)
    pushint 54 // 54
    itxn_field GlobalNumByteSlice
    pushint 10 // 10
    itxn_field GlobalNumUint
    pushbytes base64(CoEBQw==)
    itxn_field ClearStateProgramPages
    pushbytes base64(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)
    itxn_field ApprovalProgramPages
    pushbytes base64(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)
    itxn_field ApprovalProgramPages
    // smart_contracts/arc58/account/factory.algo.ts:70-81
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    intc_0 // 0
    itxn_field OnCompletion
    // smart_contracts/arc58/account/factory.algo.ts:80
    // extraProgramPages: 3
    pushint 3 // 3
    itxn_field ExtraProgramPages
    // smart_contracts/arc58/account/factory.algo.ts:70-81
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    pushint 6 // appl
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee
    itxn_submit
    // smart_contracts/arc58/account/factory.algo.ts:83
    // .createdApp
    gitxn 0 CreatedApplicationID
    // smart_contracts/arc58/account/factory.algo.ts:86-91
    // itxn
    //   .payment({
    //     receiver: Application(walletID).address,
    //     amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    //   })
    //   .submit()
    itxn_begin
    // smart_contracts/arc58/account/factory.algo.ts:88
    // receiver: Application(walletID).address,
    dup
    app_params_get AppAddress
    assert // application exists
    // smart_contracts/arc58/account/factory.algo.ts:89
    // amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    global MinBalance
    pushint 12100 // 12100
    +
    itxn_field Amount
    itxn_field Receiver
    // smart_contracts/arc58/account/factory.algo.ts:86-90
    // itxn
    //   .payment({
    //     receiver: Application(walletID).address,
    //     amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    //   })
    intc_1 // 1
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee
    // smart_contracts/arc58/account/factory.algo.ts:86-91
    // itxn
    //   .payment({
    //     receiver: Application(walletID).address,
    //     amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    //   })
    //   .submit()
    itxn_submit
    // smart_contracts/arc58/account/factory.algo.ts:93
    // return walletID
    retsub


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.cost() -> uint64:
cost:
    // smart_contracts/arc58/account/factory.algo.ts:104
    // Global.minBalance +
    global MinBalance
    // smart_contracts/arc58/account/factory.algo.ts:101-105
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * AbstractAccountNumGlobalUints) +
    // (GLOBAL_STATE_KEY_BYTES_COST * AbstractAccountNumGlobalBytes) +
    // Global.minBalance +
    // ARC58WalletIDsByAccountsMbr
    intc_2 // 3397100
    +
    // smart_contracts/arc58/account/factory.algo.ts:100-106
    // return (
    //   MAX_PROGRAM_PAGES +
    //   (GLOBAL_STATE_KEY_UINT_COST * AbstractAccountNumGlobalUints) +
    //   (GLOBAL_STATE_KEY_BYTES_COST * AbstractAccountNumGlobalBytes) +
    //   Global.minBalance +
    //   ARC58WalletIDsByAccountsMbr
    // )
    retsub


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.update(newVersion: bytes, newChildVersion: bytes) -> void:
update:
    // smart_contracts/utils/base-contracts/factory.ts:71-72
    // @abimethod({ allowActions: ['UpdateApplication'] })
    // update(newVersion: string, newChildVersion: string): void {
    proto 2 0
    // smart_contracts/utils/base-contracts/factory.ts:73
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:73
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:32
    // version = GlobalState<string>({ key: GlobalStateKeyVersion })
    bytec 4 // "version"
    // smart_contracts/utils/base-contracts/factory.ts:74
    // this.version.value = newVersion
    frame_dig -2
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    bytec_1 // "child_contract_version"
    // smart_contracts/utils/base-contracts/factory.ts:75
    // this.childContractVersion.value = newChildVersion
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.updateAkitaDAO(app: uint64) -> void:
updateAkitaDAO:
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    proto 1 0
    // smart_contracts/utils/base-contracts/factory.ts:81
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:81
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:82
    // this.akitaDAO.value = Application(app)
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.updateAkitaDAOEscrow(app: uint64) -> void:
updateAkitaDAOEscrow:
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    proto 1 0
    // smart_contracts/utils/base-contracts/factory.ts:86
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    intc_0 // 0
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:86
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_global_get_ex
    assert // check GlobalState exists
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:36
    // akitaDAOEscrow = GlobalState<Application>({ key: GlobalStateKeyAkitaEscrow })
    pushbytes "akita_escrow"
    // smart_contracts/utils/base-contracts/factory.ts:87
    // this.akitaDAOEscrow.value = Application(app)
    frame_dig -1
    app_global_put
    retsub
