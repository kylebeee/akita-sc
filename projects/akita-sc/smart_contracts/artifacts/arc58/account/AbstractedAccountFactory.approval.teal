#pragma version 10
#pragma typetrack false

// @algorandfoundation/algorand-typescript/arc4/index.d.ts::Contract.approvalProgram() -> uint64:
main:
    intcblock 0 1 6 8
    bytecblock "akita_dao" "child_contract_version" "revocation" "version" "escrow_factory"

main_block@0:

main_block@1:
    // smart_contracts/arc58/account/factory.algo.ts:21
    // export class AbstractedAccountFactory extends FactoryContract {
    txn NumAppArgs
    intc_0 // 0
    !=
    bz main_bare_routing@11

main_abi_routing@2:
    // smart_contracts/arc58/account/factory.algo.ts:21
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 0
    pushbytes 0x3ba9072f // method "create(uint64,string,string,uint64,uint64)void"
    pushbytes 0xac9df27e // method "updateRevocationApp(uint64)void"
    pushbytes 0xe05fc422 // method "mint(pay,address,address,string)uint64"
    pushbytes 0x23cf4fef // method "update(string,string)void"
    pushbytes 0x33e92c94 // method "updateAkitaDAO(uint64)void"
    pushbytes 0x1ead20a9 // method "updateAkitaDAOEscrow(uint64)void"
    uncover 6
    match main_create_route@3 main_updateRevocationApp_route@4 main_mint_route@5 main_update_route@6 main_updateAkitaDAO_route@7 main_updateAkitaDAOEscrow_route@8

main_switch_case_default@9:

main_switch_case_next@10:

main_after_if_else@12:
    // smart_contracts/arc58/account/factory.algo.ts:21
    // export class AbstractedAccountFactory extends FactoryContract {
    intc_0 // 0

main_after_inlined_smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.__puya_arc4_router__@13:
    return

main_updateAkitaDAOEscrow_route@8:
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    txn OnCompletion
    intc_0 // NoOp
    ==
    assert // OnCompletion is not NoOp
    txn ApplicationID
    intc_0 // 0
    !=
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:21
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    callsub updateAkitaDAOEscrow
    intc_1 // 1
    b main_after_inlined_smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.__puya_arc4_router__@13

main_updateAkitaDAO_route@7:
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    txn OnCompletion
    intc_0 // NoOp
    ==
    assert // OnCompletion is not NoOp
    txn ApplicationID
    intc_0 // 0
    !=
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:21
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    callsub updateAkitaDAO
    intc_1 // 1
    b main_after_inlined_smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.__puya_arc4_router__@13

main_update_route@6:
    // smart_contracts/utils/base-contracts/factory.ts:71
    // @abimethod({ allowActions: ['UpdateApplication'] })
    txn OnCompletion
    pushint 4 // UpdateApplication
    ==
    assert // OnCompletion is not UpdateApplication
    txn ApplicationID
    intc_0 // 0
    !=
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:21
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    extract 2 0
    txna ApplicationArgs 2
    extract 2 0
    // smart_contracts/utils/base-contracts/factory.ts:71
    // @abimethod({ allowActions: ['UpdateApplication'] })
    callsub update
    intc_1 // 1
    b main_after_inlined_smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.__puya_arc4_router__@13

main_mint_route@5:
    // smart_contracts/arc58/account/factory.algo.ts:48
    // mint(payment: gtxn.PaymentTxn, controlledAddress: Address, admin: Address, nickname: string): uint64 {
    txn OnCompletion
    intc_0 // NoOp
    ==
    assert // OnCompletion is not NoOp
    txn ApplicationID
    intc_0 // 0
    !=
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:21
    // export class AbstractedAccountFactory extends FactoryContract {
    txn GroupIndex
    intc_1 // 1
    -
    dup
    gtxns TypeEnum
    intc_1 // pay
    ==
    assert // transaction type is pay
    txna ApplicationArgs 1
    txna ApplicationArgs 2
    txna ApplicationArgs 3
    extract 2 0
    // smart_contracts/arc58/account/factory.algo.ts:48
    // mint(payment: gtxn.PaymentTxn, controlledAddress: Address, admin: Address, nickname: string): uint64 {
    uncover 3
    uncover 3
    uncover 3
    uncover 3
    callsub mint
    itob
    pushbytes 0x151f7c75
    swap
    concat
    log
    intc_1 // 1
    b main_after_inlined_smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.__puya_arc4_router__@13

main_updateRevocationApp_route@4:
    // smart_contracts/arc58/account/factory.algo.ts:43
    // updateRevocationApp(app: uint64): void {
    txn OnCompletion
    intc_0 // NoOp
    ==
    assert // OnCompletion is not NoOp
    txn ApplicationID
    intc_0 // 0
    !=
    assert // can only call when not creating
    // smart_contracts/arc58/account/factory.algo.ts:21
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    // smart_contracts/arc58/account/factory.algo.ts:43
    // updateRevocationApp(app: uint64): void {
    callsub updateRevocationApp
    intc_1 // 1
    b main_after_inlined_smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.__puya_arc4_router__@13

main_create_route@3:
    // smart_contracts/arc58/account/factory.algo.ts:32
    // @abimethod({ onCreate: 'require' })
    txn OnCompletion
    intc_0 // NoOp
    ==
    assert // OnCompletion is not NoOp
    txn ApplicationID
    intc_0 // 0
    ==
    assert // can only call when creating
    // smart_contracts/arc58/account/factory.algo.ts:21
    // export class AbstractedAccountFactory extends FactoryContract {
    txna ApplicationArgs 1
    btoi
    txna ApplicationArgs 2
    extract 2 0
    txna ApplicationArgs 3
    extract 2 0
    txna ApplicationArgs 4
    btoi
    txna ApplicationArgs 5
    btoi
    // smart_contracts/arc58/account/factory.algo.ts:32
    // @abimethod({ onCreate: 'require' })
    uncover 4
    uncover 4
    uncover 4
    uncover 4
    uncover 4
    callsub create
    intc_1 // 1
    b main_after_inlined_smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.__puya_arc4_router__@13

main_bare_routing@11:
    b main_after_if_else@12


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.create(akitaDAO: uint64, version: bytes, childVersion: bytes, escrowFactoryApp: uint64, revocationApp: uint64) -> void:
create:
    // smart_contracts/arc58/account/factory.algo.ts:32-33
    // @abimethod({ onCreate: 'require' })
    // create(akitaDAO: uint64, version: string, childVersion: string, escrowFactoryApp: uint64, revocationApp: uint64): void {
    proto 5 0

create_block@0:
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/arc58/account/factory.algo.ts:34
    // this.akitaDAO.value = Application(akitaDAO)
    frame_dig -5
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:32
    // version = GlobalState<string>({ key: GlobalStateKeyVersion })
    bytec_3 // "version"
    // smart_contracts/arc58/account/factory.algo.ts:35
    // this.version.value = version
    frame_dig -4
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    bytec_1 // "child_contract_version"
    // smart_contracts/arc58/account/factory.algo.ts:36
    // this.childContractVersion.value = childVersion
    frame_dig -3
    app_global_put
    // smart_contracts/arc58/account/factory.algo.ts:26
    // escrowFactory = GlobalState<Application>({ key: GlobalStateKeyEscrowFactory })
    bytec 4 // "escrow_factory"
    // smart_contracts/arc58/account/factory.algo.ts:37
    // this.escrowFactory.value = Application(escrowFactoryApp)
    frame_dig -2
    app_global_put
    // smart_contracts/arc58/account/factory.algo.ts:28
    // revocation = GlobalState<Application>({ key: GlobalStateKeyRevocation })
    bytec_2 // "revocation"
    // smart_contracts/arc58/account/factory.algo.ts:38
    // this.revocation.value = Application(revocationApp)
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.updateRevocationApp(app: uint64) -> void:
updateRevocationApp:
    // smart_contracts/arc58/account/factory.algo.ts:43
    // updateRevocationApp(app: uint64): void {
    proto 1 0

updateRevocationApp_block@0:
    // smart_contracts/arc58/account/factory.algo.ts:44
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    intc_0 // 0
    bytec_0 // "akita_dao"
    app_global_get_ex
    assert // check GlobalState exists
    // smart_contracts/arc58/account/factory.algo.ts:44
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/arc58/account/factory.algo.ts:28
    // revocation = GlobalState<Application>({ key: GlobalStateKeyRevocation })
    bytec_2 // "revocation"
    // smart_contracts/arc58/account/factory.algo.ts:45
    // this.revocation.value = Application(app)
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/arc58/account/factory.algo.ts::AbstractedAccountFactory.mint(payment: uint64, controlledAddress: bytes, admin: bytes, nickname: bytes) -> uint64:
mint:
    // smart_contracts/arc58/account/factory.algo.ts:48
    // mint(payment: gtxn.PaymentTxn, controlledAddress: Address, admin: Address, nickname: string): uint64 {
    proto 4 1

mint_block@0:
    // smart_contracts/arc58/account/factory.algo.ts:54
    // (GLOBAL_STATE_KEY_UINT_COST * abstractedAccount.globalUints) + // 228_000
    pushint 28500 // 28500
    // smart_contracts/arc58/account/factory.algo.ts:50
    // const abstractedAccount = compileArc4(AbstractedAccount)
    intc_3 // 8
    // smart_contracts/arc58/account/factory.algo.ts:54
    // (GLOBAL_STATE_KEY_UINT_COST * abstractedAccount.globalUints) + // 228_000
    *
    // smart_contracts/arc58/account/factory.algo.ts:53
    // MAX_PROGRAM_PAGES +
    pushint 400000 // 400000
    // smart_contracts/arc58/account/factory.algo.ts:53-54
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * abstractedAccount.globalUints) + // 228_000
    +
    // smart_contracts/arc58/account/factory.algo.ts:55
    // (GLOBAL_STATE_KEY_BYTES_COST * abstractedAccount.globalBytes) + // 300_000
    pushint 50000 // 50000
    // smart_contracts/arc58/account/factory.algo.ts:50
    // const abstractedAccount = compileArc4(AbstractedAccount)
    intc_2 // 6
    // smart_contracts/arc58/account/factory.algo.ts:55
    // (GLOBAL_STATE_KEY_BYTES_COST * abstractedAccount.globalBytes) + // 300_000
    *
    // smart_contracts/arc58/account/factory.algo.ts:53-55
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * abstractedAccount.globalUints) + // 228_000
    // (GLOBAL_STATE_KEY_BYTES_COST * abstractedAccount.globalBytes) + // 300_000
    +
    // smart_contracts/arc58/account/factory.algo.ts:56
    // Global.minBalance +
    global MinBalance
    // smart_contracts/arc58/account/factory.algo.ts:53-56
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * abstractedAccount.globalUints) + // 228_000
    // (GLOBAL_STATE_KEY_BYTES_COST * abstractedAccount.globalBytes) + // 300_000
    // Global.minBalance +
    +
    // smart_contracts/arc58/account/factory.algo.ts:57
    // ARC58WalletIDsByAccountsMbr
    pushint 12100 // 12100
    // smart_contracts/arc58/account/factory.algo.ts:53-57
    // MAX_PROGRAM_PAGES +
    // (GLOBAL_STATE_KEY_UINT_COST * abstractedAccount.globalUints) + // 228_000
    // (GLOBAL_STATE_KEY_BYTES_COST * abstractedAccount.globalBytes) + // 300_000
    // Global.minBalance +
    // ARC58WalletIDsByAccountsMbr
    +
    // smart_contracts/arc58/account/factory.algo.ts:60-67
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: childMBR,
    //   },
    //   ERR_INVALID_PAYMENT
    // )
    frame_dig -4
    gtxns Receiver
    // smart_contracts/arc58/account/factory.algo.ts:63
    // receiver: Global.currentApplicationAddress,
    global CurrentApplicationAddress
    // smart_contracts/arc58/account/factory.algo.ts:60-67
    // assertMatch(
    //   payment,
    //   {
    //     receiver: Global.currentApplicationAddress,
    //     amount: childMBR,
    //   },
    //   ERR_INVALID_PAYMENT
    // )
    ==
    frame_dig -4
    gtxns Amount
    uncover 2
    ==
    &&
    assert // Invalid payment
    // smart_contracts/arc58/account/factory.algo.ts:69-80
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    itxn_begin
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    intc_0 // 0
    bytec_1 // "child_contract_version"
    app_global_get_ex
    assert // check GlobalState exists
    dup
    len
    itob
    extract 6 2
    swap
    concat
    // smart_contracts/arc58/account/factory.algo.ts:26
    // escrowFactory = GlobalState<Application>({ key: GlobalStateKeyEscrowFactory })
    intc_0 // 0
    bytec 4 // "escrow_factory"
    app_global_get_ex
    assert // check GlobalState exists
    // smart_contracts/arc58/account/factory.algo.ts:75
    // this.escrowFactory.value.id,
    itob
    // smart_contracts/arc58/account/factory.algo.ts:28
    // revocation = GlobalState<Application>({ key: GlobalStateKeyRevocation })
    intc_0 // 0
    bytec_2 // "revocation"
    app_global_get_ex
    assert // check GlobalState exists
    // smart_contracts/arc58/account/factory.algo.ts:76
    // this.revocation.value.id,
    itob
    // smart_contracts/arc58/account/factory.algo.ts:77
    // nickname,
    frame_dig -1
    len
    itob
    extract 6 2
    frame_dig -1
    concat
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    uncover 3
    swap
    // smart_contracts/arc58/account/factory.algo.ts:73
    // controlledAddress,
    frame_dig -3
    cover 2
    // smart_contracts/arc58/account/factory.algo.ts:74
    // admin,
    frame_dig -2
    cover 3
    // smart_contracts/arc58/account/factory.algo.ts:75
    // this.escrowFactory.value.id,
    uncover 5
    cover 4
    // smart_contracts/arc58/account/factory.algo.ts:77
    // nickname,
    cover 5
    // smart_contracts/arc58/account/factory.algo.ts:69-80
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    pushbytes 0x1fb32aa5 // method "create(string,byte[32],byte[32],uint64,uint64,string)void"
    itxn_field ApplicationArgs
    itxn_field ApplicationArgs
    itxn_field ApplicationArgs
    itxn_field ApplicationArgs
    itxn_field ApplicationArgs
    itxn_field ApplicationArgs
    itxn_field ApplicationArgs
    // smart_contracts/arc58/account/factory.algo.ts:50
    // const abstractedAccount = compileArc4(AbstractedAccount)
    intc_0 // 0
    itxn_field LocalNumUint
    intc_0 // 0
    itxn_field LocalNumByteSlice
    intc_2 // 6
    itxn_field GlobalNumByteSlice
    intc_3 // 8
    itxn_field GlobalNumUint
    pushbytes base64(CoEBQw==)
    itxn_field ClearStateProgramPages
    pushbytes 0x
    itxn_field ClearStateProgramPages
    pushbytes base64(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)
    itxn_field ApprovalProgramPages
    pushbytes base64(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)
    itxn_field ApprovalProgramPages
    // smart_contracts/arc58/account/factory.algo.ts:69-80
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    intc_0 // 0
    itxn_field OnCompletion
    // smart_contracts/arc58/account/factory.algo.ts:79
    // extraProgramPages: 3
    pushint 3 // 3
    itxn_field ExtraProgramPages
    // smart_contracts/arc58/account/factory.algo.ts:69-80
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    intc_2 // appl
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee

mint_next_txn@1:
    // smart_contracts/arc58/account/factory.algo.ts:69-80
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    itxn_submit
    // smart_contracts/arc58/account/factory.algo.ts:82
    // .createdApp
    gitxn 0 CreatedApplicationID
    // smart_contracts/arc58/account/factory.algo.ts:69-83
    // const walletID = abstractedAccount.call
    //   .create({
    //     args: [
    //       this.childContractVersion.value,
    //       controlledAddress,
    //       admin,
    //       this.escrowFactory.value.id,
    //       this.revocation.value.id,
    //       nickname,
    //     ],
    //     extraProgramPages: 3
    //   })
    //   .itxn
    //   .createdApp
    //   .id
    dup
    // smart_contracts/arc58/account/factory.algo.ts:85-90
    // itxn
    //   .payment({
    //     receiver: Application(walletID).address,
    //     amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    //   })
    //   .submit()
    itxn_begin
    // smart_contracts/arc58/account/factory.algo.ts:87
    // receiver: Application(walletID).address,
    app_params_get AppAddress
    assert // application exists
    // smart_contracts/arc58/account/factory.algo.ts:88
    // amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    global MinBalance
    pushint 12100 // 12100
    +
    itxn_field Amount
    itxn_field Receiver
    // smart_contracts/arc58/account/factory.algo.ts:85-89
    // itxn
    //   .payment({
    //     receiver: Application(walletID).address,
    //     amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    //   })
    intc_1 // 1
    itxn_field TypeEnum
    intc_0 // 0
    itxn_field Fee

mint_next_txn@2:
    // smart_contracts/arc58/account/factory.algo.ts:85-90
    // itxn
    //   .payment({
    //     receiver: Application(walletID).address,
    //     amount: Global.minBalance + ARC58WalletIDsByAccountsMbr
    //   })
    //   .submit()
    itxn_submit
    // smart_contracts/arc58/account/factory.algo.ts:92
    // return walletID
    retsub


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.update(newVersion: bytes, newChildVersion: bytes) -> void:
update:
    // smart_contracts/utils/base-contracts/factory.ts:71-72
    // @abimethod({ allowActions: ['UpdateApplication'] })
    // update(newVersion: string, newChildVersion: string): void {
    proto 2 0

update_block@0:
    // smart_contracts/utils/base-contracts/factory.ts:73
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    intc_0 // 0
    bytec_0 // "akita_dao"
    app_global_get_ex
    assert // check GlobalState exists
    // smart_contracts/utils/base-contracts/factory.ts:73
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:32
    // version = GlobalState<string>({ key: GlobalStateKeyVersion })
    bytec_3 // "version"
    // smart_contracts/utils/base-contracts/factory.ts:74
    // this.version.value = newVersion
    frame_dig -2
    app_global_put
    // smart_contracts/utils/base-contracts/factory.ts:38
    // childContractVersion = GlobalState<string>({ key: BaseFactoryGlobalStateKeyChildContractVersion })
    bytec_1 // "child_contract_version"
    // smart_contracts/utils/base-contracts/factory.ts:75
    // this.childContractVersion.value = newChildVersion
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.updateAkitaDAO(app: uint64) -> void:
updateAkitaDAO:
    // smart_contracts/utils/base-contracts/factory.ts:80
    // updateAkitaDAO(app: uint64): void {
    proto 1 0

updateAkitaDAO_block@0:
    // smart_contracts/utils/base-contracts/factory.ts:81
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    intc_0 // 0
    bytec_0 // "akita_dao"
    app_global_get_ex
    assert // check GlobalState exists
    // smart_contracts/utils/base-contracts/factory.ts:81
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    bytec_0 // "akita_dao"
    // smart_contracts/utils/base-contracts/factory.ts:82
    // this.akitaDAO.value = Application(app)
    frame_dig -1
    app_global_put
    retsub


// smart_contracts/utils/base-contracts/factory.ts::FactoryContract.updateAkitaDAOEscrow(app: uint64) -> void:
updateAkitaDAOEscrow:
    // smart_contracts/utils/base-contracts/factory.ts:85
    // updateAkitaDAOEscrow(app: uint64): void {
    proto 1 0

updateAkitaDAOEscrow_block@0:
    // smart_contracts/utils/base-contracts/factory.ts:86
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    txn Sender
    // smart_contracts/utils/base-contracts/factory.ts:34
    // akitaDAO = GlobalState<Application>({ key: GlobalStateKeyAkitaDAO })
    intc_0 // 0
    bytec_0 // "akita_dao"
    app_global_get_ex
    assert // check GlobalState exists
    // smart_contracts/utils/base-contracts/factory.ts:86
    // assert(Txn.sender === this.akitaDAO.value.address, ERR_NOT_AKITA_DAO)
    app_params_get AppAddress
    assert // application exists
    ==
    assert // Only the Akita DAO can call this function
    // smart_contracts/utils/base-contracts/factory.ts:36
    // akitaDAOEscrow = GlobalState<Application>({ key: GlobalStateKeyAkitaEscrow })
    pushbytes "akita_escrow"
    // smart_contracts/utils/base-contracts/factory.ts:87
    // this.akitaDAOEscrow.value = Application(app)
    frame_dig -1
    app_global_put
    retsub
