/* eslint-disable */
/**
 * This file was automatically generated by @algorandfoundation/algokit-client-generator.
 * DO NOT MODIFY IT BY HAND.
 * requires: @algorandfoundation/algokit-utils: ^7
 */
import { type AlgorandClient } from '@algorandfoundation/algokit-utils/types/algorand-client'
import { ABIReturn, AppReturn, SendAppTransactionResult } from '@algorandfoundation/algokit-utils/types/app'
import { Arc56Contract, getArc56ReturnValue, getABIStructFromABITuple } from '@algorandfoundation/algokit-utils/types/app-arc56'
import {
  AppClient as _AppClient,
  AppClientMethodCallParams,
  AppClientParams,
  AppClientBareCallParams,
  CallOnComplete,
  AppClientCompilationParams,
  ResolveAppClientByCreatorAndName,
  ResolveAppClientByNetwork,
  CloneAppClientParams,
} from '@algorandfoundation/algokit-utils/types/app-client'
import { AppFactory as _AppFactory, AppFactoryAppClientParams, AppFactoryResolveAppClientByCreatorAndNameParams, AppFactoryDeployParams, AppFactoryParams, CreateSchema } from '@algorandfoundation/algokit-utils/types/app-factory'
import { TransactionComposer, AppCallMethodCall, AppMethodCallTransactionArgument, SimulateOptions, RawSimulateOptions, SkipSignaturesSimulateOptions } from '@algorandfoundation/algokit-utils/types/composer'
import { SendParams, SendSingleTransactionResult, SendAtomicTransactionComposerResults } from '@algorandfoundation/algokit-utils/types/transaction'
import { Address, encodeAddress, modelsv2, OnApplicationComplete, Transaction, TransactionSigner } from 'algosdk'
import SimulateResponse = modelsv2.SimulateResponse

export const APP_SPEC: Arc56Contract = {"name":"Listing","structs":{},"methods":[{"name":"createApplication","args":[{"type":"uint64","name":"prize"},{"type":"bool","name":"isPrizeBox"},{"type":"uint64","name":"price"},{"type":"uint64","name":"paymentAsset"},{"type":"uint64","name":"expiration"},{"type":"address","name":"seller"},{"type":"address","name":"reservedFor"},{"type":"uint64","name":"creatorRoyalty"},{"type":"uint64","name":"gateID"},{"type":"address","name":"marketplace"},{"type":"string","name":"version"},{"type":"uint64","name":"akitaDAO"}],"returns":{"type":"void"},"actions":{"create":["NoOp"],"call":[]},"readonly":false,"desc":"create the listing application","events":[],"recommendations":{}},{"name":"purchase","args":[{"type":"pay","name":"payment","desc":"- the payment for purchasing the asset"},{"type":"address","name":"buyer","desc":"- the buyer of the asset"},{"type":"address","name":"marketplace"},{"type":"byte[][]","name":"args","desc":"- the args to pass to the gate"}],"returns":{"type":"void"},"actions":{"create":[],"call":["DeleteApplication"]},"readonly":false,"events":[],"recommendations":{}},{"name":"purchaseAsa","args":[{"type":"axfer","name":"assetXfer"},{"type":"address","name":"buyer"},{"type":"address","name":"marketplace"},{"type":"byte[][]","name":"args"}],"returns":{"type":"void"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"events":[],"recommendations":{}},{"name":"delist","args":[{"type":"address","name":"caller"}],"returns":{"type":"void"},"actions":{"create":[],"call":["DeleteApplication"]},"readonly":false,"desc":"Deletes the app and returns the asset/mbr to the seller","events":[],"recommendations":{}},{"name":"changePrice","args":[{"type":"uint64","name":"price"}],"returns":{"type":"void"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"events":[],"recommendations":{}},{"name":"updateApplication","args":[{"type":"string","name":"newVersion"}],"returns":{"type":"void"},"actions":{"create":[],"call":["UpdateApplication"]},"readonly":false,"events":[],"recommendations":{}},{"name":"updateAkitaDAO","args":[{"type":"uint64","name":"app"}],"returns":{"type":"void"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"events":[],"recommendations":{}},{"name":"optin","args":[{"type":"pay","name":"payment","desc":"The payment transaction"},{"type":"uint64","name":"asset","desc":"The asset to be opted into"}],"returns":{"type":"void"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"optin tells the contract to opt into an asa","events":[],"recommendations":{}}],"arcs":[22,28],"networks":{},"state":{"schema":{"global":{"ints":9,"bytes":4},"local":{"ints":0,"bytes":0}},"keys":{"global":{"prize":{"keyType":"AVMString","valueType":"AVMUint64","key":"cHJpemU=","desc":"the asset for sale"},"isPrizeBox":{"keyType":"AVMString","valueType":"AVMUint64","key":"aXNfcHJpemVfYm94","desc":"whether or not the prize is an asset or a prize box"},"price":{"keyType":"AVMString","valueType":"AVMUint64","key":"cHJpY2U=","desc":"the price of the asset"},"paymentAsset":{"keyType":"AVMString","valueType":"AVMUint64","key":"cGF5bWVudF9hc3NldA==","desc":"the asset to use for payment"},"expiration":{"keyType":"AVMString","valueType":"AVMUint64","key":"ZXhwaXJhdGlvbg==","desc":"the timestamp the listing expires on, once this passes all that can be done is delist"},"seller":{"keyType":"AVMString","valueType":"address","key":"c2VsbGVy","desc":"the address selling the asset"},"reservedFor":{"keyType":"AVMString","valueType":"address","key":"cmVzZXJ2ZWRfZm9y","desc":"the address the sale is reserved for"},"creatorRoyalty":{"keyType":"AVMString","valueType":"AVMUint64","key":"Y3JlYXRvcl9yb3lhbHR5","desc":"the amount the creator will get for the sale"},"gateID":{"keyType":"AVMString","valueType":"AVMUint64","key":"Z2F0ZV9pZA==","desc":"the gate ID to use to check if the user is qualified to buy"},"marketplace":{"keyType":"AVMString","valueType":"address","key":"bWFya2V0cGxhY2U=","desc":"The address of the marketplace that listed the asset to send the fee to\n\nIMPORTANT: this is a double sided marketplace fee contract\nthe marketplace referred to internally in the contract\nis the listing side marketplace.\nthe buyer side marketplace provides their address at\nthe time of purchase"},"marketplaceRoyalties":{"keyType":"AVMString","valueType":"AVMUint64","key":"bWFya2V0cGxhY2Vfcm95YWx0aWVz","desc":"the amount the marketplaces will get for the sale"},"version":{"keyType":"AVMString","valueType":"AVMString","key":"dmVyc2lvbg==","desc":"the current version of the contract"},"akitaDAO":{"keyType":"AVMString","valueType":"AVMUint64","key":"YWtpdGFfZGFv","desc":"the app ID of the Akita DAO"}},"local":{},"box":{}},"maps":{"global":{},"local":{},"box":{}}},"bareActions":{"create":[],"call":[]},"sourceInfo":{"approval":{"sourceInfo":[{"pc":[539,622,811,945],"errorMessage":"Bytes has valid prefix"},{"pc":[1349,1570],"errorMessage":"Gate check failed"},{"pc":[1404,2195],"errorMessage":"Invalid payment"},{"pc":[829,977,1018],"errorMessage":"Invalid percentage"},{"pc":[1625],"errorMessage":"Invalid transfer"},{"pc":[329,377],"errorMessage":"OnCompletion is not DeleteApplication"},{"pc":[250,276,311,344,408],"errorMessage":"OnCompletion is not NoOp"},{"pc":[293],"errorMessage":"OnCompletion is not UpdateApplication"},{"pc":[2139,2159],"errorMessage":"Only the Akita DAO can call this function"},{"pc":[1178],"errorMessage":"account opted into asset"},{"pc":[577,2137,2157],"errorMessage":"application exists"},{"pc":[1430,1440,1656,1672,1872],"errorMessage":"asset exists"},{"pc":[412],"errorMessage":"can only call when creating"},{"pc":[253,279,296,314,332,347,380],"errorMessage":"can only call when not creating"},{"pc":[824,845,872,891,895,1013,1038,1105,1113,1139,1168,1275,1306,1313,1321,1333,1338,1354,1365,1398,1414,1426,1435,1528,1534,1542,1554,1559,1575,1586,1619,1635,1653,1660,1676,1694,1698,1711,1715,1734,1749,1770,1774,1786,1790,1806,1810,1814,1825,1829,1845,1850,1854,1867,1876,1906,1914,1918,1922,1926,1933,1940,1945,1953,1957,2040,2048,2052,2117,2134,2154],"errorMessage":"check GlobalState exists"},{"pc":[1230],"errorMessage":"invalid expiration"},{"pc":[1329,1550],"errorMessage":"listing expired"},{"pc":[1197,1302,1524,1902],"errorMessage":"must be called from the factory"},{"pc":[2119],"errorMessage":"must be the seller"},{"pc":[1910],"errorMessage":"only the seller can delist"},{"pc":[1308],"errorMessage":"payment asset must be algo"},{"pc":[1529],"errorMessage":"payment asset must not be algo"},{"pc":[1369,1590],"errorMessage":"reserved for different address"},{"pc":[357],"errorMessage":"transaction type is axfer"},{"pc":[263,390],"errorMessage":"transaction type is pay"}],"pcOffsetMethod":"none"},"clear":{"sourceInfo":[],"pcOffsetMethod":"none"}},"source":{"approval":"I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDQgNiAxMDAwMDAKICAgIGJ5dGVjYmxvY2sgInBheW1lbnRfYXNzZXQiICJha2l0YV9kYW8iICJzZWxsZXIiICJwcml6ZSIgInByaWNlIiAiZXhwaXJhdGlvbiIgInJlc2VydmVkX2ZvciIgIm1hcmtldHBsYWNlIiAweDE1MWY3Yzc1ICJpc19wcml6ZV9ib3giICJjcmVhdG9yX3JveWFsdHkiICJtYXJrZXRwbGFjZV9yb3lhbHRpZXMiIDB4YWRmOTJhZTQgImdhdGVfaWQiICJuZnRfZmVlcyIgInZlcnNpb24iCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjE1CiAgICAvLyBleHBvcnQgY2xhc3MgTGlzdGluZyBleHRlbmRzIGNsYXNzZXMoQWtpdGFCYXNlQ29udHJhY3QsIENvbnRyYWN0V2l0aENyZWF0b3JPbmx5T3B0SW4pIHsKICAgIHR4biBOdW1BcHBBcmdzCiAgICBieiBtYWluX2FmdGVyX2lmX2Vsc2VAMTYKICAgIHB1c2hieXRlc3MgMHgwZTBmMzI4NCAweGVmMDA3OGE5IDB4YjhhN2NjMDkgMHg2OGU4NjM0MyAweDE5Mzk2YzRhIDB4MTc0NzQwNWIgMHgzM2U5MmM5NCAweDNlYTExODMyIC8vIG1ldGhvZCAiY3JlYXRlQXBwbGljYXRpb24odWludDY0LGJvb2wsdWludDY0LHVpbnQ2NCx1aW50NjQsYWRkcmVzcyxhZGRyZXNzLHVpbnQ2NCx1aW50NjQsYWRkcmVzcyxzdHJpbmcsdWludDY0KXZvaWQiLCBtZXRob2QgInB1cmNoYXNlKHBheSxhZGRyZXNzLGFkZHJlc3MsYnl0ZVtdW10pdm9pZCIsIG1ldGhvZCAicHVyY2hhc2VBc2EoYXhmZXIsYWRkcmVzcyxhZGRyZXNzLGJ5dGVbXVtdKXZvaWQiLCBtZXRob2QgImRlbGlzdChhZGRyZXNzKXZvaWQiLCBtZXRob2QgImNoYW5nZVByaWNlKHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJ1cGRhdGVBcHBsaWNhdGlvbihzdHJpbmcpdm9pZCIsIG1ldGhvZCAidXBkYXRlQWtpdGFEQU8odWludDY0KXZvaWQiLCBtZXRob2QgIm9wdGluKHBheSx1aW50NjQpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIG1haW5fY3JlYXRlQXBwbGljYXRpb25fcm91dGVANSBtYWluX3B1cmNoYXNlX3JvdXRlQDYgbWFpbl9wdXJjaGFzZUFzYV9yb3V0ZUA3IG1haW5fZGVsaXN0X3JvdXRlQDggbWFpbl9jaGFuZ2VQcmljZV9yb3V0ZUA5IG1haW5fdXBkYXRlQXBwbGljYXRpb25fcm91dGVAMTAgbWFpbl91cGRhdGVBa2l0YURBT19yb3V0ZUAxMSBtYWluX29wdGluX3JvdXRlQDEyCgptYWluX2FmdGVyX2lmX2Vsc2VAMTY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjE1CiAgICAvLyBleHBvcnQgY2xhc3MgTGlzdGluZyBleHRlbmRzIGNsYXNzZXMoQWtpdGFCYXNlQ29udHJhY3QsIENvbnRyYWN0V2l0aENyZWF0b3JPbmx5T3B0SW4pIHsKICAgIGludGNfMCAvLyAwCiAgICByZXR1cm4KCm1haW5fb3B0aW5fcm91dGVAMTI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvb3B0aW4udHM6NTEKICAgIC8vIG9wdGluKHBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwgYXNzZXQ6IHVpbnQ2NCk6IHZvaWQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjE1CiAgICAvLyBleHBvcnQgY2xhc3MgTGlzdGluZyBleHRlbmRzIGNsYXNzZXMoQWtpdGFCYXNlQ29udHJhY3QsIENvbnRyYWN0V2l0aENyZWF0b3JPbmx5T3B0SW4pIHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL29wdGluLnRzOjUxCiAgICAvLyBvcHRpbihwYXltZW50OiBndHhuLlBheW1lbnRUeG4sIGFzc2V0OiB1aW50NjQpOiB2b2lkIHsKICAgIGNhbGxzdWIgb3B0aW4KICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fdXBkYXRlQWtpdGFEQU9fcm91dGVAMTE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoyNwogICAgLy8gdXBkYXRlQWtpdGFEQU8oYXBwOiB1aW50NjQpOiB2b2lkIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoxNQogICAgLy8gZXhwb3J0IGNsYXNzIExpc3RpbmcgZXh0ZW5kcyBjbGFzc2VzKEFraXRhQmFzZUNvbnRyYWN0LCBDb250cmFjdFdpdGhDcmVhdG9yT25seU9wdEluKSB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoyNwogICAgLy8gdXBkYXRlQWtpdGFEQU8oYXBwOiB1aW50NjQpOiB2b2lkIHsKICAgIGNhbGxzdWIgdXBkYXRlQWtpdGFEQU8KICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fdXBkYXRlQXBwbGljYXRpb25fcm91dGVAMTA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoxOQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogWydVcGRhdGVBcHBsaWNhdGlvbiddIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICBpbnRjXzIgLy8gVXBkYXRlQXBwbGljYXRpb24KICAgID09CiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBVcGRhdGVBcHBsaWNhdGlvbgogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjE1CiAgICAvLyBleHBvcnQgY2xhc3MgTGlzdGluZyBleHRlbmRzIGNsYXNzZXMoQWtpdGFCYXNlQ29udHJhY3QsIENvbnRyYWN0V2l0aENyZWF0b3JPbmx5T3B0SW4pIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGV4dHJhY3QgMiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoxOQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogWydVcGRhdGVBcHBsaWNhdGlvbiddIH0pCiAgICBjYWxsc3ViIHVwZGF0ZUFwcGxpY2F0aW9uCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2NoYW5nZVByaWNlX3JvdXRlQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjQxMQogICAgLy8gY2hhbmdlUHJpY2UocHJpY2U6IHVpbnQ2NCk6IHZvaWQgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjE1CiAgICAvLyBleHBvcnQgY2xhc3MgTGlzdGluZyBleHRlbmRzIGNsYXNzZXMoQWtpdGFCYXNlQ29udHJhY3QsIENvbnRyYWN0V2l0aENyZWF0b3JPbmx5T3B0SW4pIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6NDExCiAgICAvLyBjaGFuZ2VQcmljZShwcmljZTogdWludDY0KTogdm9pZCB7CiAgICBjYWxsc3ViIGNoYW5nZVByaWNlCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2RlbGlzdF9yb3V0ZUA4OgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozNTcKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdEZWxldGVBcHBsaWNhdGlvbicgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgPT0KICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IERlbGV0ZUFwcGxpY2F0aW9uCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTUKICAgIC8vIGV4cG9ydCBjbGFzcyBMaXN0aW5nIGV4dGVuZHMgY2xhc3NlcyhBa2l0YUJhc2VDb250cmFjdCwgQ29udHJhY3RXaXRoQ3JlYXRvck9ubHlPcHRJbikgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozNTcKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdEZWxldGVBcHBsaWNhdGlvbicgfSkKICAgIGNhbGxzdWIgZGVsaXN0CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX3B1cmNoYXNlQXNhX3JvdXRlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjMyNgogICAgLy8gQGFiaW1ldGhvZCh7IE9uQ29tcGxldGVBY3Rpb246ICdEZWxldGVBcHBsaWNhdGlvbicgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoxNQogICAgLy8gZXhwb3J0IGNsYXNzIExpc3RpbmcgZXh0ZW5kcyBjbGFzc2VzKEFraXRhQmFzZUNvbnRyYWN0LCBDb250cmFjdFdpdGhDcmVhdG9yT25seU9wdEluKSB7CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMiAvLyBheGZlcgogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIGF4ZmVyCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjMyNgogICAgLy8gQGFiaW1ldGhvZCh7IE9uQ29tcGxldGVBY3Rpb246ICdEZWxldGVBcHBsaWNhdGlvbicgfSkKICAgIGNhbGxzdWIgcHVyY2hhc2VBc2EKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fcHVyY2hhc2Vfcm91dGVANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6Mjg4CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAnRGVsZXRlQXBwbGljYXRpb24nIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICBwdXNoaW50IDUgLy8gRGVsZXRlQXBwbGljYXRpb24KICAgID09CiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBEZWxldGVBcHBsaWNhdGlvbgogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjE1CiAgICAvLyBleHBvcnQgY2xhc3MgTGlzdGluZyBleHRlbmRzIGNsYXNzZXMoQWtpdGFCYXNlQ29udHJhY3QsIENvbnRyYWN0V2l0aENyZWF0b3JPbmx5T3B0SW4pIHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoyODgKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdEZWxldGVBcHBsaWNhdGlvbicgfSkKICAgIGNhbGxzdWIgcHVyY2hhc2UKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fY3JlYXRlQXBwbGljYXRpb25fcm91dGVANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MjQzLTI1NgogICAgLy8gY3JlYXRlQXBwbGljYXRpb24oCiAgICAvLyAgIHByaXplOiB1aW50NjQsCiAgICAvLyAgIGlzUHJpemVCb3g6IGJvb2xlYW4sCiAgICAvLyAgIHByaWNlOiB1aW50NjQsCiAgICAvLyAgIHBheW1lbnRBc3NldDogdWludDY0LAogICAgLy8gICBleHBpcmF0aW9uOiB1aW50NjQsCiAgICAvLyAgIHNlbGxlcjogQWRkcmVzcywKICAgIC8vICAgcmVzZXJ2ZWRGb3I6IEFkZHJlc3MsCiAgICAvLyAgIGNyZWF0b3JSb3lhbHR5OiB1aW50NjQsCiAgICAvLyAgIGdhdGVJRDogdWludDY0LAogICAgLy8gICBtYXJrZXRwbGFjZTogQWRkcmVzcywKICAgIC8vICAgdmVyc2lvbjogc3RyaW5nLAogICAgLy8gICBha2l0YURBTzogdWludDY0CiAgICAvLyApOiB2b2lkIHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICAhCiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjE1CiAgICAvLyBleHBvcnQgY2xhc3MgTGlzdGluZyBleHRlbmRzIGNsYXNzZXMoQWtpdGFCYXNlQ29udHJhY3QsIENvbnRyYWN0V2l0aENyZWF0b3JPbmx5T3B0SW4pIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDYKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDcKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDgKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDkKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxMQogICAgZXh0cmFjdCAyIDAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEyCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI0My0yNTYKICAgIC8vIGNyZWF0ZUFwcGxpY2F0aW9uKAogICAgLy8gICBwcml6ZTogdWludDY0LAogICAgLy8gICBpc1ByaXplQm94OiBib29sZWFuLAogICAgLy8gICBwcmljZTogdWludDY0LAogICAgLy8gICBwYXltZW50QXNzZXQ6IHVpbnQ2NCwKICAgIC8vICAgZXhwaXJhdGlvbjogdWludDY0LAogICAgLy8gICBzZWxsZXI6IEFkZHJlc3MsCiAgICAvLyAgIHJlc2VydmVkRm9yOiBBZGRyZXNzLAogICAgLy8gICBjcmVhdG9yUm95YWx0eTogdWludDY0LAogICAgLy8gICBnYXRlSUQ6IHVpbnQ2NCwKICAgIC8vICAgbWFya2V0cGxhY2U6IEFkZHJlc3MsCiAgICAvLyAgIHZlcnNpb246IHN0cmluZywKICAgIC8vICAgYWtpdGFEQU86IHVpbnQ2NAogICAgLy8gKTogdm9pZCB7CiAgICBjYWxsc3ViIGNyZWF0ZUFwcGxpY2F0aW9uCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo6Z2F0ZUNoZWNrKGFraXRhREFPOiB1aW50NjQsIGNhbGxlcjogYnl0ZXMsIGlkOiB1aW50NjQsIGFyZ3M6IGJ5dGVzKSAtPiB1aW50NjQsIGJ5dGVzOgpnYXRlQ2hlY2s6CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjEyOAogICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGdhdGVDaGVjayhha2l0YURBTzogQXBwbGljYXRpb24sIGNhbGxlcjogQWRkcmVzcywgaWQ6IHVpbnQ2NCwgYXJnczogR2F0ZUFyZ3MpOiBib29sZWFuIHsKICAgIHByb3RvIDQgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoxMjkKICAgIC8vIGlmIChpZCA9PT0gMCkgewogICAgZnJhbWVfZGlnIC0yCiAgICBibnogZ2F0ZUNoZWNrX2FmdGVyX2lmX2Vsc2VAMgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoxMzAKICAgIC8vIHJldHVybiB0cnVlCiAgICBpbnRjXzEgLy8gMQogICAgZnJhbWVfZGlnIC0xCiAgICByZXRzdWIKCmdhdGVDaGVja19hZnRlcl9pZl9lbHNlQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjEzMy0xMzcKICAgIC8vIHJldHVybiBhYmlDYWxsKEdhdGUucHJvdG90eXBlLmNoZWNrLCB7CiAgICAvLyAgIGFwcElkOiBnZXRBa2l0YUFwcExpc3QoYWtpdGFEQU8pLmdhdGUsCiAgICAvLyAgIGFyZ3M6IFtjYWxsZXIsIGlkLCBhcmdzXSwKICAgIC8vICAgZmVlOiAwLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjMKICAgIC8vIGNvbnN0IFthcHBMaXN0Qnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoYWtpdGFEQU8sIEJ5dGVzKEFraXRhREFPR2xvYmFsU3RhdGVLZXlzQWtpdGFBcHBMaXN0KSkKICAgIGZyYW1lX2RpZyAtNAogICAgLy8gc21hcnRfY29udHJhY3RzL2Rhby9jb25zdGFudHMudHM6NgogICAgLy8gZXhwb3J0IGNvbnN0IEFraXRhREFPR2xvYmFsU3RhdGVLZXlzQWtpdGFBcHBMaXN0ID0gJ2FraXRhX2FsJwogICAgcHVzaGJ5dGVzICJha2l0YV9hbCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjMKICAgIC8vIGNvbnN0IFthcHBMaXN0Qnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoYWtpdGFEQU8sIEJ5dGVzKEFraXRhREFPR2xvYmFsU3RhdGVLZXlzQWtpdGFBcHBMaXN0KSkKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjQKICAgIC8vIHJldHVybiBkZWNvZGVBcmM0PEFraXRhQXBwTGlzdD4oYXBwTGlzdEJ5dGVzKQogICAgcHVzaGludCA0MCAvLyA0MAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MTM1CiAgICAvLyBhcmdzOiBbY2FsbGVyLCBpZCwgYXJnc10sCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MTMzLTEzNwogICAgLy8gcmV0dXJuIGFiaUNhbGwoR2F0ZS5wcm90b3R5cGUuY2hlY2ssIHsKICAgIC8vICAgYXBwSWQ6IGdldEFraXRhQXBwTGlzdChha2l0YURBTykuZ2F0ZSwKICAgIC8vICAgYXJnczogW2NhbGxlciwgaWQsIGFyZ3NdLAogICAgLy8gICBmZWU6IDAsCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgcHVzaGJ5dGVzIDB4MjAwZjc0MjEgLy8gbWV0aG9kICJjaGVjayhhZGRyZXNzLHVpbnQ2NCxieXRlW11bXSlib29sIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyAtMwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIGludGNfMyAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjEzNgogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjEzMy0xMzcKICAgIC8vIHJldHVybiBhYmlDYWxsKEdhdGUucHJvdG90eXBlLmNoZWNrLCB7CiAgICAvLyAgIGFwcElkOiBnZXRBa2l0YUFwcExpc3QoYWtpdGFEQU8pLmdhdGUsCiAgICAvLyAgIGFyZ3M6IFtjYWxsZXIsIGlkLCBhcmdzXSwKICAgIC8vICAgZmVlOiAwLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCA0IDAKICAgIHN3YXAKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlYyA4IC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgZnJhbWVfZGlnIC0xCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjphcmM1OU9wdEluQW5kU2VuZChha2l0YURBTzogdWludDY0LCByZWNpcGllbnQ6IGJ5dGVzLCBhc3NldDogdWludDY0LCBhbW91bnQ6IHVpbnQ2NCwgY2xvc2VPdXQ6IHVpbnQ2NCkgLT4gdm9pZDoKYXJjNTlPcHRJbkFuZFNlbmQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjE3NwogICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGFyYzU5T3B0SW5BbmRTZW5kKGFraXRhREFPOiBBcHBsaWNhdGlvbiwgcmVjaXBpZW50OiBBZGRyZXNzLCBhc3NldDogdWludDY0LCBhbW91bnQ6IHVpbnQ2NCwgY2xvc2VPdXQ6IGJvb2xlYW4pOiB2b2lkIHsKICAgIHByb3RvIDUgMAogICAgcHVzaGJ5dGVzICIiCiAgICBkdXBuIDIKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjMzCiAgICAvLyBjb25zdCBbb3RoZXJBcHBMaXN0Qnl0ZXNdID0gb3AuQXBwR2xvYmFsLmdldEV4Qnl0ZXMoYWtpdGFEQU8sIEJ5dGVzKEFraXRhREFPR2xvYmFsU3RhdGVLZXlzT3RoZXJBcHBMaXN0KSkKICAgIGZyYW1lX2RpZyAtNQogICAgLy8gc21hcnRfY29udHJhY3RzL2Rhby9jb25zdGFudHMudHM6OAogICAgLy8gZXhwb3J0IGNvbnN0IEFraXRhREFPR2xvYmFsU3RhdGVLZXlzT3RoZXJBcHBMaXN0ID0gJ290aGVyX2FsJwogICAgcHVzaGJ5dGVzICJvdGhlcl9hbCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MzMKICAgIC8vIGNvbnN0IFtvdGhlckFwcExpc3RCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhha2l0YURBTywgQnl0ZXMoQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNPdGhlckFwcExpc3QpKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czozNAogICAgLy8gcmV0dXJuIGRlY29kZUFyYzQ8T3RoZXJBcHBMaXN0PihvdGhlckFwcExpc3RCeXRlcykKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MTc5CiAgICAvLyBjb25zdCBpbmJveEFkZHJlc3MgPSBBcHBsaWNhdGlvbihhc3NldEluYm94KS5hZGRyZXNzCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBzd2FwCiAgICBjb3ZlciAyCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjE4MS0xODgKICAgIC8vIGNvbnN0IHsgbWJyLCByb3V0ZXJPcHRlZEluLCByZWNlaXZlckFsZ29OZWVkZWRGb3JDbGFpbSB9ID0gYWJpQ2FsbCgKICAgIC8vICAgQXNzZXRJbmJveC5wcm90b3R5cGUuYXJjNTlfZ2V0U2VuZEFzc2V0SW5mbywKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiBhc3NldEluYm94LAogICAgLy8gICAgIGFyZ3M6IFtyZWNpcGllbnQsIGFzc2V0XSwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0KICAgIC8vICkucmV0dXJuVmFsdWUKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MTg1CiAgICAvLyBhcmdzOiBbcmVjaXBpZW50LCBhc3NldF0sCiAgICBmcmFtZV9kaWcgLTMKICAgIGl0b2IKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoxODEtMTg4CiAgICAvLyBjb25zdCB7IG1iciwgcm91dGVyT3B0ZWRJbiwgcmVjZWl2ZXJBbGdvTmVlZGVkRm9yQ2xhaW0gfSA9IGFiaUNhbGwoCiAgICAvLyAgIEFzc2V0SW5ib3gucHJvdG90eXBlLmFyYzU5X2dldFNlbmRBc3NldEluZm8sCiAgICAvLyAgIHsKICAgIC8vICAgICBhcHBJZDogYXNzZXRJbmJveCwKICAgIC8vICAgICBhcmdzOiBbcmVjaXBpZW50LCBhc3NldF0sCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9CiAgICAvLyApLnJldHVyblZhbHVlCiAgICBwdXNoYnl0ZXMgMHhjYWE4ZGFhNSAvLyBtZXRob2QgImFyYzU5X2dldFNlbmRBc3NldEluZm8oYWRkcmVzcyx1aW50NjQpKHVpbnQ2NCx1aW50NjQsYm9vbCxib29sLHVpbnQ2NCkiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIC00CiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgaW50Y18zIC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MTg2CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MTgxLTE4OAogICAgLy8gY29uc3QgeyBtYnIsIHJvdXRlck9wdGVkSW4sIHJlY2VpdmVyQWxnb05lZWRlZEZvckNsYWltIH0gPSBhYmlDYWxsKAogICAgLy8gICBBc3NldEluYm94LnByb3RvdHlwZS5hcmM1OV9nZXRTZW5kQXNzZXRJbmZvLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IGFzc2V0SW5ib3gsCiAgICAvLyAgICAgYXJnczogW3JlY2lwaWVudCwgYXNzZXRdLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfQogICAgLy8gKS5yZXR1cm5WYWx1ZQogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gTGFzdExvZwogICAgZHVwCiAgICBleHRyYWN0IDQgMAogICAgZGlnIDEKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlYyA4IC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgZGlnIDEKICAgIHB1c2hpbnQgMTIgLy8gMTIKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGNvdmVyIDMKICAgIHB1c2hpbnQgMTI4IC8vIDEyOAogICAgZ2V0Yml0CiAgICBwdXNoYnl0ZXMgMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBjb3ZlciAyCiAgICBwdXNoaW50IDIxIC8vIDIxCiAgICBleHRyYWN0X3VpbnQ2NAogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoxOTAKICAgIC8vIGlmIChtYnIgfHwgcmVjZWl2ZXJBbGdvTmVlZGVkRm9yQ2xhaW0pIHsKICAgIGJueiBhcmM1OU9wdEluQW5kU2VuZF9pZl9ib2R5QDMKICAgIGZyYW1lX2RpZyA5CiAgICBieiBhcmM1OU9wdEluQW5kU2VuZF9hZnRlcl9pZl9lbHNlQDUKCmFyYzU5T3B0SW5BbmRTZW5kX2lmX2JvZHlAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MTkxLTE5NQogICAgLy8gaXR4bi5wYXltZW50KHsKICAgIC8vICAgcmVjZWl2ZXI6IGluYm94QWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBtYnIgKyByZWNlaXZlckFsZ29OZWVkZWRGb3JDbGFpbSwKICAgIC8vICAgZmVlOiAwLAogICAgLy8gfSkuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MTkzCiAgICAvLyBhbW91bnQ6IG1iciArIHJlY2VpdmVyQWxnb05lZWRlZEZvckNsYWltLAogICAgZnJhbWVfZGlnIDcKICAgIGZyYW1lX2RpZyA5CiAgICArCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgZnJhbWVfZGlnIDUKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MTkxLTE5NQogICAgLy8gaXR4bi5wYXltZW50KHsKICAgIC8vICAgcmVjZWl2ZXI6IGluYm94QWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBtYnIgKyByZWNlaXZlckFsZ29OZWVkZWRGb3JDbGFpbSwKICAgIC8vICAgZmVlOiAwLAogICAgLy8gfSkuc3VibWl0KCkKICAgIGludGNfMSAvLyAxCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjE5NAogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjE5MS0xOTUKICAgIC8vIGl0eG4ucGF5bWVudCh7CiAgICAvLyAgIHJlY2VpdmVyOiBpbmJveEFkZHJlc3MsCiAgICAvLyAgIGFtb3VudDogbWJyICsgcmVjZWl2ZXJBbGdvTmVlZGVkRm9yQ2xhaW0sCiAgICAvLyAgIGZlZTogMCwKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAoKYXJjNTlPcHRJbkFuZFNlbmRfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoxOTgKICAgIC8vIGlmICghcm91dGVyT3B0ZWRJbikgewogICAgZnJhbWVfZGlnIDgKICAgIGJueiBhcmM1OU9wdEluQW5kU2VuZF9hZnRlcl9pZl9lbHNlQDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MTk5LTIwMwogICAgLy8gYWJpQ2FsbChBc3NldEluYm94LnByb3RvdHlwZS5hcmM1OV9vcHRSb3V0ZXJJbiwgewogICAgLy8gICBhcHBJZDogYXNzZXRJbmJveCwKICAgIC8vICAgYXJnczogW2Fzc2V0XSwKICAgIC8vICAgZmVlOiAwLAogICAgLy8gfSkKICAgIGl0eG5fYmVnaW4KICAgIHB1c2hieXRlcyAweGU4NTQwODEwIC8vIG1ldGhvZCAiYXJjNTlfb3B0Um91dGVySW4odWludDY0KXZvaWQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIDYKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBmcmFtZV9kaWcgNAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBpbnRjXzMgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyMDIKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoxOTktMjAzCiAgICAvLyBhYmlDYWxsKEFzc2V0SW5ib3gucHJvdG90eXBlLmFyYzU5X29wdFJvdXRlckluLCB7CiAgICAvLyAgIGFwcElkOiBhc3NldEluYm94LAogICAgLy8gICBhcmdzOiBbYXNzZXRdLAogICAgLy8gICBmZWU6IDAsCiAgICAvLyB9KQogICAgaXR4bl9zdWJtaXQKCmFyYzU5T3B0SW5BbmRTZW5kX2FmdGVyX2lmX2Vsc2VAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjA3CiAgICAvLyBhc3NldFJlY2VpdmVyOiBpbmJveEFkZHJlc3MsCiAgICBpbnRjXzEgLy8gMQogICAgZnJhbWVfYnVyeSAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIwOAogICAgLy8gYXNzZXRBbW91bnQ6IGFtb3VudCwKICAgIGludGNfMSAvLyAxCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjA2CiAgICAvLyBsZXQgeGZlclR4biA9IGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIxMwogICAgLy8gaWYgKGNsb3NlT3V0KSB7CiAgICBmcmFtZV9kaWcgLTEKICAgIGJ6IGFyYzU5T3B0SW5BbmRTZW5kX2FmdGVyX2lmX2Vsc2VAMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjE2CiAgICAvLyBhc3NldENsb3NlVG86IGluYm94QWRkcmVzcywKICAgIGludGNfMSAvLyAxCiAgICBmcmFtZV9idXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjE0CiAgICAvLyB4ZmVyVHhuID0gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDAKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDIKICAgIGZyYW1lX2RpZyA1CiAgICBmcmFtZV9idXJ5IDMKCmFyYzU5T3B0SW5BbmRTZW5kX2FmdGVyX2lmX2Vsc2VAMTA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIyMS0yMjUKICAgIC8vIGFiaUNhbGwoQXNzZXRJbmJveC5wcm90b3R5cGUuYXJjNTlfc2VuZEFzc2V0LCB7CiAgICAvLyAgIGFwcElkOiBhc3NldEluYm94LAogICAgLy8gICBhcmdzOiBbeGZlclR4biwgcmVjaXBpZW50LCByZWNlaXZlckFsZ29OZWVkZWRGb3JDbGFpbV0sCiAgICAvLyAgIGZlZTogMCwKICAgIC8vIH0pCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIyMwogICAgLy8gYXJnczogW3hmZXJUeG4sIHJlY2lwaWVudCwgcmVjZWl2ZXJBbGdvTmVlZGVkRm9yQ2xhaW1dLAogICAgZnJhbWVfZGlnIDEKICAgIGJ6IGFyYzU5T3B0SW5BbmRTZW5kX25leHRfZmllbGRAMTIKICAgIGZyYW1lX2RpZyAzCiAgICBpdHhuX2ZpZWxkIEFzc2V0Q2xvc2VUbwoKYXJjNTlPcHRJbkFuZFNlbmRfbmV4dF9maWVsZEAxMjoKICAgIGZyYW1lX2RpZyAtMwogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjIzCiAgICAvLyBhcmdzOiBbeGZlclR4biwgcmVjaXBpZW50LCByZWNlaXZlckFsZ29OZWVkZWRGb3JDbGFpbV0sCiAgICBmcmFtZV9kaWcgMAogICAgYnogYXJjNTlPcHRJbkFuZFNlbmRfbmV4dF9maWVsZEAxNAogICAgZnJhbWVfZGlnIC0yCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CgphcmM1OU9wdEluQW5kU2VuZF9uZXh0X2ZpZWxkQDE0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyMjMKICAgIC8vIGFyZ3M6IFt4ZmVyVHhuLCByZWNpcGllbnQsIHJlY2VpdmVyQWxnb05lZWRlZEZvckNsYWltXSwKICAgIGZyYW1lX2RpZyAyCiAgICBieiBhcmM1OU9wdEluQW5kU2VuZF9uZXh0X2ZpZWxkQDE2CiAgICBmcmFtZV9kaWcgNQogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCgphcmM1OU9wdEluQW5kU2VuZF9uZXh0X2ZpZWxkQDE2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyMDYtMjExCiAgICAvLyBsZXQgeGZlclR4biA9IGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IGluYm94QWRkcmVzcywKICAgIC8vICAgYXNzZXRBbW91bnQ6IGFtb3VudCwKICAgIC8vICAgeGZlckFzc2V0OiBhc3NldCwKICAgIC8vICAgZmVlOiAwLAogICAgLy8gfSkKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIxMAogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjIyMS0yMjUKICAgIC8vIGFiaUNhbGwoQXNzZXRJbmJveC5wcm90b3R5cGUuYXJjNTlfc2VuZEFzc2V0LCB7CiAgICAvLyAgIGFwcElkOiBhc3NldEluYm94LAogICAgLy8gICBhcmdzOiBbeGZlclR4biwgcmVjaXBpZW50LCByZWNlaXZlckFsZ29OZWVkZWRGb3JDbGFpbV0sCiAgICAvLyAgIGZlZTogMCwKICAgIC8vIH0pCiAgICBpdHhuX25leHQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjIzCiAgICAvLyBhcmdzOiBbeGZlclR4biwgcmVjaXBpZW50LCByZWNlaXZlckFsZ29OZWVkZWRGb3JDbGFpbV0sCiAgICBmcmFtZV9kaWcgOQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyMjEtMjI1CiAgICAvLyBhYmlDYWxsKEFzc2V0SW5ib3gucHJvdG90eXBlLmFyYzU5X3NlbmRBc3NldCwgewogICAgLy8gICBhcHBJZDogYXNzZXRJbmJveCwKICAgIC8vICAgYXJnczogW3hmZXJUeG4sIHJlY2lwaWVudCwgcmVjZWl2ZXJBbGdvTmVlZGVkRm9yQ2xhaW1dLAogICAgLy8gICBmZWU6IDAsCiAgICAvLyB9KQogICAgcHVzaGJ5dGVzIDB4MDg1MzFlZDcgLy8gbWV0aG9kICJhcmM1OV9zZW5kQXNzZXQoYXhmZXIsYWRkcmVzcyx1aW50NjQpYWRkcmVzcyIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBmcmFtZV9kaWcgLTQKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIDQKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgaW50Y18zIC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjI0CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6MjIxLTIyNQogICAgLy8gYWJpQ2FsbChBc3NldEluYm94LnByb3RvdHlwZS5hcmM1OV9zZW5kQXNzZXQsIHsKICAgIC8vICAgYXBwSWQ6IGFzc2V0SW5ib3gsCiAgICAvLyAgIGFyZ3M6IFt4ZmVyVHhuLCByZWNpcGllbnQsIHJlY2VpdmVyQWxnb05lZWRlZEZvckNsYWltXSwKICAgIC8vICAgZmVlOiAwLAogICAgLy8gfSkKICAgIGl0eG5fc3VibWl0CiAgICBnaXR4biAxIExhc3RMb2cKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlYyA4IC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czo6TGlzdGluZy5nZXRBbW91bnRzKGFtb3VudDogdWludDY0KSAtPiB1aW50NjQsIHVpbnQ2NCwgdWludDY0LCB1aW50NjQ6CmdldEFtb3VudHM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjUzCiAgICAvLyBwcml2YXRlIGdldEFtb3VudHMoYW1vdW50OiB1aW50NjQpOiBSb3lhbHR5QW1vdW50cyB7CiAgICBwcm90byAxIDQKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjcKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlDcmVhdG9yUm95YWx0eSA9ICdjcmVhdG9yX3JveWFsdHknCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgMTAgLy8gImNyZWF0b3Jfcm95YWx0eSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjY4CiAgICAvLyBhc3NlcnQocCA8PSBESVZJU09SLCBFUlJfSU5WQUxJRF9QRVJDRU5UQUdFKQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvY29uc3RhbnRzLnRzOjE2CiAgICAvLyBleHBvcnQgY29uc3QgRElWSVNPUjogdWludDY0ID0gMTAwXzAwMAogICAgaW50YyA0IC8vIDEwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo2OAogICAgLy8gYXNzZXJ0KHAgPD0gRElWSVNPUiwgRVJSX0lOVkFMSURfUEVSQ0VOVEFHRSkKICAgIDw9CiAgICBhc3NlcnQgLy8gSW52YWxpZCBwZXJjZW50YWdlCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjY5CiAgICAvLyByZXR1cm4gb3AuZGl2dyguLi5vcC5tdWx3KGEsIHApLCBESVZJU09SKQogICAgZnJhbWVfZGlnIC0xCiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvY29uc3RhbnRzLnRzOjE2CiAgICAvLyBleHBvcnQgY29uc3QgRElWSVNPUjogdWludDY0ID0gMTAwXzAwMAogICAgaW50YyA0IC8vIDEwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo2OQogICAgLy8gcmV0dXJuIG9wLmRpdncoLi4ub3AubXVsdyhhLCBwKSwgRElWSVNPUikKICAgIGRpdncKICAgIGR1cG4gMgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czo1NQogICAgLy8gaWYgKGNyZWF0b3JBbW91bnQgPT09IDAgJiYgdGhpcy5jcmVhdG9yUm95YWx0eS52YWx1ZSA+IDAgJiYgYW1vdW50ID4gMCkgewogICAgYm56IGdldEFtb3VudHNfYWZ0ZXJfaWZfZWxzZUA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjcKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlDcmVhdG9yUm95YWx0eSA9ICdjcmVhdG9yX3JveWFsdHknCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgMTAgLy8gImNyZWF0b3Jfcm95YWx0eSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBmcmFtZV9kaWcgNwogICAgZnJhbWVfYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjU1CiAgICAvLyBpZiAoY3JlYXRvckFtb3VudCA9PT0gMCAmJiB0aGlzLmNyZWF0b3JSb3lhbHR5LnZhbHVlID4gMCAmJiBhbW91bnQgPiAwKSB7CiAgICBieiBnZXRBbW91bnRzX2FmdGVyX2lmX2Vsc2VANAogICAgZnJhbWVfZGlnIDcKICAgIGZyYW1lX2J1cnkgOAogICAgZnJhbWVfZGlnIC0xCiAgICBieiBnZXRBbW91bnRzX2FmdGVyX2lmX2Vsc2VANAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czo1NgogICAgLy8gY3JlYXRvckFtb3VudCA9IDEKICAgIGludGNfMSAvLyAxCiAgICBmcmFtZV9idXJ5IDgKCmdldEFtb3VudHNfYWZ0ZXJfaWZfZWxzZUA0OgogICAgZnJhbWVfZGlnIDgKICAgIGZyYW1lX2J1cnkgNwogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbnN0YW50cy50czoxCiAgICAvLyBleHBvcnQgY29uc3QgR2xvYmFsU3RhdGVLZXlBa2l0YURBTyA9ICdha2l0YV9kYW8nCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMSAvLyAiYWtpdGFfZGFvIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kYW8vY29uc3RhbnRzLnRzOjEzCiAgICAvLyBleHBvcnQgY29uc3QgQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNORlRGZWVzID0gJ25mdF9mZWVzJwogICAgYnl0ZWMgMTQgLy8gIm5mdF9mZWVzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo1OAogICAgLy8gY29uc3QgW25mdEZlZXNCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhha2l0YURBTywgQnl0ZXMoQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNORlRGZWVzKSkKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6NTkKICAgIC8vIHJldHVybiBkZWNvZGVBcmM0PE5GVEZlZXM+KG5mdEZlZXNCeXRlcykKICAgIGR1cAogICAgcHVzaGludCA4IC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBmcmFtZV9idXJ5IDYKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICBmcmFtZV9idXJ5IDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb25zdGFudHMudHM6MQogICAgLy8gZXhwb3J0IGNvbnN0IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gPSAnYWtpdGFfZGFvJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzEgLy8gImFraXRhX2RhbyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjUKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlTZWxsZXIgPSAnc2VsbGVyJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzIgLy8gInNlbGxlciIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjg5LTk2CiAgICAvLyByZXR1cm4gYWJpQ2FsbCgKICAgIC8vICAgQWtpdGFTb2NpYWxJbXBhY3QucHJvdG90eXBlLmdldFVzZXJJbXBhY3QsCiAgICAvLyAgIHsKICAgIC8vICAgICBhcHBJZDogZ2V0UGx1Z2luQXBwTGlzdChha2l0YURBTykuaW1wYWN0LAogICAgLy8gICAgIGFyZ3M6IFtuZXcgQWRkcmVzcyhhY2NvdW50KV0sCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9CiAgICAvLyApLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI4CiAgICAvLyBjb25zdCBbcGx1Z2luQXBwTGlzdEJ5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKGFraXRhREFPLCBCeXRlcyhBa2l0YURBT0dsb2JhbFN0YXRlS2V5c1BsdWdpbkFwcExpc3QpKQogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL2Rhby9jb25zdGFudHMudHM6NwogICAgLy8gZXhwb3J0IGNvbnN0IEFraXRhREFPR2xvYmFsU3RhdGVLZXlzUGx1Z2luQXBwTGlzdCA9ICdwbHVnbl9hbCcKICAgIHB1c2hieXRlcyAicGx1Z25fYWwiCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjI4CiAgICAvLyBjb25zdCBbcGx1Z2luQXBwTGlzdEJ5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKGFraXRhREFPLCBCeXRlcyhBa2l0YURBT0dsb2JhbFN0YXRlS2V5c1BsdWdpbkFwcExpc3QpKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czoyOQogICAgLy8gcmV0dXJuIGRlY29kZUFyYzQ8UGx1Z2luQXBwTGlzdD4ocGx1Z2luQXBwTGlzdEJ5dGVzKQogICAgcHVzaGludCAxNiAvLyAxNgogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6ODktOTYKICAgIC8vIHJldHVybiBhYmlDYWxsKAogICAgLy8gICBBa2l0YVNvY2lhbEltcGFjdC5wcm90b3R5cGUuZ2V0VXNlckltcGFjdCwKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiBnZXRQbHVnaW5BcHBMaXN0KGFraXRhREFPKS5pbXBhY3QsCiAgICAvLyAgICAgYXJnczogW25ldyBBZGRyZXNzKGFjY291bnQpXSwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0KICAgIC8vICkucmV0dXJuVmFsdWUKICAgIHB1c2hieXRlcyAweGQ1NzRiYjEwIC8vIG1ldGhvZCAiZ2V0VXNlckltcGFjdChhZGRyZXNzKXVpbnQ2NCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpbnRjXzMgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo5NAogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjg5LTk2CiAgICAvLyByZXR1cm4gYWJpQ2FsbCgKICAgIC8vICAgQWtpdGFTb2NpYWxJbXBhY3QucHJvdG90eXBlLmdldFVzZXJJbXBhY3QsCiAgICAvLyAgIHsKICAgIC8vICAgICBhcHBJZDogZ2V0UGx1Z2luQXBwTGlzdChha2l0YURBTykuaW1wYWN0LAogICAgLy8gICAgIGFyZ3M6IFtuZXcgQWRkcmVzcyhhY2NvdW50KV0sCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9CiAgICAvLyApLnJldHVyblZhbHVlCiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBzd2FwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWMgOCAvLyAweDE1MWY3Yzc1CiAgICA9PQogICAgYXNzZXJ0IC8vIEJ5dGVzIGhhcyB2YWxpZCBwcmVmaXgKICAgIGJ0b2kKICAgIGR1cAogICAgZnJhbWVfYnVyeSAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjg0CiAgICAvLyBjb25zdCBtaW5JbXBhY3Q6IHVpbnQ2NCA9IChpbXBhY3QgPiAxKSA/IGltcGFjdCAtIDEgOiAxCiAgICBpbnRjXzEgLy8gMQogICAgPgogICAgYnogZ2V0QW1vdW50c190ZXJuYXJ5X2ZhbHNlQDE2CiAgICBmcmFtZV9kaWcgMgogICAgaW50Y18xIC8vIDEKICAgIC0KCmdldEFtb3VudHNfdGVybmFyeV9tZXJnZUAxNzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6ODUKICAgIC8vIHJldHVybiBtYXggLSAoKChtYXggLSBtaW4pICogbWluSW1wYWN0KSAvIElNUEFDVF9ESVZJU09SKQogICAgZnJhbWVfZGlnIDUKICAgIGR1cAogICAgZnJhbWVfZGlnIDYKICAgIC0KICAgIHVuY292ZXIgMgogICAgKgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czoxNQogICAgLy8gZXhwb3J0IGNvbnN0IElNUEFDVF9ESVZJU09SOiB1aW50NjQgPSAxXzAwMAogICAgcHVzaGludCAxMDAwIC8vIDEwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6ODUKICAgIC8vIHJldHVybiBtYXggLSAoKChtYXggLSBtaW4pICogbWluSW1wYWN0KSAvIElNUEFDVF9ESVZJU09SKQogICAgLwogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo2OAogICAgLy8gYXNzZXJ0KHAgPD0gRElWSVNPUiwgRVJSX0lOVkFMSURfUEVSQ0VOVEFHRSkKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czoxNgogICAgLy8gZXhwb3J0IGNvbnN0IERJVklTT1I6IHVpbnQ2NCA9IDEwMF8wMDAKICAgIGludGMgNCAvLyAxMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6NjgKICAgIC8vIGFzc2VydChwIDw9IERJVklTT1IsIEVSUl9JTlZBTElEX1BFUkNFTlRBR0UpCiAgICA8PQogICAgYXNzZXJ0IC8vIEludmFsaWQgcGVyY2VudGFnZQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo2OQogICAgLy8gcmV0dXJuIG9wLmRpdncoLi4ub3AubXVsdyhhLCBwKSwgRElWSVNPUikKICAgIGZyYW1lX2RpZyAtMQogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czoxNgogICAgLy8gZXhwb3J0IGNvbnN0IERJVklTT1I6IHVpbnQ2NCA9IDEwMF8wMDAKICAgIGludGMgNCAvLyAxMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9mdW5jdGlvbnMudHM6NjkKICAgIC8vIHJldHVybiBvcC5kaXZ3KC4uLm9wLm11bHcoYSwgcCksIERJVklTT1IpCiAgICBkaXZ3CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6NjcKICAgIC8vIGlmIChha2l0YUFtb3VudCA9PT0gMCAmJiBhbW91bnQgPiAwKSB7CiAgICBibnogZ2V0QW1vdW50c19hZnRlcl9pZl9lbHNlQDcKICAgIGZyYW1lX2RpZyAwCiAgICBmcmFtZV9idXJ5IDEKICAgIGZyYW1lX2RpZyAtMQogICAgYnogZ2V0QW1vdW50c19hZnRlcl9pZl9lbHNlQDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6NjgKICAgIC8vIGFraXRhQW1vdW50ID0gMQogICAgaW50Y18xIC8vIDEKICAgIGZyYW1lX2J1cnkgMQoKZ2V0QW1vdW50c19hZnRlcl9pZl9lbHNlQDc6CiAgICBmcmFtZV9kaWcgMQogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjgKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlNYXJrZXRwbGFjZVJveWFsdGllcyA9ICdtYXJrZXRwbGFjZV9yb3lhbHRpZXMnCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgMTEgLy8gIm1hcmtldHBsYWNlX3JveWFsdGllcyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjY4CiAgICAvLyBhc3NlcnQocCA8PSBESVZJU09SLCBFUlJfSU5WQUxJRF9QRVJDRU5UQUdFKQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvY29uc3RhbnRzLnRzOjE2CiAgICAvLyBleHBvcnQgY29uc3QgRElWSVNPUjogdWludDY0ID0gMTAwXzAwMAogICAgaW50YyA0IC8vIDEwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo2OAogICAgLy8gYXNzZXJ0KHAgPD0gRElWSVNPUiwgRVJSX0lOVkFMSURfUEVSQ0VOVEFHRSkKICAgIDw9CiAgICBhc3NlcnQgLy8gSW52YWxpZCBwZXJjZW50YWdlCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjY5CiAgICAvLyByZXR1cm4gb3AuZGl2dyguLi5vcC5tdWx3KGEsIHApLCBESVZJU09SKQogICAgZnJhbWVfZGlnIC0xCiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvY29uc3RhbnRzLnRzOjE2CiAgICAvLyBleHBvcnQgY29uc3QgRElWSVNPUjogdWludDY0ID0gMTAwXzAwMAogICAgaW50YyA0IC8vIDEwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo2OQogICAgLy8gcmV0dXJuIG9wLmRpdncoLi4ub3AubXVsdyhhLCBwKSwgRElWSVNPUikKICAgIGRpdncKICAgIGR1cAogICAgZnJhbWVfYnVyeSAzCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgNAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czo3MgogICAgLy8gaWYgKG1hcmtldHBsYWNlQW1vdW50ID09PSAwICYmIHRoaXMubWFya2V0cGxhY2VSb3lhbHRpZXMudmFsdWUgPiAwICYmIGFtb3VudCA+IDApIHsKICAgIGJueiBnZXRBbW91bnRzX2FmdGVyX2lmX2Vsc2VAMTEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6OAogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleU1hcmtldHBsYWNlUm95YWx0aWVzID0gJ21hcmtldHBsYWNlX3JveWFsdGllcycKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyAxMSAvLyAibWFya2V0cGxhY2Vfcm95YWx0aWVzIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGZyYW1lX2RpZyAzCiAgICBmcmFtZV9idXJ5IDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6NzIKICAgIC8vIGlmIChtYXJrZXRwbGFjZUFtb3VudCA9PT0gMCAmJiB0aGlzLm1hcmtldHBsYWNlUm95YWx0aWVzLnZhbHVlID4gMCAmJiBhbW91bnQgPiAwKSB7CiAgICBieiBnZXRBbW91bnRzX2FmdGVyX2lmX2Vsc2VAMTEKICAgIGZyYW1lX2RpZyAzCiAgICBmcmFtZV9idXJ5IDQKICAgIGZyYW1lX2RpZyAtMQogICAgYnogZ2V0QW1vdW50c19hZnRlcl9pZl9lbHNlQDExCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjczCiAgICAvLyBtYXJrZXRwbGFjZUFtb3VudCA9IDEKICAgIGludGNfMSAvLyAxCiAgICBmcmFtZV9idXJ5IDQKCmdldEFtb3VudHNfYWZ0ZXJfaWZfZWxzZUAxMToKICAgIGZyYW1lX2RpZyA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjc2CiAgICAvLyBjb25zdCBzZWxsZXJBbW91bnQ6IHVpbnQ2NCA9IGFtb3VudCAtIChjcmVhdG9yQW1vdW50ICsgYWtpdGFBbW91bnQgKyAoMiAqIG1hcmtldHBsYWNlQW1vdW50KSkKICAgIGZyYW1lX2RpZyA3CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGZyYW1lX2RpZyAwCiAgICBkdXAKICAgIGNvdmVyIDQKICAgICsKICAgIHB1c2hpbnQgMiAvLyAyCiAgICBkaWcgMgogICAgKgogICAgKwogICAgZnJhbWVfZGlnIC0xCiAgICBzd2FwCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjc4LTgzCiAgICAvLyByZXR1cm4gewogICAgLy8gICBjcmVhdG9yOiBjcmVhdG9yQW1vdW50LAogICAgLy8gICBha2l0YTogYWtpdGFBbW91bnQsCiAgICAvLyAgIG1hcmtldHBsYWNlOiBtYXJrZXRwbGFjZUFtb3VudCwKICAgIC8vICAgc2VsbGVyOiBzZWxsZXJBbW91bnQsCiAgICAvLyB9CiAgICB1bmNvdmVyIDIKICAgIGNvdmVyIDMKICAgIGZyYW1lX2J1cnkgMwogICAgZnJhbWVfYnVyeSAyCiAgICBmcmFtZV9idXJ5IDEKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgpnZXRBbW91bnRzX3Rlcm5hcnlfZmFsc2VAMTY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjg0CiAgICAvLyBjb25zdCBtaW5JbXBhY3Q6IHVpbnQ2NCA9IChpbXBhY3QgPiAxKSA/IGltcGFjdCAtIDEgOiAxCiAgICBpbnRjXzEgLy8gMQogICAgYiBnZXRBbW91bnRzX3Rlcm5hcnlfbWVyZ2VAMTcKCgovLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjpMaXN0aW5nLnRyYW5zZmVyUHVyY2hhc2VUb0J1eWVyKGJ1eWVyOiBieXRlcykgLT4gdm9pZDoKdHJhbnNmZXJQdXJjaGFzZVRvQnV5ZXI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjg2CiAgICAvLyBwcml2YXRlIHRyYW5zZmVyUHVyY2hhc2VUb0J1eWVyKGJ1eWVyOiBBY2NvdW50KTogdm9pZCB7CiAgICBwcm90byAxIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MgogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleUlzUHJpemVCb3ggPSAnaXNfcHJpemVfYm94JwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDkgLy8gImlzX3ByaXplX2JveCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjg3CiAgICAvLyBpZiAodGhpcy5pc1ByaXplQm94LnZhbHVlKSB7CiAgICBieiB0cmFuc2ZlclB1cmNoYXNlVG9CdXllcl9hZnRlcl9pZl9lbHNlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6ODgtOTUKICAgIC8vIGFiaUNhbGwoCiAgICAvLyAgIFByaXplQm94LnByb3RvdHlwZS50cmFuc2ZlciwKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiB0aGlzLnByaXplLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFtuZXcgQWRkcmVzcyhidXllcildLAogICAgLy8gICAgIGZlZSwKICAgIC8vICAgfQogICAgLy8gKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czoxCiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5UHJpemUgPSAncHJpemUnCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMyAvLyAicHJpemUiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czo4OC05NQogICAgLy8gYWJpQ2FsbCgKICAgIC8vICAgUHJpemVCb3gucHJvdG90eXBlLnRyYW5zZmVyLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMucHJpemUudmFsdWUsCiAgICAvLyAgICAgYXJnczogW25ldyBBZGRyZXNzKGJ1eWVyKV0sCiAgICAvLyAgICAgZmVlLAogICAgLy8gICB9CiAgICAvLyApCiAgICBieXRlYyAxMiAvLyBtZXRob2QgInRyYW5zZmVyKGFkZHJlc3Mpdm9pZCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIGludGNfMyAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBmZWU6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czo4OC05NQogICAgLy8gYWJpQ2FsbCgKICAgIC8vICAgUHJpemVCb3gucHJvdG90eXBlLnRyYW5zZmVyLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMucHJpemUudmFsdWUsCiAgICAvLyAgICAgYXJnczogW25ldyBBZGRyZXNzKGJ1eWVyKV0sCiAgICAvLyAgICAgZmVlLAogICAgLy8gICB9CiAgICAvLyApCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czo5NgogICAgLy8gcmV0dXJuCiAgICByZXRzdWIKCnRyYW5zZmVyUHVyY2hhc2VUb0J1eWVyX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MQogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVByaXplID0gJ3ByaXplJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzMgLy8gInByaXplIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjEwMQogICAgLy8gaWYgKGJ1eWVyLmlzT3B0ZWRJbihwcml6ZUFzc2V0KSkgewogICAgZnJhbWVfZGlnIC0xCiAgICBzd2FwCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIGJ1cnkgMQogICAgYnogdHJhbnNmZXJQdXJjaGFzZVRvQnV5ZXJfZWxzZV9ib2R5QDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTAzLTEwNwogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRDbG9zZVRvOiBidXllciwKICAgIC8vICAgeGZlckFzc2V0OiBwcml6ZUFzc2V0LAogICAgLy8gICBmZWUsCiAgICAvLyB9KS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGZyYW1lX2RpZyAtMQogICAgaXR4bl9maWVsZCBBc3NldENsb3NlVG8KICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBmZWU6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoxMDMtMTA3CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldENsb3NlVG86IGJ1eWVyLAogICAgLy8gICB4ZmVyQXNzZXQ6IHByaXplQXNzZXQsCiAgICAvLyAgIGZlZSwKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgcmV0c3ViCgp0cmFuc2ZlclB1cmNoYXNlVG9CdXllcl9lbHNlX2JvZHlANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb25zdGFudHMudHM6MQogICAgLy8gZXhwb3J0IGNvbnN0IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gPSAnYWtpdGFfZGFvJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzEgLy8gImFraXRhX2RhbyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjExMwogICAgLy8gcHJpemVBc3NldC5iYWxhbmNlKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzKSwKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICB1bmNvdmVyIDIKICAgIGR1cAogICAgY292ZXIgMgogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjEwOS0xMTUKICAgIC8vIGFyYzU5T3B0SW5BbmRTZW5kKAogICAgLy8gICB0aGlzLmFraXRhREFPLnZhbHVlLAogICAgLy8gICBuZXcgQWRkcmVzcyhidXllciksCiAgICAvLyAgIHByaXplQXNzZXQuaWQsCiAgICAvLyAgIHByaXplQXNzZXQuYmFsYW5jZShHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcyksCiAgICAvLyAgIHRydWUKICAgIC8vICkKICAgIHVuY292ZXIgMgogICAgZnJhbWVfZGlnIC0xCiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgMwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoxMTQKICAgIC8vIHRydWUKICAgIGludGNfMSAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjEwOS0xMTUKICAgIC8vIGFyYzU5T3B0SW5BbmRTZW5kKAogICAgLy8gICB0aGlzLmFraXRhREFPLnZhbHVlLAogICAgLy8gICBuZXcgQWRkcmVzcyhidXllciksCiAgICAvLyAgIHByaXplQXNzZXQuaWQsCiAgICAvLyAgIHByaXplQXNzZXQuYmFsYW5jZShHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcyksCiAgICAvLyAgIHRydWUKICAgIC8vICkKICAgIGNhbGxzdWIgYXJjNTlPcHRJbkFuZFNlbmQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6Okxpc3RpbmcuY3JlYXRlQXBwbGljYXRpb24ocHJpemU6IHVpbnQ2NCwgaXNQcml6ZUJveDogdWludDY0LCBwcmljZTogdWludDY0LCBwYXltZW50QXNzZXQ6IHVpbnQ2NCwgZXhwaXJhdGlvbjogdWludDY0LCBzZWxsZXI6IGJ5dGVzLCByZXNlcnZlZEZvcjogYnl0ZXMsIGNyZWF0b3JSb3lhbHR5OiB1aW50NjQsIGdhdGVJRDogdWludDY0LCBtYXJrZXRwbGFjZTogYnl0ZXMsIHZlcnNpb246IGJ5dGVzLCBha2l0YURBTzogdWludDY0KSAtPiB2b2lkOgpjcmVhdGVBcHBsaWNhdGlvbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MjQzLTI1NgogICAgLy8gY3JlYXRlQXBwbGljYXRpb24oCiAgICAvLyAgIHByaXplOiB1aW50NjQsCiAgICAvLyAgIGlzUHJpemVCb3g6IGJvb2xlYW4sCiAgICAvLyAgIHByaWNlOiB1aW50NjQsCiAgICAvLyAgIHBheW1lbnRBc3NldDogdWludDY0LAogICAgLy8gICBleHBpcmF0aW9uOiB1aW50NjQsCiAgICAvLyAgIHNlbGxlcjogQWRkcmVzcywKICAgIC8vICAgcmVzZXJ2ZWRGb3I6IEFkZHJlc3MsCiAgICAvLyAgIGNyZWF0b3JSb3lhbHR5OiB1aW50NjQsCiAgICAvLyAgIGdhdGVJRDogdWludDY0LAogICAgLy8gICBtYXJrZXRwbGFjZTogQWRkcmVzcywKICAgIC8vICAgdmVyc2lvbjogc3RyaW5nLAogICAgLy8gICBha2l0YURBTzogdWludDY0CiAgICAvLyApOiB2b2lkIHsKICAgIHByb3RvIDEyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MjU3CiAgICAvLyBhc3NlcnQoR2xvYmFsLmNhbGxlckFwcGxpY2F0aW9uSWQgIT09IDAsIEVSUl9NVVNUX0JFX0NBTExFRF9GUk9NX0ZBQ1RPUlkpCiAgICBnbG9iYWwgQ2FsbGVyQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIG11c3QgYmUgY2FsbGVkIGZyb20gdGhlIGZhY3RvcnkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MQogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVByaXplID0gJ3ByaXplJwogICAgYnl0ZWNfMyAvLyAicHJpemUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI1OQogICAgLy8gdGhpcy5wcml6ZS52YWx1ZSA9IHByaXplCiAgICBmcmFtZV9kaWcgLTEyCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czoyCiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5SXNQcml6ZUJveCA9ICdpc19wcml6ZV9ib3gnCiAgICBieXRlYyA5IC8vICJpc19wcml6ZV9ib3giCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI2MAogICAgLy8gdGhpcy5pc1ByaXplQm94LnZhbHVlID0gaXNQcml6ZUJveAogICAgZnJhbWVfZGlnIC0xMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MwogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVByaWNlID0gJ3ByaWNlJwogICAgYnl0ZWMgNCAvLyAicHJpY2UiCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI2MQogICAgLy8gdGhpcy5wcmljZS52YWx1ZSA9IHByaWNlCiAgICBmcmFtZV9kaWcgLTEwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5UGF5bWVudEFzc2V0ID0gJ3BheW1lbnRfYXNzZXQnCiAgICBieXRlY18wIC8vICJwYXltZW50X2Fzc2V0IgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoyNjIKICAgIC8vIHRoaXMucGF5bWVudEFzc2V0LnZhbHVlID0gQXNzZXQocGF5bWVudEFzc2V0KQogICAgZnJhbWVfZGlnIC05CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoyNjMKICAgIC8vIGFzc2VydChleHBpcmF0aW9uID09PSAwIHx8IGV4cGlyYXRpb24gPiBHbG9iYWwubGF0ZXN0VGltZXN0YW1wLCBFUlJfSU5WQUxJRF9FWFBJUkFUSU9OKQogICAgZnJhbWVfZGlnIC04CiAgICBieiBjcmVhdGVBcHBsaWNhdGlvbl9ib29sX3RydWVAMgogICAgZnJhbWVfZGlnIC04CiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICA+CiAgICBieiBjcmVhdGVBcHBsaWNhdGlvbl9ib29sX2ZhbHNlQDMKCmNyZWF0ZUFwcGxpY2F0aW9uX2Jvb2xfdHJ1ZUAyOgogICAgaW50Y18xIC8vIDEKCmNyZWF0ZUFwcGxpY2F0aW9uX2Jvb2xfbWVyZ2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MjYzCiAgICAvLyBhc3NlcnQoZXhwaXJhdGlvbiA9PT0gMCB8fCBleHBpcmF0aW9uID4gR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCwgRVJSX0lOVkFMSURfRVhQSVJBVElPTikKICAgIGFzc2VydCAvLyBpbnZhbGlkIGV4cGlyYXRpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6OQogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleUV4cGlyYXRpb24gPSAnZXhwaXJhdGlvbicKICAgIGJ5dGVjIDUgLy8gImV4cGlyYXRpb24iCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI2NAogICAgLy8gdGhpcy5leHBpcmF0aW9uLnZhbHVlID0gZXhwaXJhdGlvbgogICAgZnJhbWVfZGlnIC04CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo1CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5U2VsbGVyID0gJ3NlbGxlcicKICAgIGJ5dGVjXzIgLy8gInNlbGxlciIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MjY1CiAgICAvLyB0aGlzLnNlbGxlci52YWx1ZSA9IHNlbGxlci5uYXRpdmUKICAgIGZyYW1lX2RpZyAtNwogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MTAKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlSZXNlcnZlZEZvciA9ICdyZXNlcnZlZF9mb3InCiAgICBieXRlYyA2IC8vICJyZXNlcnZlZF9mb3IiCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI2NgogICAgLy8gdGhpcy5yZXNlcnZlZEZvci52YWx1ZSA9IHJlc2VydmVkRm9yCiAgICBmcmFtZV9kaWcgLTYKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjcKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlDcmVhdG9yUm95YWx0eSA9ICdjcmVhdG9yX3JveWFsdHknCiAgICBieXRlYyAxMCAvLyAiY3JlYXRvcl9yb3lhbHR5IgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoyNjcKICAgIC8vIHRoaXMuY3JlYXRvclJveWFsdHkudmFsdWUgPSBjcmVhdG9yUm95YWx0eQogICAgZnJhbWVfZGlnIC01CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czoxMQogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleUdhdGVJRCA9ICdnYXRlX2lkJwogICAgYnl0ZWMgMTMgLy8gImdhdGVfaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI2OAogICAgLy8gdGhpcy5nYXRlSUQudmFsdWUgPSBnYXRlSUQKICAgIGZyYW1lX2RpZyAtNAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6NgogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleU1hcmtldHBsYWNlID0gJ21hcmtldHBsYWNlJwogICAgYnl0ZWMgNyAvLyAibWFya2V0cGxhY2UiCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI2OQogICAgLy8gdGhpcy5tYXJrZXRwbGFjZS52YWx1ZSA9IG1hcmtldHBsYWNlLm5hdGl2ZQogICAgZnJhbWVfZGlnIC0zCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbnN0YW50cy50czozCiAgICAvLyBleHBvcnQgY29uc3QgR2xvYmFsU3RhdGVLZXlWZXJzaW9uID0gJ3ZlcnNpb24nCiAgICBieXRlYyAxNSAvLyAidmVyc2lvbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MjcwCiAgICAvLyB0aGlzLnZlcnNpb24udmFsdWUgPSB2ZXJzaW9uCiAgICBmcmFtZV9kaWcgLTIKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBHbG9iYWxTdGF0ZUtleUFraXRhREFPID0gJ2FraXRhX2RhbycKICAgIGJ5dGVjXzEgLy8gImFraXRhX2RhbyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MjcxCiAgICAvLyB0aGlzLmFraXRhREFPLnZhbHVlID0gQXBwbGljYXRpb24oYWtpdGFEQU8pCiAgICBmcmFtZV9kaWcgLTEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBHbG9iYWxTdGF0ZUtleUFraXRhREFPID0gJ2FraXRhX2RhbycKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18xIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgc3dhcAogICAgZnJhbWVfYnVyeSAtMQogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo1OAogICAgLy8gY29uc3QgW25mdEZlZXNCeXRlc10gPSBvcC5BcHBHbG9iYWwuZ2V0RXhCeXRlcyhha2l0YURBTywgQnl0ZXMoQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNORlRGZWVzKSkKICAgIGZyYW1lX2RpZyAtMQogICAgLy8gc21hcnRfY29udHJhY3RzL2Rhby9jb25zdGFudHMudHM6MTMKICAgIC8vIGV4cG9ydCBjb25zdCBBa2l0YURBT0dsb2JhbFN0YXRlS2V5c05GVEZlZXMgPSAnbmZ0X2ZlZXMnCiAgICBieXRlYyAxNCAvLyAibmZ0X2ZlZXMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvZnVuY3Rpb25zLnRzOjU4CiAgICAvLyBjb25zdCBbbmZ0RmVlc0J5dGVzXSA9IG9wLkFwcEdsb2JhbC5nZXRFeEJ5dGVzKGFraXRhREFPLCBCeXRlcyhBa2l0YURBT0dsb2JhbFN0YXRlS2V5c05GVEZlZXMpKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Z1bmN0aW9ucy50czo1OQogICAgLy8gcmV0dXJuIGRlY29kZUFyYzQ8TkZURmVlcz4obmZ0RmVlc0J5dGVzKQogICAgcHVzaGludCAyNCAvLyAyNAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6OAogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleU1hcmtldHBsYWNlUm95YWx0aWVzID0gJ21hcmtldHBsYWNlX3JveWFsdGllcycKICAgIGJ5dGVjIDExIC8vICJtYXJrZXRwbGFjZV9yb3lhbHRpZXMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI3NAogICAgLy8gdGhpcy5tYXJrZXRwbGFjZVJveWFsdGllcy52YWx1ZSA9IGdldE5GVEZlZXModGhpcy5ha2l0YURBTy52YWx1ZSkubWFya2V0cGxhY2VDb21wb3NhYmxlUGVyY2VudGFnZQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIHJldHN1YgoKY3JlYXRlQXBwbGljYXRpb25fYm9vbF9mYWxzZUAzOgogICAgaW50Y18wIC8vIDAKICAgIGIgY3JlYXRlQXBwbGljYXRpb25fYm9vbF9tZXJnZUA0CgoKLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czo6TGlzdGluZy5wdXJjaGFzZShwYXltZW50OiB1aW50NjQsIGJ1eWVyOiBieXRlcywgbWFya2V0cGxhY2U6IGJ5dGVzLCBhcmdzOiBieXRlcykgLT4gdm9pZDoKcHVyY2hhc2U6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI4OC0yOTQKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdEZWxldGVBcHBsaWNhdGlvbicgfSkKICAgIC8vIHB1cmNoYXNlKAogICAgLy8gICBwYXltZW50OiBndHhuLlBheW1lbnRUeG4sCiAgICAvLyAgIGJ1eWVyOiBBZGRyZXNzLAogICAgLy8gICBtYXJrZXRwbGFjZTogQWRkcmVzcywKICAgIC8vICAgYXJnczogR2F0ZUFyZ3MKICAgIC8vICk6IHZvaWQgewogICAgcHJvdG8gNCAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI5NQogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IEdsb2JhbC5jcmVhdG9yQWRkcmVzcywgRVJSX01VU1RfQkVfQ0FMTEVEX0ZST01fRkFDVE9SWSkKICAgIHR4biBTZW5kZXIKICAgIGdsb2JhbCBDcmVhdG9yQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBtdXN0IGJlIGNhbGxlZCBmcm9tIHRoZSBmYWN0b3J5CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlQYXltZW50QXNzZXQgPSAncGF5bWVudF9hc3NldCcKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJwYXltZW50X2Fzc2V0IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6Mjk2CiAgICAvLyBhc3NlcnQodGhpcy5wYXltZW50QXNzZXQudmFsdWUuaWQgPT09IDAsIEVSUl9QQVlNRU5UX0FTU0VUX01VU1RfQkVfQUxHTykKICAgICEKICAgIGFzc2VydCAvLyBwYXltZW50IGFzc2V0IG11c3QgYmUgYWxnbwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo5CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5RXhwaXJhdGlvbiA9ICdleHBpcmF0aW9uJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDUgLy8gImV4cGlyYXRpb24iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoyOTcKICAgIC8vIGFzc2VydCh0aGlzLmV4cGlyYXRpb24udmFsdWUgPT09IDAgfHwgdGhpcy5leHBpcmF0aW9uLnZhbHVlID4gR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCwgRVJSX0xJU1RJTkdfRVhQSVJFRCkKICAgIGJ6IHB1cmNoYXNlX2Jvb2xfdHJ1ZUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjkKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlFeHBpcmF0aW9uID0gJ2V4cGlyYXRpb24nCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNSAvLyAiZXhwaXJhdGlvbiIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI5NwogICAgLy8gYXNzZXJ0KHRoaXMuZXhwaXJhdGlvbi52YWx1ZSA9PT0gMCB8fCB0aGlzLmV4cGlyYXRpb24udmFsdWUgPiBHbG9iYWwubGF0ZXN0VGltZXN0YW1wLCBFUlJfTElTVElOR19FWFBJUkVEKQogICAgZ2xvYmFsIExhdGVzdFRpbWVzdGFtcAogICAgPgogICAgYnogcHVyY2hhc2VfYm9vbF9mYWxzZUAzCgpwdXJjaGFzZV9ib29sX3RydWVAMjoKICAgIGludGNfMSAvLyAxCgpwdXJjaGFzZV9ib29sX21lcmdlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI5NwogICAgLy8gYXNzZXJ0KHRoaXMuZXhwaXJhdGlvbi52YWx1ZSA9PT0gMCB8fCB0aGlzLmV4cGlyYXRpb24udmFsdWUgPiBHbG9iYWwubGF0ZXN0VGltZXN0YW1wLCBFUlJfTElTVElOR19FWFBJUkVEKQogICAgYXNzZXJ0IC8vIGxpc3RpbmcgZXhwaXJlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbnN0YW50cy50czoxCiAgICAvLyBleHBvcnQgY29uc3QgR2xvYmFsU3RhdGVLZXlBa2l0YURBTyA9ICdha2l0YV9kYW8nCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMSAvLyAiYWtpdGFfZGFvIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MTEKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlHYXRlSUQgPSAnZ2F0ZV9pZCcKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyAxMyAvLyAiZ2F0ZV9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjI5OAogICAgLy8gYXNzZXJ0KGdhdGVDaGVjayh0aGlzLmFraXRhREFPLnZhbHVlLCBidXllciwgdGhpcy5nYXRlSUQudmFsdWUsIGFyZ3MpLCBFUlJfRkFJTEVEX0dBVEUpCiAgICBmcmFtZV9kaWcgLTMKICAgIHN3YXAKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBnYXRlQ2hlY2sKICAgIGZyYW1lX2J1cnkgLTEKICAgIGFzc2VydCAvLyBHYXRlIGNoZWNrIGZhaWxlZAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czoxMAogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVJlc2VydmVkRm9yID0gJ3Jlc2VydmVkX2ZvcicKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA2IC8vICJyZXNlcnZlZF9mb3IiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozMDAKICAgIC8vIGlmICh0aGlzLnJlc2VydmVkRm9yLnZhbHVlLm5hdGl2ZSAhPT0gR2xvYmFsLnplcm9BZGRyZXNzKSB7CiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgICE9CiAgICBieiBwdXJjaGFzZV9hZnRlcl9pZl9lbHNlQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MTAKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlSZXNlcnZlZEZvciA9ICdyZXNlcnZlZF9mb3InCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNiAvLyAicmVzZXJ2ZWRfZm9yIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MzAxCiAgICAvLyBhc3NlcnQoYnV5ZXIgPT09IHRoaXMucmVzZXJ2ZWRGb3IudmFsdWUsIEVSUl9SRVNFUlZFRF9GT1JfRElGRkVSRU5UX0FERFJFU1MpCiAgICBmcmFtZV9kaWcgLTMKICAgID09CiAgICBhc3NlcnQgLy8gcmVzZXJ2ZWQgZm9yIGRpZmZlcmVudCBhZGRyZXNzCgpwdXJjaGFzZV9hZnRlcl9pZl9lbHNlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjMwNC0zMTIKICAgIC8vIGFzc2VydE1hdGNoKAogICAgLy8gICBwYXltZW50LAogICAgLy8gICB7CiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3JlYXRvckFkZHJlc3MsCiAgICAvLyAgICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFtb3VudDogdGhpcy5wcmljZS52YWx1ZSwKICAgIC8vICAgfSwKICAgIC8vICAgRVJSX0lOVkFMSURfUEFZTUVOVAogICAgLy8gKQogICAgZnJhbWVfZGlnIC00CiAgICBndHhucyBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MzA3CiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jcmVhdG9yQWRkcmVzcywKICAgIGdsb2JhbCBDcmVhdG9yQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozMDQtMzEyCiAgICAvLyBhc3NlcnRNYXRjaCgKICAgIC8vICAgcGF5bWVudCwKICAgIC8vICAgewogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmNyZWF0b3JBZGRyZXNzLAogICAgLy8gICAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhbW91bnQ6IHRoaXMucHJpY2UudmFsdWUsCiAgICAvLyAgIH0sCiAgICAvLyAgIEVSUl9JTlZBTElEX1BBWU1FTlQKICAgIC8vICkKICAgID09CiAgICBieiBwdXJjaGFzZV9ib29sX2ZhbHNlQDEwCiAgICBmcmFtZV9kaWcgLTQKICAgIGd0eG5zIFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjMwOAogICAgLy8gcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MzA0LTMxMgogICAgLy8gYXNzZXJ0TWF0Y2goCiAgICAvLyAgIHBheW1lbnQsCiAgICAvLyAgIHsKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jcmVhdG9yQWRkcmVzcywKICAgIC8vICAgICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYW1vdW50OiB0aGlzLnByaWNlLnZhbHVlLAogICAgLy8gICB9LAogICAgLy8gICBFUlJfSU5WQUxJRF9QQVlNRU5UCiAgICAvLyApCiAgICA9PQogICAgYnogcHVyY2hhc2VfYm9vbF9mYWxzZUAxMAogICAgZnJhbWVfZGlnIC00CiAgICBndHhucyBBbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MwogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVByaWNlID0gJ3ByaWNlJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDQgLy8gInByaWNlIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MzA0LTMxMgogICAgLy8gYXNzZXJ0TWF0Y2goCiAgICAvLyAgIHBheW1lbnQsCiAgICAvLyAgIHsKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jcmVhdG9yQWRkcmVzcywKICAgIC8vICAgICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYW1vdW50OiB0aGlzLnByaWNlLnZhbHVlLAogICAgLy8gICB9LAogICAgLy8gICBFUlJfSU5WQUxJRF9QQVlNRU5UCiAgICAvLyApCiAgICA9PQogICAgYnogcHVyY2hhc2VfYm9vbF9mYWxzZUAxMAogICAgaW50Y18xIC8vIDEKCnB1cmNoYXNlX2Jvb2xfbWVyZ2VAMTE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjMwNC0zMTIKICAgIC8vIGFzc2VydE1hdGNoKAogICAgLy8gICBwYXltZW50LAogICAgLy8gICB7CiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3JlYXRvckFkZHJlc3MsCiAgICAvLyAgICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFtb3VudDogdGhpcy5wcmljZS52YWx1ZSwKICAgIC8vICAgfSwKICAgIC8vICAgRVJSX0lOVkFMSURfUEFZTUVOVAogICAgLy8gKQogICAgYXNzZXJ0IC8vIEludmFsaWQgcGF5bWVudAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozMTQKICAgIC8vIHRoaXMudHJhbnNmZXJQdXJjaGFzZVRvQnV5ZXIoYnV5ZXIubmF0aXZlKQogICAgZnJhbWVfZGlnIC0zCiAgICBjYWxsc3ViIHRyYW5zZmVyUHVyY2hhc2VUb0J1eWVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjMKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlQcmljZSA9ICdwcmljZScKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA0IC8vICJwcmljZSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjEyMQogICAgLy8gY29uc3QgYW1vdW50cyA9IHRoaXMuZ2V0QW1vdW50cyh0aGlzLnByaWNlLnZhbHVlKQogICAgY2FsbHN1YiBnZXRBbW91bnRzCiAgICBjb3ZlciAzCiAgICBjb3ZlciAyCiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MQogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVByaXplID0gJ3ByaXplJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzMgLy8gInByaXplIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTI3CiAgICAvLyByZWNlaXZlcjogYXNzZXRQcml6ZS5jcmVhdG9yLAogICAgZHVwCiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0Q3JlYXRvcgogICAgYXNzZXJ0IC8vIGFzc2V0IGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo2CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5TWFya2V0cGxhY2UgPSAnbWFya2V0cGxhY2UnCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNyAvLyAibWFya2V0cGxhY2UiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoxNDkKICAgIC8vIG5vdGU6IFN0cmluZyhhc3NldFByaXplLm5hbWUpICsgJyBTb2xkJywKICAgIHVuY292ZXIgMgogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldE5hbWUKICAgIGFzc2VydCAvLyBhc3NldCBleGlzdHMKICAgIHB1c2hieXRlcyAiIFNvbGQiCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTUyCiAgICAvLyBpdHhuLnN1Ym1pdEdyb3VwKGNyZWF0b3JQYXksIG1hcmtldHBsYWNlUGF5LCBidXlpbmdNYXJrZXRwbGFjZVBheSwgc2VsbGVyUGF5KQogICAgaXR4bl9iZWdpbgogICAgdW5jb3ZlciAyCiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICB1bmNvdmVyIDIKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjEyNS0xMjkKICAgIC8vIGNvbnN0IGNyZWF0b3JQYXkgPSBpdHhuLnBheW1lbnQoewogICAgLy8gICBhbW91bnQ6IGFtb3VudHMuY3JlYXRvciwKICAgIC8vICAgcmVjZWl2ZXI6IGFzc2V0UHJpemUuY3JlYXRvciwKICAgIC8vICAgZmVlLAogICAgLy8gfSkKICAgIGludGNfMSAvLyAxCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBmZWU6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoxNTIKICAgIC8vIGl0eG4uc3VibWl0R3JvdXAoY3JlYXRvclBheSwgbWFya2V0cGxhY2VQYXksIGJ1eWluZ01hcmtldHBsYWNlUGF5LCBzZWxsZXJQYXkpCiAgICBpdHhuX25leHQKICAgIHN3YXAKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIGRpZyAxCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoxMzItMTM2CiAgICAvLyBjb25zdCBtYXJrZXRwbGFjZVBheSA9IGl0eG4ucGF5bWVudCh7CiAgICAvLyAgIGFtb3VudDogYW1vdW50cy5tYXJrZXRwbGFjZSwKICAgIC8vICAgcmVjZWl2ZXI6IHRoaXMubWFya2V0cGxhY2UudmFsdWUsCiAgICAvLyAgIGZlZSwKICAgIC8vIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgZmVlOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTUyCiAgICAvLyBpdHhuLnN1Ym1pdEdyb3VwKGNyZWF0b3JQYXksIG1hcmtldHBsYWNlUGF5LCBidXlpbmdNYXJrZXRwbGFjZVBheSwgc2VsbGVyUGF5KQogICAgaXR4bl9uZXh0CiAgICBmcmFtZV9kaWcgLTIKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIHN3YXAKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjEzOS0xNDMKICAgIC8vIGNvbnN0IGJ1eWluZ01hcmtldHBsYWNlUGF5ID0gaXR4bi5wYXltZW50KHsKICAgIC8vICAgYW1vdW50OiBhbW91bnRzLm1hcmtldHBsYWNlLAogICAgLy8gICByZWNlaXZlcjogbWFya2V0cGxhY2UubmF0aXZlLAogICAgLy8gICBmZWUsCiAgICAvLyB9KQogICAgaW50Y18xIC8vIDEKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9jb25zdGFudHMudHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IGZlZTogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjE1MgogICAgLy8gaXR4bi5zdWJtaXRHcm91cChjcmVhdG9yUGF5LCBtYXJrZXRwbGFjZVBheSwgYnV5aW5nTWFya2V0cGxhY2VQYXksIHNlbGxlclBheSkKICAgIGl0eG5fbmV4dAogICAgaXR4bl9maWVsZCBOb3RlCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoxNDYtMTUwCiAgICAvLyBjb25zdCBzZWxsZXJQYXkgPSBpdHhuLnBheW1lbnQoewogICAgLy8gICBhbW91bnQ6IGFtb3VudHMuc2VsbGVyLAogICAgLy8gICBmZWUsCiAgICAvLyAgIG5vdGU6IFN0cmluZyhhc3NldFByaXplLm5hbWUpICsgJyBTb2xkJywKICAgIC8vIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgZmVlOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTUyCiAgICAvLyBpdHhuLnN1Ym1pdEdyb3VwKGNyZWF0b3JQYXksIG1hcmtldHBsYWNlUGF5LCBidXlpbmdNYXJrZXRwbGFjZVBheSwgc2VsbGVyUGF5KQogICAgaXR4bl9zdWJtaXQKICAgIHJldHN1YgoKcHVyY2hhc2VfYm9vbF9mYWxzZUAxMDoKICAgIGludGNfMCAvLyAwCiAgICBiIHB1cmNoYXNlX2Jvb2xfbWVyZ2VAMTEKCnB1cmNoYXNlX2Jvb2xfZmFsc2VAMzoKICAgIGludGNfMCAvLyAwCiAgICBiIHB1cmNoYXNlX2Jvb2xfbWVyZ2VANAoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6Okxpc3RpbmcucHVyY2hhc2VBc2EoYXNzZXRYZmVyOiB1aW50NjQsIGJ1eWVyOiBieXRlcywgbWFya2V0cGxhY2U6IGJ5dGVzLCBhcmdzOiBieXRlcykgLT4gdm9pZDoKcHVyY2hhc2VBc2E6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjMyNi0zMzIKICAgIC8vIEBhYmltZXRob2QoeyBPbkNvbXBsZXRlQWN0aW9uOiAnRGVsZXRlQXBwbGljYXRpb24nIH0pCiAgICAvLyBwdXJjaGFzZUFzYSgKICAgIC8vICAgYXNzZXRYZmVyOiBndHhuLkFzc2V0VHJhbnNmZXJUeG4sCiAgICAvLyAgIGJ1eWVyOiBBZGRyZXNzLAogICAgLy8gICBtYXJrZXRwbGFjZTogQWRkcmVzcywKICAgIC8vICAgYXJnczogR2F0ZUFyZ3MKICAgIC8vICk6IHZvaWQgewogICAgcHJvdG8gNCAwCiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozMzMKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSBHbG9iYWwuY3JlYXRvckFkZHJlc3MsIEVSUl9NVVNUX0JFX0NBTExFRF9GUk9NX0ZBQ1RPUlkpCiAgICB0eG4gU2VuZGVyCiAgICBnbG9iYWwgQ3JlYXRvckFkZHJlc3MKICAgID09CiAgICBhc3NlcnQgLy8gbXVzdCBiZSBjYWxsZWQgZnJvbSB0aGUgZmFjdG9yeQogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5UGF5bWVudEFzc2V0ID0gJ3BheW1lbnRfYXNzZXQnCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMCAvLyAicGF5bWVudF9hc3NldCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjMzNAogICAgLy8gYXNzZXJ0KHRoaXMucGF5bWVudEFzc2V0LnZhbHVlLmlkICE9PSAwLCBFUlJfUEFZTUVOVF9BU1NFVF9NVVNUX05PVF9CRV9BTEdPKQogICAgYXNzZXJ0IC8vIHBheW1lbnQgYXNzZXQgbXVzdCBub3QgYmUgYWxnbwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo5CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5RXhwaXJhdGlvbiA9ICdleHBpcmF0aW9uJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDUgLy8gImV4cGlyYXRpb24iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozMzUKICAgIC8vIGFzc2VydCh0aGlzLmV4cGlyYXRpb24udmFsdWUgPT09IDAgfHwgdGhpcy5leHBpcmF0aW9uLnZhbHVlID4gR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCwgRVJSX0xJU1RJTkdfRVhQSVJFRCkKICAgIGJ6IHB1cmNoYXNlQXNhX2Jvb2xfdHJ1ZUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjkKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlFeHBpcmF0aW9uID0gJ2V4cGlyYXRpb24nCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNSAvLyAiZXhwaXJhdGlvbiIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjMzNQogICAgLy8gYXNzZXJ0KHRoaXMuZXhwaXJhdGlvbi52YWx1ZSA9PT0gMCB8fCB0aGlzLmV4cGlyYXRpb24udmFsdWUgPiBHbG9iYWwubGF0ZXN0VGltZXN0YW1wLCBFUlJfTElTVElOR19FWFBJUkVEKQogICAgZ2xvYmFsIExhdGVzdFRpbWVzdGFtcAogICAgPgogICAgYnogcHVyY2hhc2VBc2FfYm9vbF9mYWxzZUAzCgpwdXJjaGFzZUFzYV9ib29sX3RydWVAMjoKICAgIGludGNfMSAvLyAxCgpwdXJjaGFzZUFzYV9ib29sX21lcmdlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjMzNQogICAgLy8gYXNzZXJ0KHRoaXMuZXhwaXJhdGlvbi52YWx1ZSA9PT0gMCB8fCB0aGlzLmV4cGlyYXRpb24udmFsdWUgPiBHbG9iYWwubGF0ZXN0VGltZXN0YW1wLCBFUlJfTElTVElOR19FWFBJUkVEKQogICAgYXNzZXJ0IC8vIGxpc3RpbmcgZXhwaXJlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbnN0YW50cy50czoxCiAgICAvLyBleHBvcnQgY29uc3QgR2xvYmFsU3RhdGVLZXlBa2l0YURBTyA9ICdha2l0YV9kYW8nCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMSAvLyAiYWtpdGFfZGFvIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MTEKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlHYXRlSUQgPSAnZ2F0ZV9pZCcKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyAxMyAvLyAiZ2F0ZV9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjMzNgogICAgLy8gYXNzZXJ0KGdhdGVDaGVjayh0aGlzLmFraXRhREFPLnZhbHVlLCBidXllciwgdGhpcy5nYXRlSUQudmFsdWUsIGFyZ3MpLCBFUlJfRkFJTEVEX0dBVEUpCiAgICBmcmFtZV9kaWcgLTMKICAgIHN3YXAKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBnYXRlQ2hlY2sKICAgIGZyYW1lX2J1cnkgLTEKICAgIGFzc2VydCAvLyBHYXRlIGNoZWNrIGZhaWxlZAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czoxMAogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVJlc2VydmVkRm9yID0gJ3Jlc2VydmVkX2ZvcicKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA2IC8vICJyZXNlcnZlZF9mb3IiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozMzgKICAgIC8vIGlmICh0aGlzLnJlc2VydmVkRm9yLnZhbHVlLm5hdGl2ZSAhPT0gR2xvYmFsLnplcm9BZGRyZXNzKSB7CiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgICE9CiAgICBieiBwdXJjaGFzZUFzYV9hZnRlcl9pZl9lbHNlQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MTAKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlSZXNlcnZlZEZvciA9ICdyZXNlcnZlZF9mb3InCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNiAvLyAicmVzZXJ2ZWRfZm9yIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MzM5CiAgICAvLyBhc3NlcnQoYnV5ZXIgPT09IHRoaXMucmVzZXJ2ZWRGb3IudmFsdWUsIEVSUl9SRVNFUlZFRF9GT1JfRElGRkVSRU5UX0FERFJFU1MpCiAgICBmcmFtZV9kaWcgLTMKICAgID09CiAgICBhc3NlcnQgLy8gcmVzZXJ2ZWQgZm9yIGRpZmZlcmVudCBhZGRyZXNzCgpwdXJjaGFzZUFzYV9hZnRlcl9pZl9lbHNlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjM0Mi0zNTAKICAgIC8vIGFzc2VydE1hdGNoKAogICAgLy8gICBhc3NldFhmZXIsCiAgICAvLyAgIHsKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jcmVhdG9yQWRkcmVzcywKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogdGhpcy5wcmljZS52YWx1ZSwKICAgIC8vICAgfSwKICAgIC8vICAgRVJSX0lOVkFMSURfVFJBTlNGRVIKICAgIC8vICkKICAgIGZyYW1lX2RpZyAtNAogICAgZ3R4bnMgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjM0NQogICAgLy8gc2VuZGVyOiBHbG9iYWwuY3JlYXRvckFkZHJlc3MsCiAgICBnbG9iYWwgQ3JlYXRvckFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MzQyLTM1MAogICAgLy8gYXNzZXJ0TWF0Y2goCiAgICAvLyAgIGFzc2V0WGZlciwKICAgIC8vICAgewogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmNyZWF0b3JBZGRyZXNzLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiB0aGlzLnByaWNlLnZhbHVlLAogICAgLy8gICB9LAogICAgLy8gICBFUlJfSU5WQUxJRF9UUkFOU0ZFUgogICAgLy8gKQogICAgPT0KICAgIGJ6IHB1cmNoYXNlQXNhX2Jvb2xfZmFsc2VAMTAKICAgIGZyYW1lX2RpZyAtNAogICAgZ3R4bnMgQXNzZXRSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozNDYKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MzQyLTM1MAogICAgLy8gYXNzZXJ0TWF0Y2goCiAgICAvLyAgIGFzc2V0WGZlciwKICAgIC8vICAgewogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmNyZWF0b3JBZGRyZXNzLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiB0aGlzLnByaWNlLnZhbHVlLAogICAgLy8gICB9LAogICAgLy8gICBFUlJfSU5WQUxJRF9UUkFOU0ZFUgogICAgLy8gKQogICAgPT0KICAgIGJ6IHB1cmNoYXNlQXNhX2Jvb2xfZmFsc2VAMTAKICAgIGZyYW1lX2RpZyAtNAogICAgZ3R4bnMgQXNzZXRBbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MwogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVByaWNlID0gJ3ByaWNlJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDQgLy8gInByaWNlIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MzQyLTM1MAogICAgLy8gYXNzZXJ0TWF0Y2goCiAgICAvLyAgIGFzc2V0WGZlciwKICAgIC8vICAgewogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmNyZWF0b3JBZGRyZXNzLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiB0aGlzLnByaWNlLnZhbHVlLAogICAgLy8gICB9LAogICAgLy8gICBFUlJfSU5WQUxJRF9UUkFOU0ZFUgogICAgLy8gKQogICAgPT0KICAgIGJ6IHB1cmNoYXNlQXNhX2Jvb2xfZmFsc2VAMTAKICAgIGludGNfMSAvLyAxCgpwdXJjaGFzZUFzYV9ib29sX21lcmdlQDExOgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozNDItMzUwCiAgICAvLyBhc3NlcnRNYXRjaCgKICAgIC8vICAgYXNzZXRYZmVyLAogICAgLy8gICB7CiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3JlYXRvckFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IHRoaXMucHJpY2UudmFsdWUsCiAgICAvLyAgIH0sCiAgICAvLyAgIEVSUl9JTlZBTElEX1RSQU5TRkVSCiAgICAvLyApCiAgICBhc3NlcnQgLy8gSW52YWxpZCB0cmFuc2ZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozNTIKICAgIC8vIHRoaXMudHJhbnNmZXJQdXJjaGFzZVRvQnV5ZXIoYnV5ZXIubmF0aXZlKQogICAgZnJhbWVfZGlnIC0zCiAgICBjYWxsc3ViIHRyYW5zZmVyUHVyY2hhc2VUb0J1eWVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjMKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlQcmljZSA9ICdwcmljZScKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA0IC8vICJwcmljZSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjE1NwogICAgLy8gY29uc3QgYW1vdW50cyA9IHRoaXMuZ2V0QW1vdW50cyh0aGlzLnByaWNlLnZhbHVlKQogICAgY2FsbHN1YiBnZXRBbW91bnRzCiAgICBmcmFtZV9idXJ5IDEKICAgIGZyYW1lX2J1cnkgMAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlQcml6ZSA9ICdwcml6ZScKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18zIC8vICJwcml6ZSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGNvdmVyIDMKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTYxCiAgICAvLyBpZiAoYXNzZXRQcml6ZS5jcmVhdG9yLmlzT3B0ZWRJbih0aGlzLnBheW1lbnRBc3NldC52YWx1ZSkpIHsKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRDcmVhdG9yCiAgICBhc3NlcnQgLy8gYXNzZXQgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlQYXltZW50QXNzZXQgPSAncGF5bWVudF9hc3NldCcKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJwYXltZW50X2Fzc2V0IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTYxCiAgICAvLyBpZiAoYXNzZXRQcml6ZS5jcmVhdG9yLmlzT3B0ZWRJbih0aGlzLnBheW1lbnRBc3NldC52YWx1ZSkpIHsKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgYnVyeSAxCiAgICBieiBwdXJjaGFzZUFzYV9lbHNlX2JvZHlAMTQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTYyLTE2OQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogYXNzZXRQcml6ZS5jcmVhdG9yLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBhbW91bnRzLmNyZWF0b3IsCiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnBheW1lbnRBc3NldC52YWx1ZSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoxNjQKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IGFzc2V0UHJpemUuY3JlYXRvciwKICAgIHN3YXAKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRDcmVhdG9yCiAgICBhc3NlcnQgLy8gYXNzZXQgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlQYXltZW50QXNzZXQgPSAncGF5bWVudF9hc3NldCcKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJwYXltZW50X2Fzc2V0IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTYyLTE2OAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogYXNzZXRQcml6ZS5jcmVhdG9yLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBhbW91bnRzLmNyZWF0b3IsCiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnBheW1lbnRBc3NldC52YWx1ZSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0pCiAgICBpbnRjXzIgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgZmVlOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTYyLTE2OQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogYXNzZXRQcml6ZS5jcmVhdG9yLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBhbW91bnRzLmNyZWF0b3IsCiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnBheW1lbnRBc3NldC52YWx1ZSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKCnB1cmNoYXNlQXNhX2FmdGVyX2lmX2Vsc2VAMTU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjYKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlNYXJrZXRwbGFjZSA9ICdtYXJrZXRwbGFjZScKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA3IC8vICJtYXJrZXRwbGFjZSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlQYXltZW50QXNzZXQgPSAncGF5bWVudF9hc3NldCcKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJwYXltZW50X2Fzc2V0IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTgxCiAgICAvLyBpZiAodGhpcy5tYXJrZXRwbGFjZS52YWx1ZS5pc09wdGVkSW4odGhpcy5wYXltZW50QXNzZXQudmFsdWUpKSB7CiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIGJ1cnkgMQogICAgYnogcHVyY2hhc2VBc2FfZWxzZV9ib2R5QDE3CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjE4Mi0xODkKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHRoaXMubWFya2V0cGxhY2UudmFsdWUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGFtb3VudHMubWFya2V0cGxhY2UsCiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnBheW1lbnRBc3NldC52YWx1ZSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo2CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5TWFya2V0cGxhY2UgPSAnbWFya2V0cGxhY2UnCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNyAvLyAibWFya2V0cGxhY2UiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5UGF5bWVudEFzc2V0ID0gJ3BheW1lbnRfYXNzZXQnCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMCAvLyAicGF5bWVudF9hc3NldCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgZnJhbWVfZGlnIDAKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoxODItMTg4CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiB0aGlzLm1hcmtldHBsYWNlLnZhbHVlLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBhbW91bnRzLm1hcmtldHBsYWNlLAogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5wYXltZW50QXNzZXQudmFsdWUsCiAgICAvLyAgICAgZmVlLAogICAgLy8gICB9KQogICAgaW50Y18yIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9jb25zdGFudHMudHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IGZlZTogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjE4Mi0xODkKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHRoaXMubWFya2V0cGxhY2UudmFsdWUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGFtb3VudHMubWFya2V0cGxhY2UsCiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnBheW1lbnRBc3NldC52YWx1ZSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKCnB1cmNoYXNlQXNhX2FmdGVyX2lmX2Vsc2VAMTg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlQYXltZW50QXNzZXQgPSAncGF5bWVudF9hc3NldCcKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJwYXltZW50X2Fzc2V0IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MjAxCiAgICAvLyBpZiAobWFya2V0cGxhY2UubmF0aXZlLmlzT3B0ZWRJbih0aGlzLnBheW1lbnRBc3NldC52YWx1ZSkpIHsKICAgIGZyYW1lX2RpZyAtMgogICAgc3dhcAogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBidXJ5IDEKICAgIGJ6IHB1cmNoYXNlQXNhX2Vsc2VfYm9keUAyMAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoyMDItMjA5CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBtYXJrZXRwbGFjZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGFtb3VudHMubWFya2V0cGxhY2UsCiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnBheW1lbnRBc3NldC52YWx1ZSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5UGF5bWVudEFzc2V0ID0gJ3BheW1lbnRfYXNzZXQnCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMCAvLyAicGF5bWVudF9hc3NldCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgZnJhbWVfZGlnIDAKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGZyYW1lX2RpZyAtMgogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjIwMi0yMDgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG1hcmtldHBsYWNlLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldEFtb3VudDogYW1vdW50cy5tYXJrZXRwbGFjZSwKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucGF5bWVudEFzc2V0LnZhbHVlLAogICAgLy8gICAgIGZlZSwKICAgIC8vICAgfSkKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBmZWU6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoyMDItMjA5CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBtYXJrZXRwbGFjZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGFtb3VudHMubWFya2V0cGxhY2UsCiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnBheW1lbnRBc3NldC52YWx1ZSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKCnB1cmNoYXNlQXNhX2FmdGVyX2lmX2Vsc2VAMjE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjUKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlTZWxsZXIgPSAnc2VsbGVyJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzIgLy8gInNlbGxlciIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlQYXltZW50QXNzZXQgPSAncGF5bWVudF9hc3NldCcKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJwYXltZW50X2Fzc2V0IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MjIxCiAgICAvLyBpZiAodGhpcy5zZWxsZXIudmFsdWUuaXNPcHRlZEluKHRoaXMucGF5bWVudEFzc2V0LnZhbHVlKSkgewogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBidXJ5IDEKICAgIGJ6IHB1cmNoYXNlQXNhX2Vsc2VfYm9keUAyMwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoyMjItMjI4CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICBhc3NldENsb3NlVG86IHRoaXMuc2VsbGVyLnZhbHVlLAogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5wYXltZW50QXNzZXQudmFsdWUsCiAgICAvLyAgICAgZmVlLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6NQogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVNlbGxlciA9ICdzZWxsZXInCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMiAvLyAic2VsbGVyIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVBheW1lbnRBc3NldCA9ICdwYXltZW50X2Fzc2V0JwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gInBheW1lbnRfYXNzZXQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGl0eG5fZmllbGQgQXNzZXRDbG9zZVRvCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjIyMi0yMjcKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIGFzc2V0Q2xvc2VUbzogdGhpcy5zZWxsZXIudmFsdWUsCiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnBheW1lbnRBc3NldC52YWx1ZSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0pCiAgICBpbnRjXzIgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgZmVlOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MjIyLTIyOAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgYXNzZXRDbG9zZVRvOiB0aGlzLnNlbGxlci52YWx1ZSwKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucGF5bWVudEFzc2V0LnZhbHVlLAogICAgLy8gICAgIGZlZSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgcmV0c3ViCgpwdXJjaGFzZUFzYV9lbHNlX2JvZHlAMjM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBHbG9iYWxTdGF0ZUtleUFraXRhREFPID0gJ2FraXRhX2RhbycKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18xIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo1CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5U2VsbGVyID0gJ3NlbGxlcicKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICJzZWxsZXIiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5UGF5bWVudEFzc2V0ID0gJ3BheW1lbnRfYXNzZXQnCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMCAvLyAicGF5bWVudF9hc3NldCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjIzMC0yMzYKICAgIC8vIGFyYzU5T3B0SW5BbmRTZW5kKAogICAgLy8gICB0aGlzLmFraXRhREFPLnZhbHVlLAogICAgLy8gICBuZXcgQWRkcmVzcyh0aGlzLnNlbGxlci52YWx1ZSksCiAgICAvLyAgIHRoaXMucGF5bWVudEFzc2V0LnZhbHVlLmlkLAogICAgLy8gICBhbW91bnRzLnNlbGxlciwKICAgIC8vICAgdHJ1ZQogICAgLy8gKQogICAgZnJhbWVfZGlnIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MjM1CiAgICAvLyB0cnVlCiAgICBpbnRjXzEgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoyMzAtMjM2CiAgICAvLyBhcmM1OU9wdEluQW5kU2VuZCgKICAgIC8vICAgdGhpcy5ha2l0YURBTy52YWx1ZSwKICAgIC8vICAgbmV3IEFkZHJlc3ModGhpcy5zZWxsZXIudmFsdWUpLAogICAgLy8gICB0aGlzLnBheW1lbnRBc3NldC52YWx1ZS5pZCwKICAgIC8vICAgYW1vdW50cy5zZWxsZXIsCiAgICAvLyAgIHRydWUKICAgIC8vICkKICAgIGNhbGxzdWIgYXJjNTlPcHRJbkFuZFNlbmQKICAgIHJldHN1YgoKcHVyY2hhc2VBc2FfZWxzZV9ib2R5QDIwOgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbnN0YW50cy50czoxCiAgICAvLyBleHBvcnQgY29uc3QgR2xvYmFsU3RhdGVLZXlBa2l0YURBTyA9ICdha2l0YV9kYW8nCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMSAvLyAiYWtpdGFfZGFvIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVBheW1lbnRBc3NldCA9ICdwYXltZW50X2Fzc2V0JwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gInBheW1lbnRfYXNzZXQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoyMTEtMjE3CiAgICAvLyBhcmM1OU9wdEluQW5kU2VuZCgKICAgIC8vICAgdGhpcy5ha2l0YURBTy52YWx1ZSwKICAgIC8vICAgbWFya2V0cGxhY2UsCiAgICAvLyAgIHRoaXMucGF5bWVudEFzc2V0LnZhbHVlLmlkLAogICAgLy8gICBhbW91bnRzLm1hcmtldHBsYWNlLAogICAgLy8gICBmYWxzZQogICAgLy8gKQogICAgZnJhbWVfZGlnIC0yCiAgICBzd2FwCiAgICBmcmFtZV9kaWcgMAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoyMTYKICAgIC8vIGZhbHNlCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoyMTEtMjE3CiAgICAvLyBhcmM1OU9wdEluQW5kU2VuZCgKICAgIC8vICAgdGhpcy5ha2l0YURBTy52YWx1ZSwKICAgIC8vICAgbWFya2V0cGxhY2UsCiAgICAvLyAgIHRoaXMucGF5bWVudEFzc2V0LnZhbHVlLmlkLAogICAgLy8gICBhbW91bnRzLm1hcmtldHBsYWNlLAogICAgLy8gICBmYWxzZQogICAgLy8gKQogICAgY2FsbHN1YiBhcmM1OU9wdEluQW5kU2VuZAogICAgYiBwdXJjaGFzZUFzYV9hZnRlcl9pZl9lbHNlQDIxCgpwdXJjaGFzZUFzYV9lbHNlX2JvZHlAMTc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBHbG9iYWxTdGF0ZUtleUFraXRhREFPID0gJ2FraXRhX2RhbycKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18xIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo2CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5TWFya2V0cGxhY2UgPSAnbWFya2V0cGxhY2UnCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNyAvLyAibWFya2V0cGxhY2UiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5UGF5bWVudEFzc2V0ID0gJ3BheW1lbnRfYXNzZXQnCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMCAvLyAicGF5bWVudF9hc3NldCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjE5MS0xOTcKICAgIC8vIGFyYzU5T3B0SW5BbmRTZW5kKAogICAgLy8gICB0aGlzLmFraXRhREFPLnZhbHVlLAogICAgLy8gICBuZXcgQWRkcmVzcyh0aGlzLm1hcmtldHBsYWNlLnZhbHVlKSwKICAgIC8vICAgdGhpcy5wYXltZW50QXNzZXQudmFsdWUuaWQsCiAgICAvLyAgIGFtb3VudHMubWFya2V0cGxhY2UsCiAgICAvLyAgIGZhbHNlCiAgICAvLyApCiAgICBmcmFtZV9kaWcgMAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoxOTYKICAgIC8vIGZhbHNlCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoxOTEtMTk3CiAgICAvLyBhcmM1OU9wdEluQW5kU2VuZCgKICAgIC8vICAgdGhpcy5ha2l0YURBTy52YWx1ZSwKICAgIC8vICAgbmV3IEFkZHJlc3ModGhpcy5tYXJrZXRwbGFjZS52YWx1ZSksCiAgICAvLyAgIHRoaXMucGF5bWVudEFzc2V0LnZhbHVlLmlkLAogICAgLy8gICBhbW91bnRzLm1hcmtldHBsYWNlLAogICAgLy8gICBmYWxzZQogICAgLy8gKQogICAgY2FsbHN1YiBhcmM1OU9wdEluQW5kU2VuZAogICAgYiBwdXJjaGFzZUFzYV9hZnRlcl9pZl9lbHNlQDE4CgpwdXJjaGFzZUFzYV9lbHNlX2JvZHlAMTQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBHbG9iYWxTdGF0ZUtleUFraXRhREFPID0gJ2FraXRhX2RhbycKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18xIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czoxNzMKICAgIC8vIG5ldyBBZGRyZXNzKGFzc2V0UHJpemUuY3JlYXRvciksCiAgICB1bmNvdmVyIDIKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRDcmVhdG9yCiAgICBhc3NlcnQgLy8gYXNzZXQgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlQYXltZW50QXNzZXQgPSAncGF5bWVudF9hc3NldCcKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJwYXltZW50X2Fzc2V0IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTcxLTE3NwogICAgLy8gYXJjNTlPcHRJbkFuZFNlbmQoCiAgICAvLyAgIHRoaXMuYWtpdGFEQU8udmFsdWUsCiAgICAvLyAgIG5ldyBBZGRyZXNzKGFzc2V0UHJpemUuY3JlYXRvciksCiAgICAvLyAgIHRoaXMucGF5bWVudEFzc2V0LnZhbHVlLmlkLAogICAgLy8gICBhbW91bnRzLmNyZWF0b3IsCiAgICAvLyAgIGZhbHNlCiAgICAvLyApCiAgICB1bmNvdmVyIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTc2CiAgICAvLyBmYWxzZQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MTcxLTE3NwogICAgLy8gYXJjNTlPcHRJbkFuZFNlbmQoCiAgICAvLyAgIHRoaXMuYWtpdGFEQU8udmFsdWUsCiAgICAvLyAgIG5ldyBBZGRyZXNzKGFzc2V0UHJpemUuY3JlYXRvciksCiAgICAvLyAgIHRoaXMucGF5bWVudEFzc2V0LnZhbHVlLmlkLAogICAgLy8gICBhbW91bnRzLmNyZWF0b3IsCiAgICAvLyAgIGZhbHNlCiAgICAvLyApCiAgICBjYWxsc3ViIGFyYzU5T3B0SW5BbmRTZW5kCiAgICBiIHB1cmNoYXNlQXNhX2FmdGVyX2lmX2Vsc2VAMTUKCnB1cmNoYXNlQXNhX2Jvb2xfZmFsc2VAMTA6CiAgICBpbnRjXzAgLy8gMAogICAgYiBwdXJjaGFzZUFzYV9ib29sX21lcmdlQDExCgpwdXJjaGFzZUFzYV9ib29sX2ZhbHNlQDM6CiAgICBpbnRjXzAgLy8gMAogICAgYiBwdXJjaGFzZUFzYV9ib29sX21lcmdlQDQKCgovLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjpMaXN0aW5nLmRlbGlzdChjYWxsZXI6IGJ5dGVzKSAtPiB2b2lkOgpkZWxpc3Q6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjM1Ny0zNTgKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdEZWxldGVBcHBsaWNhdGlvbicgfSkKICAgIC8vIGRlbGlzdChjYWxsZXI6IEFkZHJlc3MpOiB2b2lkIHsKICAgIHByb3RvIDEgMAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozNTkKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSBHbG9iYWwuY3JlYXRvckFkZHJlc3MsIEVSUl9NVVNUX0JFX0NBTExFRF9GUk9NX0ZBQ1RPUlkpCiAgICB0eG4gU2VuZGVyCiAgICBnbG9iYWwgQ3JlYXRvckFkZHJlc3MKICAgID09CiAgICBhc3NlcnQgLy8gbXVzdCBiZSBjYWxsZWQgZnJvbSB0aGUgZmFjdG9yeQogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo1CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5U2VsbGVyID0gJ3NlbGxlcicKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICJzZWxsZXIiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozNjAKICAgIC8vIGFzc2VydCh0aGlzLnNlbGxlci52YWx1ZSA9PT0gY2FsbGVyLm5hdGl2ZSwgRVJSX09OTFlfU0VMTEVSX0NBTl9ERUxJU1QpCiAgICBmcmFtZV9kaWcgLTEKICAgID09CiAgICBhc3NlcnQgLy8gb25seSB0aGUgc2VsbGVyIGNhbiBkZWxpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6NQogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVNlbGxlciA9ICdzZWxsZXInCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMiAvLyAic2VsbGVyIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MQogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVByaXplID0gJ3ByaXplJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzMgLy8gInByaXplIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6NQogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVNlbGxlciA9ICdzZWxsZXInCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMiAvLyAic2VsbGVyIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVBheW1lbnRBc3NldCA9ICdwYXltZW50X2Fzc2V0JwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gInBheW1lbnRfYXNzZXQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozNzMKICAgIC8vIGlmICghKHRoaXMucGF5bWVudEFzc2V0LnZhbHVlLmlkID09PSAwKSkgewogICAgYnogZGVsaXN0X2Vsc2VfYm9keUAxMQogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo1CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5U2VsbGVyID0gJ3NlbGxlcicKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICJzZWxsZXIiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgTGlzdGluZ0dsb2JhbFN0YXRlS2V5UGF5bWVudEFzc2V0ID0gJ3BheW1lbnRfYXNzZXQnCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMCAvLyAicGF5bWVudF9hc3NldCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBjb3ZlciAyCiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjIKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlJc1ByaXplQm94ID0gJ2lzX3ByaXplX2JveCcKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA5IC8vICJpc19wcml6ZV9ib3giCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozODEKICAgIC8vIGlmICh0aGlzLmlzUHJpemVCb3gudmFsdWUpIHsKICAgIGJ6IGRlbGlzdF9lbHNlX2JvZHlANgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozODItMzg5CiAgICAvLyBhYmlDYWxsKAogICAgLy8gICBQcml6ZUJveC5wcm90b3R5cGUudHJhbnNmZXIsCiAgICAvLyAgIHsKICAgIC8vICAgICBhcHBJZDogdGhpcy5wcml6ZS52YWx1ZSwKICAgIC8vICAgICBhcmdzOiBbbmV3IEFkZHJlc3ModGhpcy5zZWxsZXIudmFsdWUpXSwKICAgIC8vICAgICBmZWUsCiAgICAvLyAgIH0KICAgIC8vICkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6MQogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVByaXplID0gJ3ByaXplJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzMgLy8gInByaXplIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6NQogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVNlbGxlciA9ICdzZWxsZXInCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMiAvLyAic2VsbGVyIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MzgyLTM4OQogICAgLy8gYWJpQ2FsbCgKICAgIC8vICAgUHJpemVCb3gucHJvdG90eXBlLnRyYW5zZmVyLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMucHJpemUudmFsdWUsCiAgICAvLyAgICAgYXJnczogW25ldyBBZGRyZXNzKHRoaXMuc2VsbGVyLnZhbHVlKV0sCiAgICAvLyAgICAgZmVlLAogICAgLy8gICB9CiAgICAvLyApCiAgICBieXRlYyAxMiAvLyBtZXRob2QgInRyYW5zZmVyKGFkZHJlc3Mpdm9pZCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBpbnRjXzMgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgZmVlOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MzgyLTM4OQogICAgLy8gYWJpQ2FsbCgKICAgIC8vICAgUHJpemVCb3gucHJvdG90eXBlLnRyYW5zZmVyLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMucHJpemUudmFsdWUsCiAgICAvLyAgICAgYXJnczogW25ldyBBZGRyZXNzKHRoaXMuc2VsbGVyLnZhbHVlKV0sCiAgICAvLyAgICAgZmVlLAogICAgLy8gICB9CiAgICAvLyApCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozOTAKICAgIC8vIGl0eG4uc3VibWl0R3JvdXAocGF5bWVudEFzc2V0VHJhbnNmZXIsIHBheW1lbnQpCiAgICBpdHhuX2JlZ2luCiAgICBpdHhuX2ZpZWxkIEFzc2V0Q2xvc2VUbwogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6Mzc1LTM3OQogICAgLy8gY29uc3QgcGF5bWVudEFzc2V0VHJhbnNmZXIgPSBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldENsb3NlVG86IHRoaXMuc2VsbGVyLnZhbHVlLAogICAgLy8gICB4ZmVyQXNzZXQ6IHRoaXMucGF5bWVudEFzc2V0LnZhbHVlLAogICAgLy8gICBmZWUsCiAgICAvLyB9KQogICAgaW50Y18yIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9jb25zdGFudHMudHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IGZlZTogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjM5MAogICAgLy8gaXR4bi5zdWJtaXRHcm91cChwYXltZW50QXNzZXRUcmFuc2ZlciwgcGF5bWVudCkKICAgIGl0eG5fbmV4dAogICAgZnJhbWVfZGlnIDIKICAgIGl0eG5fZmllbGQgQ2xvc2VSZW1haW5kZXJUbwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozNjgtMzcxCiAgICAvLyBjb25zdCBwYXltZW50ID0gaXR4bi5wYXltZW50KHsKICAgIC8vICAgY2xvc2VSZW1haW5kZXJUbzogdGhpcy5zZWxsZXIudmFsdWUsCiAgICAvLyAgIGZlZSwKICAgIC8vIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgZmVlOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MzkwCiAgICAvLyBpdHhuLnN1Ym1pdEdyb3VwKHBheW1lbnRBc3NldFRyYW5zZmVyLCBwYXltZW50KQogICAgaXR4bl9zdWJtaXQKICAgIHJldHN1YgoKZGVsaXN0X2Vsc2VfYm9keUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozOTIKICAgIC8vIGl0eG4uc3VibWl0R3JvdXAoYXNzZXRUcmFuc2ZlciwgcGF5bWVudEFzc2V0VHJhbnNmZXIsIHBheW1lbnQpCiAgICBpdHhuX2JlZ2luCiAgICBmcmFtZV9kaWcgMQogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGZyYW1lX2RpZyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0Q2xvc2VUbwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozNjItMzY2CiAgICAvLyBjb25zdCBhc3NldFRyYW5zZmVyID0gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRDbG9zZVRvOiB0aGlzLnNlbGxlci52YWx1ZSwKICAgIC8vICAgeGZlckFzc2V0OiB0aGlzLnByaXplLnZhbHVlLAogICAgLy8gICBmZWUsCiAgICAvLyB9KQogICAgaW50Y18yIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9jb25zdGFudHMudHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IGZlZTogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjM5MgogICAgLy8gaXR4bi5zdWJtaXRHcm91cChhc3NldFRyYW5zZmVyLCBwYXltZW50QXNzZXRUcmFuc2ZlciwgcGF5bWVudCkKICAgIGl0eG5fbmV4dAogICAgaXR4bl9maWVsZCBBc3NldENsb3NlVG8KICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjM3NS0zNzkKICAgIC8vIGNvbnN0IHBheW1lbnRBc3NldFRyYW5zZmVyID0gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRDbG9zZVRvOiB0aGlzLnNlbGxlci52YWx1ZSwKICAgIC8vICAgeGZlckFzc2V0OiB0aGlzLnBheW1lbnRBc3NldC52YWx1ZSwKICAgIC8vICAgZmVlLAogICAgLy8gfSkKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBmZWU6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozOTIKICAgIC8vIGl0eG4uc3VibWl0R3JvdXAoYXNzZXRUcmFuc2ZlciwgcGF5bWVudEFzc2V0VHJhbnNmZXIsIHBheW1lbnQpCiAgICBpdHhuX25leHQKICAgIGZyYW1lX2RpZyAyCiAgICBpdHhuX2ZpZWxkIENsb3NlUmVtYWluZGVyVG8KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MzY4LTM3MQogICAgLy8gY29uc3QgcGF5bWVudCA9IGl0eG4ucGF5bWVudCh7CiAgICAvLyAgIGNsb3NlUmVtYWluZGVyVG86IHRoaXMuc2VsbGVyLnZhbHVlLAogICAgLy8gICBmZWUsCiAgICAvLyB9KQogICAgaW50Y18xIC8vIDEKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9jb25zdGFudHMudHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IGZlZTogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjM5MgogICAgLy8gaXR4bi5zdWJtaXRHcm91cChhc3NldFRyYW5zZmVyLCBwYXltZW50QXNzZXRUcmFuc2ZlciwgcGF5bWVudCkKICAgIGl0eG5fc3VibWl0CiAgICByZXRzdWIKCmRlbGlzdF9lbHNlX2JvZHlAMTE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjIKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlJc1ByaXplQm94ID0gJ2lzX3ByaXplX2JveCcKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA5IC8vICJpc19wcml6ZV9ib3giCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozOTUKICAgIC8vIGlmICh0aGlzLmlzUHJpemVCb3gudmFsdWUpIHsKICAgIGJ6IGRlbGlzdF9lbHNlX2JvZHlAMTUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6Mzk2LTQwMwogICAgLy8gYWJpQ2FsbCgKICAgIC8vICAgUHJpemVCb3gucHJvdG90eXBlLnRyYW5zZmVyLAogICAgLy8gICB7CiAgICAvLyAgICAgYXBwSWQ6IHRoaXMucHJpemUudmFsdWUsCiAgICAvLyAgICAgYXJnczogW25ldyBBZGRyZXNzKHRoaXMuc2VsbGVyLnZhbHVlKV0sCiAgICAvLyAgICAgZmVlLAogICAgLy8gICB9CiAgICAvLyApCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlQcml6ZSA9ICdwcml6ZScKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18zIC8vICJwcml6ZSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjUKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlTZWxsZXIgPSAnc2VsbGVyJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzIgLy8gInNlbGxlciIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjM5Ni00MDMKICAgIC8vIGFiaUNhbGwoCiAgICAvLyAgIFByaXplQm94LnByb3RvdHlwZS50cmFuc2ZlciwKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiB0aGlzLnByaXplLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFtuZXcgQWRkcmVzcyh0aGlzLnNlbGxlci52YWx1ZSldLAogICAgLy8gICAgIGZlZSwKICAgIC8vICAgfQogICAgLy8gKQogICAgYnl0ZWMgMTIgLy8gbWV0aG9kICJ0cmFuc2ZlcihhZGRyZXNzKXZvaWQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgaW50Y18zIC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9jb25zdGFudHMudHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IGZlZTogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjM5Ni00MDMKICAgIC8vIGFiaUNhbGwoCiAgICAvLyAgIFByaXplQm94LnByb3RvdHlwZS50cmFuc2ZlciwKICAgIC8vICAgewogICAgLy8gICAgIGFwcElkOiB0aGlzLnByaXplLnZhbHVlLAogICAgLy8gICAgIGFyZ3M6IFtuZXcgQWRkcmVzcyh0aGlzLnNlbGxlci52YWx1ZSldLAogICAgLy8gICAgIGZlZSwKICAgIC8vICAgfQogICAgLy8gKQogICAgaXR4bl9zdWJtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6NDA0CiAgICAvLyBwYXltZW50LnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICBmcmFtZV9kaWcgMgogICAgaXR4bl9maWVsZCBDbG9zZVJlbWFpbmRlclRvCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjM2OC0zNzEKICAgIC8vIGNvbnN0IHBheW1lbnQgPSBpdHhuLnBheW1lbnQoewogICAgLy8gICBjbG9zZVJlbWFpbmRlclRvOiB0aGlzLnNlbGxlci52YWx1ZSwKICAgIC8vICAgZmVlLAogICAgLy8gfSkKICAgIGludGNfMSAvLyAxCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBmZWU6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czo0MDQKICAgIC8vIHBheW1lbnQuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICByZXRzdWIKCmRlbGlzdF9lbHNlX2JvZHlAMTU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvbGlzdGluZy5hbGdvLnRzOjQwNgogICAgLy8gaXR4bi5zdWJtaXRHcm91cChhc3NldFRyYW5zZmVyLCBwYXltZW50KQogICAgaXR4bl9iZWdpbgogICAgZnJhbWVfZGlnIDEKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBmcmFtZV9kaWcgMAogICAgaXR4bl9maWVsZCBBc3NldENsb3NlVG8KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6MzYyLTM2NgogICAgLy8gY29uc3QgYXNzZXRUcmFuc2ZlciA9IGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0Q2xvc2VUbzogdGhpcy5zZWxsZXIudmFsdWUsCiAgICAvLyAgIHhmZXJBc3NldDogdGhpcy5wcml6ZS52YWx1ZSwKICAgIC8vICAgZmVlLAogICAgLy8gfSkKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvY29uc3RhbnRzLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBmZWU6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czo0MDYKICAgIC8vIGl0eG4uc3VibWl0R3JvdXAoYXNzZXRUcmFuc2ZlciwgcGF5bWVudCkKICAgIGl0eG5fbmV4dAogICAgZnJhbWVfZGlnIDIKICAgIGl0eG5fZmllbGQgQ2xvc2VSZW1haW5kZXJUbwogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czozNjgtMzcxCiAgICAvLyBjb25zdCBwYXltZW50ID0gaXR4bi5wYXltZW50KHsKICAgIC8vICAgY2xvc2VSZW1haW5kZXJUbzogdGhpcy5zZWxsZXIudmFsdWUsCiAgICAvLyAgIGZlZSwKICAgIC8vIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2NvbnN0YW50cy50czo0CiAgICAvLyBleHBvcnQgY29uc3QgZmVlOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6NDA2CiAgICAvLyBpdHhuLnN1Ym1pdEdyb3VwKGFzc2V0VHJhbnNmZXIsIHBheW1lbnQpCiAgICBpdHhuX3N1Ym1pdAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czo6TGlzdGluZy5jaGFuZ2VQcmljZShwcmljZTogdWludDY0KSAtPiB2b2lkOgpjaGFuZ2VQcmljZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6NDExCiAgICAvLyBjaGFuZ2VQcmljZShwcmljZTogdWludDY0KTogdm9pZCB7CiAgICBwcm90byAxIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6NDEyCiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gdGhpcy5zZWxsZXIudmFsdWUsIEVSUl9NVVNUX0JFX1NFTExFUikKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9jb25zdGFudHMudHM6NQogICAgLy8gZXhwb3J0IGNvbnN0IExpc3RpbmdHbG9iYWxTdGF0ZUtleVNlbGxlciA9ICdzZWxsZXInCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMiAvLyAic2VsbGVyIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYXJrZXRwbGFjZS9saXN0aW5nLmFsZ28udHM6NDEyCiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gdGhpcy5zZWxsZXIudmFsdWUsIEVSUl9NVVNUX0JFX1NFTExFUikKICAgID09CiAgICBhc3NlcnQgLy8gbXVzdCBiZSB0aGUgc2VsbGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWFya2V0cGxhY2UvY29uc3RhbnRzLnRzOjMKICAgIC8vIGV4cG9ydCBjb25zdCBMaXN0aW5nR2xvYmFsU3RhdGVLZXlQcmljZSA9ICdwcmljZScKICAgIGJ5dGVjIDQgLy8gInByaWNlIgogICAgLy8gc21hcnRfY29udHJhY3RzL21hcmtldHBsYWNlL2xpc3RpbmcuYWxnby50czo0MTMKICAgIC8vIHRoaXMucHJpY2UudmFsdWUgPSBwcmljZQogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6OkFraXRhQmFzZUNvbnRyYWN0LnVwZGF0ZUFwcGxpY2F0aW9uKG5ld1ZlcnNpb246IGJ5dGVzKSAtPiB2b2lkOgp1cGRhdGVBcHBsaWNhdGlvbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjE5LTIwCiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiBbJ1VwZGF0ZUFwcGxpY2F0aW9uJ10gfSkKICAgIC8vIHVwZGF0ZUFwcGxpY2F0aW9uKG5ld1ZlcnNpb246IHN0cmluZyk6IHZvaWQgewogICAgcHJvdG8gMSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoyMQogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuYWtpdGFEQU8udmFsdWUuYWRkcmVzcywgRVJSX05PVF9BS0lUQV9EQU8pCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBHbG9iYWxTdGF0ZUtleUFraXRhREFPID0gJ2FraXRhX2RhbycKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18xIC8vICJha2l0YV9kYW8iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MjEKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0aGlzLmFraXRhREFPLnZhbHVlLmFkZHJlc3MsIEVSUl9OT1RfQUtJVEFfREFPKQogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IHRoZSBBa2l0YSBEQU8gY2FuIGNhbGwgdGhpcyBmdW5jdGlvbgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbnN0YW50cy50czozCiAgICAvLyBleHBvcnQgY29uc3QgR2xvYmFsU3RhdGVLZXlWZXJzaW9uID0gJ3ZlcnNpb24nCiAgICBieXRlYyAxNSAvLyAidmVyc2lvbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjIyCiAgICAvLyB0aGlzLnZlcnNpb24udmFsdWUgPSBuZXdWZXJzaW9uCiAgICBmcmFtZV9kaWcgLTEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czo6QWtpdGFCYXNlQ29udHJhY3QudXBkYXRlQWtpdGFEQU8oYXBwOiB1aW50NjQpIC0+IHZvaWQ6CnVwZGF0ZUFraXRhREFPOgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MjcKICAgIC8vIHVwZGF0ZUFraXRhREFPKGFwcDogdWludDY0KTogdm9pZCB7CiAgICBwcm90byAxIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjI4CiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gdGhpcy5ha2l0YURBTy52YWx1ZS5hZGRyZXNzLCBFUlJfTk9UX0FLSVRBX0RBTykKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb25zdGFudHMudHM6MQogICAgLy8gZXhwb3J0IGNvbnN0IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gPSAnYWtpdGFfZGFvJwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzEgLy8gImFraXRhX2RhbyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoyOAogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuYWtpdGFEQU8udmFsdWUuYWRkcmVzcywgRVJSX05PVF9BS0lUQV9EQU8pCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgdGhlIEFraXRhIERBTyBjYW4gY2FsbCB0aGlzIGZ1bmN0aW9uCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29uc3RhbnRzLnRzOjEKICAgIC8vIGV4cG9ydCBjb25zdCBHbG9iYWxTdGF0ZUtleUFraXRhREFPID0gJ2FraXRhX2RhbycKICAgIGJ5dGVjXzEgLy8gImFraXRhX2RhbyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjI5CiAgICAvLyB0aGlzLmFraXRhREFPLnZhbHVlID0gQXBwbGljYXRpb24oYXBwKQogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL29wdGluLnRzOjpDb250cmFjdFdpdGhDcmVhdG9yT25seU9wdEluLm9wdGluKHBheW1lbnQ6IHVpbnQ2NCwgYXNzZXQ6IHVpbnQ2NCkgLT4gdm9pZDoKb3B0aW46CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvb3B0aW4udHM6NTEKICAgIC8vIG9wdGluKHBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwgYXNzZXQ6IHVpbnQ2NCk6IHZvaWQgewogICAgcHJvdG8gMiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvb3B0aW4udHM6NTIKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSBHbG9iYWwuY3JlYXRvckFkZHJlc3MpCiAgICB0eG4gU2VuZGVyCiAgICBnbG9iYWwgQ3JlYXRvckFkZHJlc3MKICAgID09CiAgICBhc3NlcnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9vcHRpbi50czo1NC02MQogICAgLy8gYXNzZXJ0TWF0Y2goCiAgICAvLyAgIHBheW1lbnQsCiAgICAvLyAgIHsKICAgIC8vICAgICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYW1vdW50OiBHbG9iYWwuYXNzZXRPcHRJbk1pbkJhbGFuY2UsCiAgICAvLyAgIH0sCiAgICAvLyAgIEVSUl9JTlZBTElEX1BBWU1FTlQKICAgIC8vICkKICAgIGZyYW1lX2RpZyAtMgogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9vcHRpbi50czo1NwogICAgLy8gcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9vcHRpbi50czo1NC02MQogICAgLy8gYXNzZXJ0TWF0Y2goCiAgICAvLyAgIHBheW1lbnQsCiAgICAvLyAgIHsKICAgIC8vICAgICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYW1vdW50OiBHbG9iYWwuYXNzZXRPcHRJbk1pbkJhbGFuY2UsCiAgICAvLyAgIH0sCiAgICAvLyAgIEVSUl9JTlZBTElEX1BBWU1FTlQKICAgIC8vICkKICAgID09CiAgICBieiBvcHRpbl9ib29sX2ZhbHNlQDMKICAgIGZyYW1lX2RpZyAtMgogICAgZ3R4bnMgQW1vdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvb3B0aW4udHM6NTgKICAgIC8vIGFtb3VudDogR2xvYmFsLmFzc2V0T3B0SW5NaW5CYWxhbmNlLAogICAgZ2xvYmFsIEFzc2V0T3B0SW5NaW5CYWxhbmNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvb3B0aW4udHM6NTQtNjEKICAgIC8vIGFzc2VydE1hdGNoKAogICAgLy8gICBwYXltZW50LAogICAgLy8gICB7CiAgICAvLyAgICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFtb3VudDogR2xvYmFsLmFzc2V0T3B0SW5NaW5CYWxhbmNlLAogICAgLy8gICB9LAogICAgLy8gICBFUlJfSU5WQUxJRF9QQVlNRU5UCiAgICAvLyApCiAgICA9PQogICAgYnogb3B0aW5fYm9vbF9mYWxzZUAzCiAgICBpbnRjXzEgLy8gMQoKb3B0aW5fYm9vbF9tZXJnZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL29wdGluLnRzOjU0LTYxCiAgICAvLyBhc3NlcnRNYXRjaCgKICAgIC8vICAgcGF5bWVudCwKICAgIC8vICAgewogICAgLy8gICAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhbW91bnQ6IEdsb2JhbC5hc3NldE9wdEluTWluQmFsYW5jZSwKICAgIC8vICAgfSwKICAgIC8vICAgRVJSX0lOVkFMSURfUEFZTUVOVAogICAgLy8gKQogICAgYXNzZXJ0IC8vIEludmFsaWQgcGF5bWVudAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL29wdGluLnRzOjYzLTY4CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgIHhmZXJBc3NldDogYXNzZXQsCiAgICAvLyAgIGZlZTogMCwKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvb3B0aW4udHM6NjQKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGZyYW1lX2RpZyAtMQogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9vcHRpbi50czo2NQogICAgLy8gYXNzZXRBbW91bnQ6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvb3B0aW4udHM6NjMtNjgKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBhc3NldEFtb3VudDogMCwKICAgIC8vICAgeGZlckFzc2V0OiBhc3NldCwKICAgIC8vICAgZmVlOiAwLAogICAgLy8gfSkuc3VibWl0KCkKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvb3B0aW4udHM6NjcKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL29wdGluLnRzOjYzLTY4CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgIHhmZXJBc3NldDogYXNzZXQsCiAgICAvLyAgIGZlZTogMCwKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgcmV0c3ViCgpvcHRpbl9ib29sX2ZhbHNlQDM6CiAgICBpbnRjXzAgLy8gMAogICAgYiBvcHRpbl9ib29sX21lcmdlQDQK","clear":"I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="},"byteCode":{"approval":"CiAFAAEEBqCNBiYQDXBheW1lbnRfYXNzZXQJYWtpdGFfZGFvBnNlbGxlcgVwcml6ZQVwcmljZQpleHBpcmF0aW9uDHJlc2VydmVkX2ZvcgttYXJrZXRwbGFjZQQVH3x1DGlzX3ByaXplX2JveA9jcmVhdG9yX3JveWFsdHkVbWFya2V0cGxhY2Vfcm95YWx0aWVzBK35KuQHZ2F0ZV9pZAhuZnRfZmVlcwd2ZXJzaW9uMRtBAD+CCAQODzKEBO8AeKkEuKfMCQRo6GNDBBk5bEoEF0dAWwQz6SyUBD6hGDI2GgCOCACgAH8AYABPAD8ALAAcAAIiQzEZFEQxGEQxFiMJSTgQIxJENhoBF4gHZiNDMRkURDEYRDYaAReIB0MjQzEZJBJEMRhENhoBVwIAiAccI0MxGRREMRhENhoBF4gG+yNDMRmBBRJEMRhENhoBiAYTI0MxGRREMRhEMRYjCUk4ECQSRDYaATYaAjYaA4gEdyNDMRmBBRJEMRhEMRYjCUk4ECMSRDYaATYaAjYaA4gDeyNDMRkURDEYFEQ2GgEXNhoCIlM2GgMXNhoEFzYaBRc2GgY2Ggc2GggXNhoJFzYaCjYaC1cCADYaDBeIAtgjQ4oEAov+QAAEI4v/ibGL/IAIYWtpdGFfYWxlSIEoW4v+FoAEIA90IbIai/2yGrIai/+yGrIYJbIQIrIBs7Q+SVcEAExXAAQnCBJEIlOL/4mKBQCAAEcCIov7gAhvdGhlcl9hbGVIgRBbRwJyCExOAkSxi/0WSU4CgATKqNqlshqL/LIashqyGCWyECKyAbO0PklXBABLAVcABCcIEkRLAYEMW0lOA04DgYABU4ABACJPAlQiU04CgRVbTEAABYsJQQATsYsHiwkIsgiLBbIHI7IQIrIBs4sIQAAYsYAE6FQIELIaiwayGosEshglshAisgGzI4wCI4wAIowBi/9BAA0jjAEijAAijAKLBYwDsYsBQQAEiwOyFYv9shGLAEEABIv+shKLAkEABIsFshQkshAisgG2iwkWgAQIUx7XshqL/LIashqLBLIYJbIQIrIBs7cBPlcABCcIEkSJigEEgABHBiInCmVESSEEDkSL/x0hBJdHAkAAGCInCmVEiweMCEEADIsHjAiL/0EAAyOMCIsIjAciKWVEJw5lSEmBCFuMBoEQW4wFIillRCIqZUSxTIAIcGx1Z25fYWxlSIEQW4AE1XS7ELIashiyGiWyECKyAbO0PklXBABMVwAEJwgSRBdJjAIjDUEAi4sCIwmLBUmLBglPAguB6AcKCUkhBA5Ei/8dIQSXSYwASYwBQAAMiwCMAYv/QQADI4wBiwGMACInC2VESSEEDkSL/x0hBJdJjANJjARAABgiJwtlRIsDjARBAAyLA4wEi/9BAAMjjASLBIsHSU4CiwBJTgQIgQJLAgsIi/9MCU8CTgOMA4wCjAGMAIkjQv91igEAIicJZURBABexIitlRCcMshqL/7IashglshAisgGziSIrZUxJTwJEi/9McABFAUEAD7GyEYv/shUkshAisgGziSIpZUQyCk8CSU4CcABETwKL/08DTwMjiP16iYoMADINRCuL9GcnCYv1ZycEi/ZnKIv3Z4v4QQAIi/gyBw1BAD0jRCcFi/hnKov5ZycGi/pnJwqL+2cnDYv8ZycHi/1nJw+L/mcpi/9nIillTIz/RIv/Jw5lSIEYWycLTGeJIkL/wIoEADEAMgkSRCIoZUQURCInBWVEQQALIicFZUQyBw1BALUjRCIpZUQiJw1lRIv9TIv/iPyPjP9EIicGZUQyAxNBAAkiJwZlRIv9EkSL/DgAMgkSQQB9i/w4BzIKEkEAc4v8OAgiJwRlRBJBAGYjRIv9iP7IIicEZUSI/aNOA04CSCIrZURJcQtEIicHZURPAnEERIAFIFNvbGRQsU8CsgdPArIII7IQIrIBtkyyB0sBsggjshAisgG2i/6yB0yyCCOyECKyAbayBbIII7IQIrIBs4kiQv+XIkL/SIoEAIAASTEAMgkSRCIoZUREIicFZURBAAsiJwVlRDIHDUEBVSNEIillRCInDWVEi/1Mi/+I+7KM/0QiJwZlRDIDE0EACSInBmVEi/0SRIv8OAAyCRJBAR2L/DgUMgoSQQETi/w4EiInBGVEEkEBBiNEi/2I/esiJwRlRIj8xowBjABIIitlTElOAk4DRHELRCIoZURwAEUBQQDEsUxxC0QiKGVEshGyFLISJLIQIrIBsyInB2VEIihlRHAARQFBAIixIicHZUQiKGVEshGLALISshQkshAisgGzIihlRIv+THAARQFBAE2xIihlRLIRiwCyEov+shQkshAisgGzIiplRCIoZURwAEUBQQAVsSIqZUQiKGVEshGyFSSyECKyAbOJIillRCIqZUQiKGVEiwEjiPsEiSIpZUQiKGVEi/5MiwAiiPryQv+1IillRCInB2VEIihlRIsAIoj63EL/eyIpZURPAnELRCIoZURPAyKI+sZC/zwiQv73IkL+qIoBADEAMgkSRCIqZUSL/xJEIiplRCIrZUQiKmVEIihlREEAaiIqZUQiKGVMTgJEIicJZURBADCxIitlRCIqZUQnDLIashqyGCWyECKyAbOxshWyESSyECKyAbaLArIJI7IQIrIBs4mxiwGyEYsAshUkshAisgG2shWyESSyECKyAbaLArIJI7IQIrIBs4kiJwllREEAJbEiK2VEIiplRCcMshqyGrIYJbIQIrIBs7GLArIJI7IQIrIBs4mxiwGyEYsAshUkshAisgG2iwKyCSOyECKyAbOJigEAMQAiKmVEEkQnBIv/Z4mKAQAxACIpZURyCEQSRCcPi/9niYoBADEAIillRHIIRBJEKYv/Z4mKAgAxADIJEkSL/jgHMgoSQQAgi/44CDIQEkEAFiNEsTIKi/+yESKyErIUJLIQIrIBs4kiQv/n","clear":"CoEBQw=="},"compilerInfo":{"compiler":"puya","compilerVersion":{"major":4,"minor":8,"patch":0}},"events":[],"templateVariables":{}} as unknown as Arc56Contract

/**
 * A state record containing binary data
 */
export interface BinaryState {
  /**
   * Gets the state value as a Uint8Array
   */
  asByteArray(): Uint8Array | undefined
  /**
   * Gets the state value as a string
   */
  asString(): string | undefined
}

class BinaryStateValue implements BinaryState {
  constructor(private value: Uint8Array | undefined) {}

  asByteArray(): Uint8Array | undefined {
    return this.value
  }

  asString(): string | undefined {
    return this.value !== undefined ? Buffer.from(this.value).toString('utf-8') : undefined
  }
}

/**
 * Expands types for IntelliSense so they are more human readable
 * See https://stackoverflow.com/a/69288824
 */
export type Expand<T> = T extends (...args: infer A) => infer R
  ? (...args: Expand<A>) => Expand<R>
  : T extends infer O
    ? { [K in keyof O]: O[K] }
    : never


/**
 * The argument types for the Listing contract
 */
export type ListingArgs = {
  /**
   * The object representation of the arguments for each method
   */
  obj: {
    'createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void': {
      prize: bigint | number
      isPrizeBox: boolean
      price: bigint | number
      paymentAsset: bigint | number
      expiration: bigint | number
      seller: string
      reservedFor: string
      creatorRoyalty: bigint | number
      gateId: bigint | number
      marketplace: string
      version: string
      akitaDao: bigint | number
    }
    'purchase(pay,address,address,byte[][])void': {
      /**
       * - the payment for purchasing the asset
       */
      payment: AppMethodCallTransactionArgument
      /**
       * - the buyer of the asset
       */
      buyer: string
      marketplace: string
      /**
       * - the args to pass to the gate
       */
      args: Uint8Array[]
    }
    'purchaseAsa(axfer,address,address,byte[][])void': {
      assetXfer: AppMethodCallTransactionArgument
      buyer: string
      marketplace: string
      args: Uint8Array[]
    }
    'delist(address)void': {
      caller: string
    }
    'changePrice(uint64)void': {
      price: bigint | number
    }
    'updateApplication(string)void': {
      newVersion: string
    }
    'updateAkitaDAO(uint64)void': {
      app: bigint | number
    }
    'optin(pay,uint64)void': {
      /**
       * The payment transaction
       */
      payment: AppMethodCallTransactionArgument
      /**
       * The asset to be opted into
       */
      asset: bigint | number
    }
  }
  /**
   * The tuple representation of the arguments for each method
   */
  tuple: {
    'createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void': [prize: bigint | number, isPrizeBox: boolean, price: bigint | number, paymentAsset: bigint | number, expiration: bigint | number, seller: string, reservedFor: string, creatorRoyalty: bigint | number, gateId: bigint | number, marketplace: string, version: string, akitaDao: bigint | number]
    'purchase(pay,address,address,byte[][])void': [payment: AppMethodCallTransactionArgument, buyer: string, marketplace: string, args: Uint8Array[]]
    'purchaseAsa(axfer,address,address,byte[][])void': [assetXfer: AppMethodCallTransactionArgument, buyer: string, marketplace: string, args: Uint8Array[]]
    'delist(address)void': [caller: string]
    'changePrice(uint64)void': [price: bigint | number]
    'updateApplication(string)void': [newVersion: string]
    'updateAkitaDAO(uint64)void': [app: bigint | number]
    'optin(pay,uint64)void': [payment: AppMethodCallTransactionArgument, asset: bigint | number]
  }
}

/**
 * The return type for each method
 */
export type ListingReturns = {
  'createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void': void
  'purchase(pay,address,address,byte[][])void': void
  'purchaseAsa(axfer,address,address,byte[][])void': void
  'delist(address)void': void
  'changePrice(uint64)void': void
  'updateApplication(string)void': void
  'updateAkitaDAO(uint64)void': void
  'optin(pay,uint64)void': void
}

/**
 * Defines the types of available calls and state of the Listing smart contract.
 */
export type ListingTypes = {
  /**
   * Maps method signatures / names to their argument and return types.
   */
  methods:
    & Record<'createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void' | 'createApplication', {
      argsObj: ListingArgs['obj']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void']
      argsTuple: ListingArgs['tuple']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void']
      returns: ListingReturns['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void']
    }>
    & Record<'purchase(pay,address,address,byte[][])void' | 'purchase', {
      argsObj: ListingArgs['obj']['purchase(pay,address,address,byte[][])void']
      argsTuple: ListingArgs['tuple']['purchase(pay,address,address,byte[][])void']
      returns: ListingReturns['purchase(pay,address,address,byte[][])void']
    }>
    & Record<'purchaseAsa(axfer,address,address,byte[][])void' | 'purchaseAsa', {
      argsObj: ListingArgs['obj']['purchaseAsa(axfer,address,address,byte[][])void']
      argsTuple: ListingArgs['tuple']['purchaseAsa(axfer,address,address,byte[][])void']
      returns: ListingReturns['purchaseAsa(axfer,address,address,byte[][])void']
    }>
    & Record<'delist(address)void' | 'delist', {
      argsObj: ListingArgs['obj']['delist(address)void']
      argsTuple: ListingArgs['tuple']['delist(address)void']
      returns: ListingReturns['delist(address)void']
    }>
    & Record<'changePrice(uint64)void' | 'changePrice', {
      argsObj: ListingArgs['obj']['changePrice(uint64)void']
      argsTuple: ListingArgs['tuple']['changePrice(uint64)void']
      returns: ListingReturns['changePrice(uint64)void']
    }>
    & Record<'updateApplication(string)void' | 'updateApplication', {
      argsObj: ListingArgs['obj']['updateApplication(string)void']
      argsTuple: ListingArgs['tuple']['updateApplication(string)void']
      returns: ListingReturns['updateApplication(string)void']
    }>
    & Record<'updateAkitaDAO(uint64)void' | 'updateAkitaDAO', {
      argsObj: ListingArgs['obj']['updateAkitaDAO(uint64)void']
      argsTuple: ListingArgs['tuple']['updateAkitaDAO(uint64)void']
      returns: ListingReturns['updateAkitaDAO(uint64)void']
    }>
    & Record<'optin(pay,uint64)void' | 'optin', {
      argsObj: ListingArgs['obj']['optin(pay,uint64)void']
      argsTuple: ListingArgs['tuple']['optin(pay,uint64)void']
      returns: ListingReturns['optin(pay,uint64)void']
    }>
  /**
   * Defines the shape of the state of the application.
   */
  state: {
    global: {
      keys: {
        /**
         * the asset for sale
         */
        prize: bigint
        /**
         * whether or not the prize is an asset or a prize box
         */
        isPrizeBox: bigint
        /**
         * the price of the asset
         */
        price: bigint
        /**
         * the asset to use for payment
         */
        paymentAsset: bigint
        /**
         * the timestamp the listing expires on, once this passes all that can be done is delist
         */
        expiration: bigint
        /**
         * the address selling the asset
         */
        seller: string
        /**
         * the address the sale is reserved for
         */
        reservedFor: string
        /**
         * the amount the creator will get for the sale
         */
        creatorRoyalty: bigint
        /**
         * the gate ID to use to check if the user is qualified to buy
         */
        gateId: bigint
        /**
        * The address of the marketplace that listed the asset to send the fee to
        
        IMPORTANT: this is a double sided marketplace fee contract
        the marketplace referred to internally in the contract
        is the listing side marketplace.
        the buyer side marketplace provides their address at
        the time of purchase

         */
        marketplace: string
        /**
         * the amount the marketplaces will get for the sale
         */
        marketplaceRoyalties: bigint
        /**
         * the current version of the contract
         */
        version: string
        /**
         * the app ID of the Akita DAO
         */
        akitaDao: bigint
      }
      maps: {}
    }
  }
}

/**
 * Defines the possible abi call signatures.
 */
export type ListingSignatures = keyof ListingTypes['methods']
/**
 * Defines the possible abi call signatures for methods that return a non-void value.
 */
export type ListingNonVoidMethodSignatures = keyof ListingTypes['methods'] extends infer T ? T extends keyof ListingTypes['methods'] ? MethodReturn<T> extends void ? never : T  : never : never
/**
 * Defines an object containing all relevant parameters for a single call to the contract.
 */
export type CallParams<TArgs> = Expand<
  Omit<AppClientMethodCallParams, 'method' | 'args' | 'onComplete'> &
    {
      /** The args for the ABI method call, either as an ordered array or an object */
      args: Expand<TArgs>
    }
>
/**
 * Maps a method signature from the Listing smart contract to the method's arguments in either tuple or struct form
 */
export type MethodArgs<TSignature extends ListingSignatures> = ListingTypes['methods'][TSignature]['argsObj' | 'argsTuple']
/**
 * Maps a method signature from the Listing smart contract to the method's return type
 */
export type MethodReturn<TSignature extends ListingSignatures> = ListingTypes['methods'][TSignature]['returns']

/**
 * Defines the shape of the keyed global state of the application.
 */
export type GlobalKeysState = ListingTypes['state']['global']['keys']


/**
 * Defines supported create method params for this smart contract
 */
export type ListingCreateCallParams =
  | Expand<CallParams<ListingArgs['obj']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void'] | ListingArgs['tuple']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void']> & {method: 'createApplication'} & {onComplete?: OnApplicationComplete.NoOpOC} & CreateSchema>
  | Expand<CallParams<ListingArgs['obj']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void'] | ListingArgs['tuple']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void']> & {method: 'createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void'} & {onComplete?: OnApplicationComplete.NoOpOC} & CreateSchema>
/**
 * Defines supported update method params for this smart contract
 */
export type ListingUpdateCallParams =
  | Expand<CallParams<ListingArgs['obj']['updateApplication(string)void'] | ListingArgs['tuple']['updateApplication(string)void']> & {method: 'updateApplication'}>
  | Expand<CallParams<ListingArgs['obj']['updateApplication(string)void'] | ListingArgs['tuple']['updateApplication(string)void']> & {method: 'updateApplication(string)void'}>
/**
 * Defines supported delete method params for this smart contract
 */
export type ListingDeleteCallParams =
  | Expand<CallParams<ListingArgs['obj']['purchase(pay,address,address,byte[][])void'] | ListingArgs['tuple']['purchase(pay,address,address,byte[][])void']> & {method: 'purchase'}>
  | Expand<CallParams<ListingArgs['obj']['purchase(pay,address,address,byte[][])void'] | ListingArgs['tuple']['purchase(pay,address,address,byte[][])void']> & {method: 'purchase(pay,address,address,byte[][])void'}>
  | Expand<CallParams<ListingArgs['obj']['delist(address)void'] | ListingArgs['tuple']['delist(address)void']> & {method: 'delist'}>
  | Expand<CallParams<ListingArgs['obj']['delist(address)void'] | ListingArgs['tuple']['delist(address)void']> & {method: 'delist(address)void'}>
/**
 * Defines arguments required for the deploy method.
 */
export type ListingDeployParams = Expand<Omit<AppFactoryDeployParams, 'createParams' | 'updateParams' | 'deleteParams'> & {
  /**
   * Create transaction parameters to use if a create needs to be issued as part of deployment; use `method` to define ABI call (if available) or leave out for a bare call (if available)
   */
  createParams?: ListingCreateCallParams
  /**
   * Update transaction parameters to use if a create needs to be issued as part of deployment; use `method` to define ABI call (if available) or leave out for a bare call (if available)
   */
  updateParams?: ListingUpdateCallParams
  /**
   * Delete transaction parameters to use if a create needs to be issued as part of deployment; use `method` to define ABI call (if available) or leave out for a bare call (if available)
   */
  deleteParams?: ListingDeleteCallParams
}>


/**
 * Exposes methods for constructing `AppClient` params objects for ABI calls to the Listing smart contract
 */
export abstract class ListingParamsFactory {
  /**
   * Gets available create ABI call param factories
   */
  static get create() {
    return {
      _resolveByMethod<TParams extends ListingCreateCallParams & {method: string}>(params: TParams) {
        switch(params.method) {
          case 'createApplication':
          case 'createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void':
            return ListingParamsFactory.create.createApplication(params)
        }
        throw new Error(`Unknown ' + verb + ' method`)
      },

      /**
       * Constructs create ABI call params for the Listing smart contract using the createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void ABI method
       *
       * @param params Parameters for the call
       * @returns An `AppClientMethodCallParams` object for the call
       */
      createApplication(params: CallParams<ListingArgs['obj']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void'] | ListingArgs['tuple']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void']> & AppClientCompilationParams & {onComplete?: OnApplicationComplete.NoOpOC}): AppClientMethodCallParams & AppClientCompilationParams & {onComplete?: OnApplicationComplete.NoOpOC} {
        return {
          ...params,
          method: 'createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void' as const,
          args: Array.isArray(params.args) ? params.args : [params.args.prize, params.args.isPrizeBox, params.args.price, params.args.paymentAsset, params.args.expiration, params.args.seller, params.args.reservedFor, params.args.creatorRoyalty, params.args.gateId, params.args.marketplace, params.args.version, params.args.akitaDao],
        }
      },
    }
  }

  /**
   * Gets available update ABI call param factories
   */
  static get update() {
    return {
      _resolveByMethod<TParams extends ListingUpdateCallParams & {method: string}>(params: TParams) {
        switch(params.method) {
          case 'updateApplication':
          case 'updateApplication(string)void':
            return ListingParamsFactory.update.updateApplication(params)
        }
        throw new Error(`Unknown ' + verb + ' method`)
      },

      /**
       * Constructs update ABI call params for the Listing smart contract using the updateApplication(string)void ABI method
       *
       * @param params Parameters for the call
       * @returns An `AppClientMethodCallParams` object for the call
       */
      updateApplication(params: CallParams<ListingArgs['obj']['updateApplication(string)void'] | ListingArgs['tuple']['updateApplication(string)void']> & AppClientCompilationParams): AppClientMethodCallParams & AppClientCompilationParams {
        return {
          ...params,
          method: 'updateApplication(string)void' as const,
          args: Array.isArray(params.args) ? params.args : [params.args.newVersion],
        }
      },
    }
  }

  /**
   * Gets available delete ABI call param factories
   */
  static get delete() {
    return {
      _resolveByMethod<TParams extends ListingDeleteCallParams & {method: string}>(params: TParams) {
        switch(params.method) {
          case 'purchase':
          case 'purchase(pay,address,address,byte[][])void':
            return ListingParamsFactory.delete.purchase(params)
          case 'delist':
          case 'delist(address)void':
            return ListingParamsFactory.delete.delist(params)
        }
        throw new Error(`Unknown ' + verb + ' method`)
      },

      /**
       * Constructs delete ABI call params for the Listing smart contract using the purchase(pay,address,address,byte[][])void ABI method
       *
       * @param params Parameters for the call
       * @returns An `AppClientMethodCallParams` object for the call
       */
      purchase(params: CallParams<ListingArgs['obj']['purchase(pay,address,address,byte[][])void'] | ListingArgs['tuple']['purchase(pay,address,address,byte[][])void']>): AppClientMethodCallParams {
        return {
          ...params,
          method: 'purchase(pay,address,address,byte[][])void' as const,
          args: Array.isArray(params.args) ? params.args : [params.args.payment, params.args.buyer, params.args.marketplace, params.args.args],
        }
      },
      /**
       * Constructs delete ABI call params for the Listing smart contract using the delist(address)void ABI method
       *
       * @param params Parameters for the call
       * @returns An `AppClientMethodCallParams` object for the call
       */
      delist(params: CallParams<ListingArgs['obj']['delist(address)void'] | ListingArgs['tuple']['delist(address)void']>): AppClientMethodCallParams {
        return {
          ...params,
          method: 'delist(address)void' as const,
          args: Array.isArray(params.args) ? params.args : [params.args.caller],
        }
      },
    }
  }

  /**
   * Constructs a no op call for the purchaseAsa(axfer,address,address,byte[][])void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static purchaseAsa(params: CallParams<ListingArgs['obj']['purchaseAsa(axfer,address,address,byte[][])void'] | ListingArgs['tuple']['purchaseAsa(axfer,address,address,byte[][])void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'purchaseAsa(axfer,address,address,byte[][])void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.assetXfer, params.args.buyer, params.args.marketplace, params.args.args],
    }
  }
  /**
   * Constructs a no op call for the changePrice(uint64)void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static changePrice(params: CallParams<ListingArgs['obj']['changePrice(uint64)void'] | ListingArgs['tuple']['changePrice(uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'changePrice(uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.price],
    }
  }
  /**
   * Constructs a no op call for the updateAkitaDAO(uint64)void ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static updateAkitaDao(params: CallParams<ListingArgs['obj']['updateAkitaDAO(uint64)void'] | ListingArgs['tuple']['updateAkitaDAO(uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'updateAkitaDAO(uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.app],
    }
  }
  /**
   * Constructs a no op call for the optin(pay,uint64)void ABI method
   *
   * optin tells the contract to opt into an asa
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static optin(params: CallParams<ListingArgs['obj']['optin(pay,uint64)void'] | ListingArgs['tuple']['optin(pay,uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'optin(pay,uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.payment, params.args.asset],
    }
  }
}

/**
 * A factory to create and deploy one or more instance of the Listing smart contract and to create one or more app clients to interact with those (or other) app instances
 */
export class ListingFactory {
  /**
   * The underlying `AppFactory` for when you want to have more flexibility
   */
  public readonly appFactory: _AppFactory

  /**
   * Creates a new instance of `ListingFactory`
   *
   * @param params The parameters to initialise the app factory with
   */
  constructor(params: Omit<AppFactoryParams, 'appSpec'>) {
    this.appFactory = new _AppFactory({
      ...params,
      appSpec: APP_SPEC,
    })
  }
  
  /** The name of the app (from the ARC-32 / ARC-56 app spec or override). */
  public get appName() {
    return this.appFactory.appName
  }
  
  /** The ARC-56 app spec being used */
  get appSpec() {
    return APP_SPEC
  }
  
  /** A reference to the underlying `AlgorandClient` this app factory is using. */
  public get algorand(): AlgorandClient {
    return this.appFactory.algorand
  }
  
  /**
   * Returns a new `AppClient` client for an app instance of the given ID.
   *
   * Automatically populates appName, defaultSender and source maps from the factory
   * if not specified in the params.
   * @param params The parameters to create the app client
   * @returns The `AppClient`
   */
  public getAppClientById(params: AppFactoryAppClientParams) {
    return new ListingClient(this.appFactory.getAppClientById(params))
  }
  
  /**
   * Returns a new `AppClient` client, resolving the app by creator address and name
   * using AlgoKit app deployment semantics (i.e. looking for the app creation transaction note).
   *
   * Automatically populates appName, defaultSender and source maps from the factory
   * if not specified in the params.
   * @param params The parameters to create the app client
   * @returns The `AppClient`
   */
  public async getAppClientByCreatorAndName(
    params: AppFactoryResolveAppClientByCreatorAndNameParams,
  ) {
    return new ListingClient(await this.appFactory.getAppClientByCreatorAndName(params))
  }

  /**
   * Idempotently deploys the Listing smart contract.
   *
   * @param params The arguments for the contract calls and any additional parameters for the call
   * @returns The deployment result
   */
  public async deploy(params: ListingDeployParams = {}) {
    const result = await this.appFactory.deploy({
      ...params,
      createParams: params.createParams?.method ? ListingParamsFactory.create._resolveByMethod(params.createParams) : params.createParams ? params.createParams as (ListingCreateCallParams & { args: Uint8Array[] }) : undefined,
      updateParams: params.updateParams?.method ? ListingParamsFactory.update._resolveByMethod(params.updateParams) : params.updateParams ? params.updateParams as (ListingUpdateCallParams & { args: Uint8Array[] }) : undefined,
      deleteParams: params.deleteParams?.method ? ListingParamsFactory.delete._resolveByMethod(params.deleteParams) : params.deleteParams ? params.deleteParams as (ListingDeleteCallParams & { args: Uint8Array[] }) : undefined,
    })
    return { result: result.result, appClient: new ListingClient(result.appClient) }
  }

  /**
   * Get parameters to create transactions (create and deploy related calls) for the current app. A good mental model for this is that these parameters represent a deferred transaction creation.
   */
  readonly params = {
    /**
     * Gets available create methods
     */
    create: {
      /**
       * Creates a new instance of the Listing smart contract using the createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void ABI method.
       *
       * create the listing application
       *
       * @param params The params for the smart contract call
       * @returns The create params
       */
      createApplication: (params: CallParams<ListingArgs['obj']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void'] | ListingArgs['tuple']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void']> & AppClientCompilationParams & CreateSchema & {onComplete?: OnApplicationComplete.NoOpOC}) => {
        return this.appFactory.params.create(ListingParamsFactory.create.createApplication(params))
      },
    },

    /**
     * Gets available deployUpdate methods
     */
    deployUpdate: {
      /**
       * Updates an existing instance of the Listing smart contract using the updateApplication(string)void ABI method.
       *
       * @param params The params for the smart contract call
       * @returns The deployUpdate params
       */
      updateApplication: (params: CallParams<ListingArgs['obj']['updateApplication(string)void'] | ListingArgs['tuple']['updateApplication(string)void']> & AppClientCompilationParams) => {
        return this.appFactory.params.deployUpdate(ListingParamsFactory.update.updateApplication(params))
      },
    },

    /**
     * Gets available deployDelete methods
     */
    deployDelete: {
      /**
       * Deletes an existing instance of the Listing smart contract using the purchase(pay,address,address,byte[][])void ABI method.
       *
       * @param params The params for the smart contract call
       * @returns The deployDelete params
       */
      purchase: (params: CallParams<ListingArgs['obj']['purchase(pay,address,address,byte[][])void'] | ListingArgs['tuple']['purchase(pay,address,address,byte[][])void']>) => {
        return this.appFactory.params.deployDelete(ListingParamsFactory.delete.purchase(params))
      },
      /**
       * Deletes an existing instance of the Listing smart contract using the delist(address)void ABI method.
       *
       * Deletes the app and returns the asset/mbr to the seller
       *
       * @param params The params for the smart contract call
       * @returns The deployDelete params
       */
      delist: (params: CallParams<ListingArgs['obj']['delist(address)void'] | ListingArgs['tuple']['delist(address)void']>) => {
        return this.appFactory.params.deployDelete(ListingParamsFactory.delete.delist(params))
      },
    },

  }

  /**
   * Create transactions for the current app
   */
  readonly createTransaction = {
    /**
     * Gets available create methods
     */
    create: {
      /**
       * Creates a new instance of the Listing smart contract using the createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void ABI method.
       *
       * create the listing application
       *
       * @param params The params for the smart contract call
       * @returns The create transaction
       */
      createApplication: (params: CallParams<ListingArgs['obj']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void'] | ListingArgs['tuple']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void']> & AppClientCompilationParams & CreateSchema & {onComplete?: OnApplicationComplete.NoOpOC}) => {
        return this.appFactory.createTransaction.create(ListingParamsFactory.create.createApplication(params))
      },
    },

  }

  /**
   * Send calls to the current app
   */
  readonly send = {
    /**
     * Gets available create methods
     */
    create: {
      /**
       * Creates a new instance of the Listing smart contract using an ABI method call using the createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void ABI method.
       *
       * create the listing application
       *
       * @param params The params for the smart contract call
       * @returns The create result
       */
      createApplication: async (params: CallParams<ListingArgs['obj']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void'] | ListingArgs['tuple']['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void']> & AppClientCompilationParams & CreateSchema & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
        const result = await this.appFactory.send.create(ListingParamsFactory.create.createApplication(params))
        return { result: { ...result.result, return: result.result.return as unknown as (undefined | ListingReturns['createApplication(uint64,bool,uint64,uint64,uint64,address,address,uint64,uint64,address,string,uint64)void']) }, appClient: new ListingClient(result.appClient) }
      },
    },

  }

}
/**
 * A client to make calls to the Listing smart contract
 */
export class ListingClient {
  /**
   * The underlying `AppClient` for when you want to have more flexibility
   */
  public readonly appClient: _AppClient

  /**
   * Creates a new instance of `ListingClient`
   *
   * @param appClient An `AppClient` instance which has been created with the Listing app spec
   */
  constructor(appClient: _AppClient)
  /**
   * Creates a new instance of `ListingClient`
   *
   * @param params The parameters to initialise the app client with
   */
  constructor(params: Omit<AppClientParams, 'appSpec'>)
  constructor(appClientOrParams: _AppClient | Omit<AppClientParams, 'appSpec'>) {
    this.appClient = appClientOrParams instanceof _AppClient ? appClientOrParams : new _AppClient({
      ...appClientOrParams,
      appSpec: APP_SPEC,
    })
  }
  
  /**
   * Checks for decode errors on the given return value and maps the return value to the return type for the given method
   * @returns The typed return value or undefined if there was no value
   */
  decodeReturnValue<TSignature extends ListingNonVoidMethodSignatures>(method: TSignature, returnValue: ABIReturn | undefined) {
    return returnValue !== undefined ? getArc56ReturnValue<MethodReturn<TSignature>>(returnValue, this.appClient.getABIMethod(method), APP_SPEC.structs) : undefined
  }
  
  /**
   * Returns a new `ListingClient` client, resolving the app by creator address and name
   * using AlgoKit app deployment semantics (i.e. looking for the app creation transaction note).
   * @param params The parameters to create the app client
   */
  public static async fromCreatorAndName(params: Omit<ResolveAppClientByCreatorAndName, 'appSpec'>): Promise<ListingClient> {
    return new ListingClient(await _AppClient.fromCreatorAndName({...params, appSpec: APP_SPEC}))
  }
  
  /**
   * Returns an `ListingClient` instance for the current network based on
   * pre-determined network-specific app IDs specified in the ARC-56 app spec.
   *
   * If no IDs are in the app spec or the network isn't recognised, an error is thrown.
   * @param params The parameters to create the app client
   */
  static async fromNetwork(
    params: Omit<ResolveAppClientByNetwork, 'appSpec'>
  ): Promise<ListingClient> {
    return new ListingClient(await _AppClient.fromNetwork({...params, appSpec: APP_SPEC}))
  }
  
  /** The ID of the app instance this client is linked to. */
  public get appId() {
    return this.appClient.appId
  }
  
  /** The app address of the app instance this client is linked to. */
  public get appAddress() {
    return this.appClient.appAddress
  }
  
  /** The name of the app. */
  public get appName() {
    return this.appClient.appName
  }
  
  /** The ARC-56 app spec being used */
  public get appSpec() {
    return this.appClient.appSpec
  }
  
  /** A reference to the underlying `AlgorandClient` this app client is using. */
  public get algorand(): AlgorandClient {
    return this.appClient.algorand
  }

  /**
   * Get parameters to create transactions for the current app. A good mental model for this is that these parameters represent a deferred transaction creation.
   */
  readonly params = {
    /**
     * Gets available update methods
     */
    update: {
      /**
       * Updates an existing instance of the Listing smart contract using the `updateApplication(string)void` ABI method.
       *
       * @param params The params for the smart contract call
       * @returns The update params
       */
      updateApplication: (params: CallParams<ListingArgs['obj']['updateApplication(string)void'] | ListingArgs['tuple']['updateApplication(string)void']> & AppClientCompilationParams) => {
        return this.appClient.params.update(ListingParamsFactory.update.updateApplication(params))
      },

    },

    /**
     * Gets available delete methods
     */
    delete: {
      /**
       * Deletes an existing instance of the Listing smart contract using the `purchase(pay,address,address,byte[][])void` ABI method.
       *
       * @param params The params for the smart contract call
       * @returns The delete params
       */
      purchase: (params: CallParams<ListingArgs['obj']['purchase(pay,address,address,byte[][])void'] | ListingArgs['tuple']['purchase(pay,address,address,byte[][])void']>) => {
        return this.appClient.params.delete(ListingParamsFactory.delete.purchase(params))
      },

      /**
       * Deletes an existing instance of the Listing smart contract using the `delist(address)void` ABI method.
       *
       * Deletes the app and returns the asset/mbr to the seller
       *
       * @param params The params for the smart contract call
       * @returns The delete params
       */
      delist: (params: CallParams<ListingArgs['obj']['delist(address)void'] | ListingArgs['tuple']['delist(address)void']>) => {
        return this.appClient.params.delete(ListingParamsFactory.delete.delist(params))
      },

    },

    /**
     * Makes a clear_state call to an existing instance of the Listing smart contract.
     *
     * @param params The params for the bare (raw) call
     * @returns The clearState result
     */
    clearState: (params?: Expand<AppClientBareCallParams>) => {
      return this.appClient.params.bare.clearState(params)
    },

    /**
     * Makes a call to the Listing smart contract using the `purchaseAsa(axfer,address,address,byte[][])void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    purchaseAsa: (params: CallParams<ListingArgs['obj']['purchaseAsa(axfer,address,address,byte[][])void'] | ListingArgs['tuple']['purchaseAsa(axfer,address,address,byte[][])void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(ListingParamsFactory.purchaseAsa(params))
    },

    /**
     * Makes a call to the Listing smart contract using the `changePrice(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    changePrice: (params: CallParams<ListingArgs['obj']['changePrice(uint64)void'] | ListingArgs['tuple']['changePrice(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(ListingParamsFactory.changePrice(params))
    },

    /**
     * Makes a call to the Listing smart contract using the `updateAkitaDAO(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    updateAkitaDao: (params: CallParams<ListingArgs['obj']['updateAkitaDAO(uint64)void'] | ListingArgs['tuple']['updateAkitaDAO(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(ListingParamsFactory.updateAkitaDao(params))
    },

    /**
     * Makes a call to the Listing smart contract using the `optin(pay,uint64)void` ABI method.
     *
     * optin tells the contract to opt into an asa
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    optin: (params: CallParams<ListingArgs['obj']['optin(pay,uint64)void'] | ListingArgs['tuple']['optin(pay,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(ListingParamsFactory.optin(params))
    },

  }

  /**
   * Create transactions for the current app
   */
  readonly createTransaction = {
    /**
     * Gets available update methods
     */
    update: {
      /**
       * Updates an existing instance of the Listing smart contract using the `updateApplication(string)void` ABI method.
       *
       * @param params The params for the smart contract call
       * @returns The update transaction
       */
      updateApplication: (params: CallParams<ListingArgs['obj']['updateApplication(string)void'] | ListingArgs['tuple']['updateApplication(string)void']> & AppClientCompilationParams) => {
        return this.appClient.createTransaction.update(ListingParamsFactory.update.updateApplication(params))
      },

    },

    /**
     * Gets available delete methods
     */
    delete: {
      /**
       * Deletes an existing instance of the Listing smart contract using the `purchase(pay,address,address,byte[][])void` ABI method.
       *
       * @param params The params for the smart contract call
       * @returns The delete transaction
       */
      purchase: (params: CallParams<ListingArgs['obj']['purchase(pay,address,address,byte[][])void'] | ListingArgs['tuple']['purchase(pay,address,address,byte[][])void']>) => {
        return this.appClient.createTransaction.delete(ListingParamsFactory.delete.purchase(params))
      },

      /**
       * Deletes an existing instance of the Listing smart contract using the `delist(address)void` ABI method.
       *
       * Deletes the app and returns the asset/mbr to the seller
       *
       * @param params The params for the smart contract call
       * @returns The delete transaction
       */
      delist: (params: CallParams<ListingArgs['obj']['delist(address)void'] | ListingArgs['tuple']['delist(address)void']>) => {
        return this.appClient.createTransaction.delete(ListingParamsFactory.delete.delist(params))
      },

    },

    /**
     * Makes a clear_state call to an existing instance of the Listing smart contract.
     *
     * @param params The params for the bare (raw) call
     * @returns The clearState result
     */
    clearState: (params?: Expand<AppClientBareCallParams>) => {
      return this.appClient.createTransaction.bare.clearState(params)
    },

    /**
     * Makes a call to the Listing smart contract using the `purchaseAsa(axfer,address,address,byte[][])void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    purchaseAsa: (params: CallParams<ListingArgs['obj']['purchaseAsa(axfer,address,address,byte[][])void'] | ListingArgs['tuple']['purchaseAsa(axfer,address,address,byte[][])void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(ListingParamsFactory.purchaseAsa(params))
    },

    /**
     * Makes a call to the Listing smart contract using the `changePrice(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    changePrice: (params: CallParams<ListingArgs['obj']['changePrice(uint64)void'] | ListingArgs['tuple']['changePrice(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(ListingParamsFactory.changePrice(params))
    },

    /**
     * Makes a call to the Listing smart contract using the `updateAkitaDAO(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    updateAkitaDao: (params: CallParams<ListingArgs['obj']['updateAkitaDAO(uint64)void'] | ListingArgs['tuple']['updateAkitaDAO(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(ListingParamsFactory.updateAkitaDao(params))
    },

    /**
     * Makes a call to the Listing smart contract using the `optin(pay,uint64)void` ABI method.
     *
     * optin tells the contract to opt into an asa
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    optin: (params: CallParams<ListingArgs['obj']['optin(pay,uint64)void'] | ListingArgs['tuple']['optin(pay,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(ListingParamsFactory.optin(params))
    },

  }

  /**
   * Send calls to the current app
   */
  readonly send = {
    /**
     * Gets available update methods
     */
    update: {
      /**
       * Updates an existing instance of the Listing smart contract using the `updateApplication(string)void` ABI method.
       *
       * @param params The params for the smart contract call
       * @returns The update result
       */
      updateApplication: async (params: CallParams<ListingArgs['obj']['updateApplication(string)void'] | ListingArgs['tuple']['updateApplication(string)void']> & AppClientCompilationParams & SendParams) => {
        const result = await this.appClient.send.update(ListingParamsFactory.update.updateApplication(params))
        return {...result, return: result.return as unknown as (undefined | ListingReturns['updateApplication(string)void'])}
      },

    },

    /**
     * Gets available delete methods
     */
    delete: {
      /**
       * Deletes an existing instance of the Listing smart contract using the `purchase(pay,address,address,byte[][])void` ABI method.
       *
       * @param params The params for the smart contract call
       * @returns The delete result
       */
      purchase: async (params: CallParams<ListingArgs['obj']['purchase(pay,address,address,byte[][])void'] | ListingArgs['tuple']['purchase(pay,address,address,byte[][])void']> & SendParams) => {
        const result = await this.appClient.send.delete(ListingParamsFactory.delete.purchase(params))
        return {...result, return: result.return as unknown as (undefined | ListingReturns['purchase(pay,address,address,byte[][])void'])}
      },

      /**
       * Deletes an existing instance of the Listing smart contract using the `delist(address)void` ABI method.
       *
       * Deletes the app and returns the asset/mbr to the seller
       *
       * @param params The params for the smart contract call
       * @returns The delete result
       */
      delist: async (params: CallParams<ListingArgs['obj']['delist(address)void'] | ListingArgs['tuple']['delist(address)void']> & SendParams) => {
        const result = await this.appClient.send.delete(ListingParamsFactory.delete.delist(params))
        return {...result, return: result.return as unknown as (undefined | ListingReturns['delist(address)void'])}
      },

    },

    /**
     * Makes a clear_state call to an existing instance of the Listing smart contract.
     *
     * @param params The params for the bare (raw) call
     * @returns The clearState result
     */
    clearState: (params?: Expand<AppClientBareCallParams & SendParams>) => {
      return this.appClient.send.bare.clearState(params)
    },

    /**
     * Makes a call to the Listing smart contract using the `purchaseAsa(axfer,address,address,byte[][])void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    purchaseAsa: async (params: CallParams<ListingArgs['obj']['purchaseAsa(axfer,address,address,byte[][])void'] | ListingArgs['tuple']['purchaseAsa(axfer,address,address,byte[][])void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(ListingParamsFactory.purchaseAsa(params))
      return {...result, return: result.return as unknown as (undefined | ListingReturns['purchaseAsa(axfer,address,address,byte[][])void'])}
    },

    /**
     * Makes a call to the Listing smart contract using the `changePrice(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    changePrice: async (params: CallParams<ListingArgs['obj']['changePrice(uint64)void'] | ListingArgs['tuple']['changePrice(uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(ListingParamsFactory.changePrice(params))
      return {...result, return: result.return as unknown as (undefined | ListingReturns['changePrice(uint64)void'])}
    },

    /**
     * Makes a call to the Listing smart contract using the `updateAkitaDAO(uint64)void` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    updateAkitaDao: async (params: CallParams<ListingArgs['obj']['updateAkitaDAO(uint64)void'] | ListingArgs['tuple']['updateAkitaDAO(uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(ListingParamsFactory.updateAkitaDao(params))
      return {...result, return: result.return as unknown as (undefined | ListingReturns['updateAkitaDAO(uint64)void'])}
    },

    /**
     * Makes a call to the Listing smart contract using the `optin(pay,uint64)void` ABI method.
     *
     * optin tells the contract to opt into an asa
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    optin: async (params: CallParams<ListingArgs['obj']['optin(pay,uint64)void'] | ListingArgs['tuple']['optin(pay,uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(ListingParamsFactory.optin(params))
      return {...result, return: result.return as unknown as (undefined | ListingReturns['optin(pay,uint64)void'])}
    },

  }

  /**
   * Clone this app client with different params
   *
   * @param params The params to use for the the cloned app client. Omit a param to keep the original value. Set a param to override the original value. Setting to undefined will clear the original value.
   * @returns A new app client with the altered params
   */
  public clone(params: CloneAppClientParams) {
    return new ListingClient(this.appClient.clone(params))
  }

  /**
   * Methods to access state for the current Listing app
   */
  state = {
    /**
     * Methods to access global state for the current Listing app
     */
    global: {
      /**
       * Get all current keyed values from global state
       */
      getAll: async (): Promise<Partial<Expand<GlobalKeysState>>> => {
        const result = await this.appClient.state.global.getAll()
        return {
          prize: result.prize,
          isPrizeBox: result.isPrizeBox,
          price: result.price,
          paymentAsset: result.paymentAsset,
          expiration: result.expiration,
          seller: result.seller,
          reservedFor: result.reservedFor,
          creatorRoyalty: result.creatorRoyalty,
          gateId: result.gateID,
          marketplace: result.marketplace,
          marketplaceRoyalties: result.marketplaceRoyalties,
          version: result.version,
          akitaDao: result.akitaDAO,
        }
      },
      /**
       * Get the current value of the prize key in global state
       */
      prize: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("prize")) as bigint | undefined },
      /**
       * Get the current value of the isPrizeBox key in global state
       */
      isPrizeBox: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("isPrizeBox")) as bigint | undefined },
      /**
       * Get the current value of the price key in global state
       */
      price: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("price")) as bigint | undefined },
      /**
       * Get the current value of the paymentAsset key in global state
       */
      paymentAsset: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("paymentAsset")) as bigint | undefined },
      /**
       * Get the current value of the expiration key in global state
       */
      expiration: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("expiration")) as bigint | undefined },
      /**
       * Get the current value of the seller key in global state
       */
      seller: async (): Promise<string | undefined> => { return (await this.appClient.state.global.getValue("seller")) as string | undefined },
      /**
       * Get the current value of the reservedFor key in global state
       */
      reservedFor: async (): Promise<string | undefined> => { return (await this.appClient.state.global.getValue("reservedFor")) as string | undefined },
      /**
       * Get the current value of the creatorRoyalty key in global state
       */
      creatorRoyalty: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("creatorRoyalty")) as bigint | undefined },
      /**
       * Get the current value of the gateID key in global state
       */
      gateId: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("gateID")) as bigint | undefined },
      /**
       * Get the current value of the marketplace key in global state
       */
      marketplace: async (): Promise<string | undefined> => { return (await this.appClient.state.global.getValue("marketplace")) as string | undefined },
      /**
       * Get the current value of the marketplaceRoyalties key in global state
       */
      marketplaceRoyalties: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("marketplaceRoyalties")) as bigint | undefined },
      /**
       * Get the current value of the version key in global state
       */
      version: async (): Promise<string | undefined> => { return (await this.appClient.state.global.getValue("version")) as string | undefined },
      /**
       * Get the current value of the akitaDAO key in global state
       */
      akitaDao: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("akitaDAO")) as bigint | undefined },
    },
  }

  public newGroup(): ListingComposer {
    const client = this
    const composer = this.algorand.newGroup()
    let promiseChain:Promise<unknown> = Promise.resolve()
    const resultMappers: Array<undefined | ((x: ABIReturn | undefined) => any)> = []
    return {
      /**
       * Add a purchaseAsa(axfer,address,address,byte[][])void method call against the Listing contract
       */
      purchaseAsa(params: CallParams<ListingArgs['obj']['purchaseAsa(axfer,address,address,byte[][])void'] | ListingArgs['tuple']['purchaseAsa(axfer,address,address,byte[][])void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.purchaseAsa(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a changePrice(uint64)void method call against the Listing contract
       */
      changePrice(params: CallParams<ListingArgs['obj']['changePrice(uint64)void'] | ListingArgs['tuple']['changePrice(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.changePrice(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a updateAkitaDAO(uint64)void method call against the Listing contract
       */
      updateAkitaDao(params: CallParams<ListingArgs['obj']['updateAkitaDAO(uint64)void'] | ListingArgs['tuple']['updateAkitaDAO(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.updateAkitaDao(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a optin(pay,uint64)void method call against the Listing contract
       */
      optin(params: CallParams<ListingArgs['obj']['optin(pay,uint64)void'] | ListingArgs['tuple']['optin(pay,uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.optin(params)))
        resultMappers.push(undefined)
        return this
      },
      get update() {
        return {
          updateApplication: (params: CallParams<ListingArgs['obj']['updateApplication(string)void'] | ListingArgs['tuple']['updateApplication(string)void']> & AppClientCompilationParams) => {
            promiseChain = promiseChain.then(async () => composer.addAppUpdateMethodCall(await client.params.update.updateApplication(params)))
            resultMappers.push(undefined)
            return this
          },
        }
      },
      get delete() {
        return {
          purchase: (params: CallParams<ListingArgs['obj']['purchase(pay,address,address,byte[][])void'] | ListingArgs['tuple']['purchase(pay,address,address,byte[][])void']>) => {
            promiseChain = promiseChain.then(async () => composer.addAppDeleteMethodCall(await client.params.delete.purchase(params)))
            resultMappers.push(undefined)
            return this
          },
          delist: (params: CallParams<ListingArgs['obj']['delist(address)void'] | ListingArgs['tuple']['delist(address)void']>) => {
            promiseChain = promiseChain.then(async () => composer.addAppDeleteMethodCall(await client.params.delete.delist(params)))
            resultMappers.push(undefined)
            return this
          },
        }
      },
      /**
       * Add a clear state call to the Listing contract
       */
      clearState(params: AppClientBareCallParams) {
        promiseChain = promiseChain.then(() => composer.addAppCall(client.params.clearState(params)))
        return this
      },
      addTransaction(txn: Transaction, signer?: TransactionSigner) {
        promiseChain = promiseChain.then(() => composer.addTransaction(txn, signer))
        return this
      },
      async composer() {
        await promiseChain
        return composer
      },
      async simulate(options?: SimulateOptions) {
        await promiseChain
        const result = await (!options ? composer.simulate() : composer.simulate(options))
        return {
          ...result,
          returns: result.returns?.map((val, i) => resultMappers[i] !== undefined ? resultMappers[i]!(val) : val.returnValue)
        }
      },
      async send(params?: SendParams) {
        await promiseChain
        const result = await composer.send(params)
        return {
          ...result,
          returns: result.returns?.map((val, i) => resultMappers[i] !== undefined ? resultMappers[i]!(val) : val.returnValue)
        }
      }
    } as unknown as ListingComposer
  }
}
export type ListingComposer<TReturns extends [...any[]] = []> = {
  /**
   * Calls the purchaseAsa(axfer,address,address,byte[][])void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  purchaseAsa(params?: CallParams<ListingArgs['obj']['purchaseAsa(axfer,address,address,byte[][])void'] | ListingArgs['tuple']['purchaseAsa(axfer,address,address,byte[][])void']>): ListingComposer<[...TReturns, ListingReturns['purchaseAsa(axfer,address,address,byte[][])void'] | undefined]>

  /**
   * Calls the changePrice(uint64)void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  changePrice(params?: CallParams<ListingArgs['obj']['changePrice(uint64)void'] | ListingArgs['tuple']['changePrice(uint64)void']>): ListingComposer<[...TReturns, ListingReturns['changePrice(uint64)void'] | undefined]>

  /**
   * Calls the updateAkitaDAO(uint64)void ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  updateAkitaDao(params?: CallParams<ListingArgs['obj']['updateAkitaDAO(uint64)void'] | ListingArgs['tuple']['updateAkitaDAO(uint64)void']>): ListingComposer<[...TReturns, ListingReturns['updateAkitaDAO(uint64)void'] | undefined]>

  /**
   * Calls the optin(pay,uint64)void ABI method.
   *
   * optin tells the contract to opt into an asa
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  optin(params?: CallParams<ListingArgs['obj']['optin(pay,uint64)void'] | ListingArgs['tuple']['optin(pay,uint64)void']>): ListingComposer<[...TReturns, ListingReturns['optin(pay,uint64)void'] | undefined]>

  /**
   * Gets available delete methods
   */
  readonly delete: {
    /**
     * Deletes an existing instance of the Listing smart contract using the purchase(pay,address,address,byte[][])void ABI method.
     *
     * @param args The arguments for the smart contract call
     * @param params Any additional parameters for the call
     * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
     */
    purchase(params?: CallParams<ListingArgs['obj']['purchase(pay,address,address,byte[][])void'] | ListingArgs['tuple']['purchase(pay,address,address,byte[][])void']>): ListingComposer<[...TReturns, ListingReturns['purchase(pay,address,address,byte[][])void'] | undefined]>
    /**
     * Deletes an existing instance of the Listing smart contract using the delist(address)void ABI method.
     *
     * @param args The arguments for the smart contract call
     * @param params Any additional parameters for the call
     * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
     */
    delist(params?: CallParams<ListingArgs['obj']['delist(address)void'] | ListingArgs['tuple']['delist(address)void']>): ListingComposer<[...TReturns, ListingReturns['delist(address)void'] | undefined]>
  }

  /**
   * Gets available update methods
   */
  readonly update: {
    /**
     * Updates an existing instance of the Listing smart contract using the updateApplication(string)void ABI method.
     *
     * @param args The arguments for the smart contract call
     * @param params Any additional parameters for the call
     * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
     */
    updateApplication(params?: CallParams<ListingArgs['obj']['updateApplication(string)void'] | ListingArgs['tuple']['updateApplication(string)void']>): ListingComposer<[...TReturns, ListingReturns['updateApplication(string)void'] | undefined]>
  }

  /**
   * Makes a clear_state call to an existing instance of the Listing smart contract.
   *
   * @param args The arguments for the bare call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  clearState(params?: AppClientBareCallParams): ListingComposer<[...TReturns, undefined]>

  /**
   * Adds a transaction to the composer
   *
   * @param txn A transaction to add to the transaction group
   * @param signer The optional signer to use when signing this transaction.
   */
  addTransaction(txn: Transaction, signer?: TransactionSigner): ListingComposer<TReturns>
  /**
   * Returns the underlying AtomicTransactionComposer instance
   */
  composer(): Promise<TransactionComposer>
  /**
   * Simulates the transaction group and returns the result
   */
  simulate(): Promise<ListingComposerResults<TReturns> & { simulateResponse: SimulateResponse }>
  simulate(options: SkipSignaturesSimulateOptions): Promise<ListingComposerResults<TReturns> & { simulateResponse: SimulateResponse }>
  simulate(options: RawSimulateOptions): Promise<ListingComposerResults<TReturns> & { simulateResponse: SimulateResponse }>
  /**
   * Sends the transaction group to the network and returns the results
   */
  send(params?: SendParams): Promise<ListingComposerResults<TReturns>>
}
export type ListingComposerResults<TReturns extends [...any[]]> = Expand<SendAtomicTransactionComposerResults & {
  returns: TReturns
}>

