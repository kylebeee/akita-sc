import { getArc56ReturnValue, getABIStructFromABITuple } from '@algorandfoundation/algokit-utils/types/app-arc56';
import { AppClient as _AppClient, } from '@algorandfoundation/algokit-utils/types/app-client';
import { AppFactory as _AppFactory } from '@algorandfoundation/algokit-utils/types/app-factory';
export const APP_SPEC = { "name": "Gate", "structs": { "GateFilterEntryWithArgs": [{ "name": "layer", "type": "uint64" }, { "name": "app", "type": "uint64" }, { "name": "registryEntry", "type": "uint64" }, { "name": "logicalOperator", "type": "uint8" }, { "name": "args", "type": "byte[]" }] }, "methods": [{ "name": "create", "args": [{ "type": "string", "name": "version" }, { "type": "uint64", "name": "akitaDAO" }], "returns": { "type": "void" }, "actions": { "create": ["NoOp"], "call": [] }, "readonly": false, "events": [], "recommendations": {} }, { "name": "register", "args": [{ "type": "pay", "name": "payment" }, { "type": "(uint64,uint64,uint8)[]", "name": "filters" }, { "type": "byte[][]", "name": "args" }], "returns": { "type": "uint64" }, "actions": { "create": [], "call": ["NoOp"] }, "readonly": false, "events": [], "recommendations": {} }, { "name": "check", "args": [{ "type": "address", "name": "caller" }, { "type": "uint64", "name": "gateID" }, { "type": "byte[][]", "name": "args" }], "returns": { "type": "bool" }, "actions": { "create": [], "call": ["NoOp"] }, "readonly": false, "events": [], "recommendations": {} }, { "name": "mustCheck", "args": [{ "type": "address", "name": "caller" }, { "type": "uint64", "name": "gateID" }, { "type": "byte[][]", "name": "args" }], "returns": { "type": "void" }, "actions": { "create": [], "call": ["NoOp"] }, "readonly": false, "events": [], "recommendations": {} }, { "name": "cost", "args": [{ "type": "(uint64,uint64,uint8)[]", "name": "filters" }, { "type": "byte[][]", "name": "args" }], "returns": { "type": "uint64" }, "actions": { "create": [], "call": ["NoOp"] }, "readonly": true, "events": [], "recommendations": {} }, { "name": "size", "args": [{ "type": "uint64", "name": "gateID" }], "returns": { "type": "uint64" }, "actions": { "create": [], "call": ["NoOp"] }, "readonly": true, "events": [], "recommendations": {} }, { "name": "getGate", "args": [{ "type": "uint64", "name": "gateID" }], "returns": { "type": "(uint64,uint64,uint64,uint8,byte[])[]" }, "actions": { "create": [], "call": ["NoOp"] }, "readonly": true, "events": [], "recommendations": {} }, { "name": "gateFilterEntryWithArgsShape", "args": [{ "type": "(uint64,uint64,uint64,uint8,byte[])", "struct": "GateFilterEntryWithArgs", "name": "shape" }], "returns": { "type": "(uint64,uint64,uint64,uint8,byte[])", "struct": "GateFilterEntryWithArgs" }, "actions": { "create": [], "call": ["NoOp"] }, "readonly": true, "events": [], "recommendations": {} }, { "name": "opUp", "args": [], "returns": { "type": "void" }, "actions": { "create": [], "call": ["NoOp"] }, "readonly": true, "events": [], "recommendations": {} }, { "name": "updateAkitaDAO", "args": [{ "type": "uint64", "name": "akitaDAO" }], "returns": { "type": "void" }, "actions": { "create": [], "call": ["NoOp"] }, "readonly": false, "events": [], "recommendations": {} }], "arcs": [22, 28], "networks": {}, "state": { "schema": { "global": { "ints": 2, "bytes": 1 }, "local": { "ints": 0, "bytes": 0 } }, "keys": { "global": { "gateCursor": { "keyType": "AVMString", "valueType": "AVMUint64", "key": "Z2F0ZV9jdXJzb3I=", "desc": "the id cursor for gates" }, "version": { "keyType": "AVMString", "valueType": "AVMString", "key": "dmVyc2lvbg==", "desc": "the current version of the contract" }, "akitaDAO": { "keyType": "AVMString", "valueType": "AVMUint64", "key": "YWtpdGFfZGFv", "desc": "the app ID of the Akita DAO" } }, "local": {}, "box": {} }, "maps": { "global": {}, "local": {}, "box": { "gateRegistry": { "keyType": "uint64", "valueType": "(uint64,uint64,uint64,uint8)[]", "prefix": "Zw==" } } } }, "bareActions": { "create": [], "call": [] }, "sourceInfo": { "approval": { "sourceInfo": [{ "pc": [328, 393, 665, 819, 1556], "errorMessage": "Bytes has valid prefix" }, { "pc": [553], "errorMessage": "Gate check failed" }, { "pc": [462], "errorMessage": "Invalid payment" }, { "pc": [53], "errorMessage": "OnCompletion must be NoOp" }, { "pc": [1063], "errorMessage": "Only the Akita DAO can call this function" }, { "pc": [346, 1061], "errorMessage": "application exists" }, { "pc": [466, 1048], "errorMessage": "check GlobalState exists" }, { "pc": [257, 283, 608, 623, 1111, 1124, 1229, 1253, 1271, 1337, 1378], "errorMessage": "index access is out of bounds" }, { "pc": [221, 574], "errorMessage": "invalid number of bytes for (len+(uint64,uint64,uint8)[])" }, { "pc": [828], "errorMessage": "invalid number of bytes for (len+uint8[])" }, { "pc": [158], "errorMessage": "invalid number of bytes for (len+utf8[])" }, { "pc": [1561], "errorMessage": "invalid number of bytes for bool8" }, { "pc": [169, 333, 398, 506, 544, 670, 700, 736, 1041], "errorMessage": "invalid number of bytes for uint64" }, { "pc": [498, 536], "errorMessage": "invalid number of bytes for uint8[32]" }, { "pc": [423], "errorMessage": "max array length exceeded" }, { "pc": [200], "errorMessage": "transaction type is pay" }], "pcOffsetMethod": "none" }, "clear": { "sourceInfo": [], "pcOffsetMethod": "none" } }, "source": { "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDIgOAogICAgYnl0ZWNibG9jayAweDE1MWY3Yzc1ICJnIiAiYWtpdGFfZGFvIiAiZ2F0ZV9jdXJzb3IiIDB4MDAwMCAweDMyOWYwNGVlIDB4MDY4MTAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoyOQogICAgLy8gZXhwb3J0IGNsYXNzIEdhdGUgZXh0ZW5kcyBjbGFzc2VzKEJhc2VHYXRlLCBBa2l0YUJhc2VDb250cmFjdCkgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBtdXN0IGJlIE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBieiBtYWluX2NyZWF0ZV9Ob09wQDE1CiAgICBwdXNoYnl0ZXNzIDB4YzIxYzdiYTAgMHgyMDBmNzQyMSAweDQzOTIyNjU1IDB4YzVjOTFmOGYgMHhkZjU2YjAxZSAweDYxZGRjMTY1IDB4ZGE2Y2RlZjQgMHg4NTRkZWRlMCAweDMzZTkyYzk0IC8vIG1ldGhvZCAicmVnaXN0ZXIocGF5LCh1aW50NjQsdWludDY0LHVpbnQ4KVtdLGJ5dGVbXVtdKXVpbnQ2NCIsIG1ldGhvZCAiY2hlY2soYWRkcmVzcyx1aW50NjQsYnl0ZVtdW10pYm9vbCIsIG1ldGhvZCAibXVzdENoZWNrKGFkZHJlc3MsdWludDY0LGJ5dGVbXVtdKXZvaWQiLCBtZXRob2QgImNvc3QoKHVpbnQ2NCx1aW50NjQsdWludDgpW10sYnl0ZVtdW10pdWludDY0IiwgbWV0aG9kICJzaXplKHVpbnQ2NCl1aW50NjQiLCBtZXRob2QgImdldEdhdGUodWludDY0KSh1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50OCxieXRlW10pW10iLCBtZXRob2QgImdhdGVGaWx0ZXJFbnRyeVdpdGhBcmdzU2hhcGUoKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ4LGJ5dGVbXSkpKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ4LGJ5dGVbXSkiLCBtZXRob2QgIm9wVXAoKXZvaWQiLCBtZXRob2QgInVwZGF0ZUFraXRhREFPKHVpbnQ2NCl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggcmVnaXN0ZXIgY2hlY2sgbXVzdENoZWNrIGNvc3Qgc2l6ZSBnZXRHYXRlIGdhdGVGaWx0ZXJFbnRyeVdpdGhBcmdzU2hhcGUgbWFpbl9vcFVwX3JvdXRlQDEyIHVwZGF0ZUFraXRhREFPCiAgICBlcnIKCm1haW5fb3BVcF9yb3V0ZUAxMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjIzOAogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2NyZWF0ZV9Ob09wQDE1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MjkKICAgIC8vIGV4cG9ydCBjbGFzcyBHYXRlIGV4dGVuZHMgY2xhc3NlcyhCYXNlR2F0ZSwgQWtpdGFCYXNlQ29udHJhY3QpIHsKICAgIHB1c2hieXRlcyAweGNkOWFkNjdlIC8vIG1ldGhvZCAiY3JlYXRlKHN0cmluZyx1aW50NjQpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIGNyZWF0ZQogICAgZXJyCgoKLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6OkdhdGUuY3JlYXRlW3JvdXRpbmddKCkgLT4gdm9pZDoKY3JlYXRlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTExCiAgICAvLyBAYWJpbWV0aG9kKHsgb25DcmVhdGU6ICdyZXF1aXJlJyB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGludGNfMiAvLyAyCiAgICArCiAgICBkaWcgMQogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciAobGVuK3V0ZjhbXSkKICAgIGV4dHJhY3QgMiAwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIHVpbnQ2NAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MjcKICAgIC8vIHZlcnNpb24gPSBHbG9iYWxTdGF0ZTxzdHJpbmc+KHsga2V5OiBHbG9iYWxTdGF0ZUtleVZlcnNpb24gfSkKICAgIHB1c2hieXRlcyAidmVyc2lvbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjExMwogICAgLy8gdGhpcy52ZXJzaW9uLnZhbHVlID0gdmVyc2lvbgogICAgdW5jb3ZlciAyCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MjkKICAgIC8vIGFraXRhREFPID0gR2xvYmFsU3RhdGU8QXBwbGljYXRpb24+KHsga2V5OiBHbG9iYWxTdGF0ZUtleUFraXRhREFPIH0pCiAgICBieXRlY18yIC8vICJha2l0YV9kYW8iCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxMTQKICAgIC8vIHRoaXMuYWtpdGFEQU8udmFsdWUgPSBBcHBsaWNhdGlvbihha2l0YURBTykKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czozNAogICAgLy8gZ2F0ZUN1cnNvciA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6IEdhdGVHbG9iYWxTdGF0ZUtleUN1cnNvciB9KQogICAgYnl0ZWNfMyAvLyAiZ2F0ZV9jdXJzb3IiCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxMTUKICAgIC8vIHRoaXMuZ2F0ZUN1cnNvci52YWx1ZSA9IDEKICAgIGludGNfMSAvLyAxCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTExCiAgICAvLyBAYWJpbWV0aG9kKHsgb25DcmVhdGU6ICdyZXF1aXJlJyB9KQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjpHYXRlLnJlZ2lzdGVyW3JvdXRpbmddKCkgLT4gdm9pZDoKcmVnaXN0ZXI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxMzMKICAgIC8vIHJlZ2lzdGVyKHBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwgZmlsdGVyczogR2F0ZUZpbHRlcltdLCBhcmdzOiBHYXRlQXJncyk6IHVpbnQ2NCB7CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMSAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cG4gMgogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGR1cAogICAgcHVzaGludCAxNyAvLyAxNwogICAgKgogICAgaW50Y18yIC8vIDIKICAgICsKICAgIHVuY292ZXIgMgogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciAobGVuKyh1aW50NjQsdWludDY0LHVpbnQ4KVtdKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTM1CiAgICAvLyBjb25zdCBtYnJDb3N0cyA9IHRoaXMubWJyKGZpbHRlcnMubGVuZ3RoKQogICAgY2FsbHN1YiBtYnIKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTM3CiAgICAvLyBsZXQgcmVxdWlyZWRDb3N0czogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjEzOAogICAgLy8gbGV0IGVudHJpZXM6IEdhdGVGaWx0ZXJFbnRyeVtdID0gW10KICAgIGJ5dGVjIDQgLy8gMHgwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxMzkKICAgIC8vIGxldCBsYXN0RmlsdGVyTGF5ZXI6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxNDEKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSArPSAxKSB7CiAgICBkdXAKCnJlZ2lzdGVyX3doaWxlX3RvcEAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTQxCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkgKz0gMSkgewogICAgZHVwCiAgICBkaWcgNgogICAgPAogICAgYnogcmVnaXN0ZXJfYWZ0ZXJfd2hpbGVANwogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTQzCiAgICAvLyBhc3NlcnQoZmlsdGVyc1tpXS5sYXllciA+PSBsYXN0RmlsdGVyTGF5ZXIpCiAgICBkaWcgNgogICAgZXh0cmFjdCAyIDAKICAgIGRpZyAxCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIHB1c2hpbnQgMTcgLy8gMTcKICAgICoKICAgIHB1c2hpbnQgMTcgLy8gMTcKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZGlnIDUKICAgID49CiAgICBhc3NlcnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE0Ni0xNDkKICAgIC8vIGNvbnN0IGNvc3QgPSBhYmlDYWxsPHR5cGVvZiBNb2NrR2F0ZS5wcm90b3R5cGUuY29zdD4oewogICAgLy8gICBhcHBJZDogZmlsdGVyc1tpXS5hcHAsCiAgICAvLyAgIGFyZ3M6IFthcmdzW2ldXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxNDcKICAgIC8vIGFwcElkOiBmaWx0ZXJzW2ldLmFwcCwKICAgIGRpZyAxCiAgICBpbnRjXzMgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE0OAogICAgLy8gYXJnczogW2FyZ3NbaV1dLAogICAgZGlnIDgKICAgIGR1cAogICAgZXh0cmFjdCAyIDAKICAgIHN3YXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZGlnIDUKICAgID4KICAgIGFzc2VydCAvLyBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZGlnIDQKICAgIGludGNfMiAvLyAyCiAgICAqCiAgICBkaWcgMQogICAgc3dhcAogICAgZXh0cmFjdF91aW50MTYKICAgIGR1cDIKICAgIGV4dHJhY3RfdWludDE2CiAgICBpbnRjXzIgLy8gMgogICAgKwogICAgZXh0cmFjdDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE0Ni0xNDkKICAgIC8vIGNvbnN0IGNvc3QgPSBhYmlDYWxsPHR5cGVvZiBNb2NrR2F0ZS5wcm90b3R5cGUuY29zdD4oewogICAgLy8gICBhcHBJZDogZmlsdGVyc1tpXS5hcHAsCiAgICAvLyAgIGFyZ3M6IFthcmdzW2ldXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBieXRlYyA1IC8vIG1ldGhvZCAiY29zdChieXRlW10pdWludDY0IgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGR1cAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGRpZyAxCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCA0IDAKICAgIHN3YXAKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciB1aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE1MQogICAgLy8gcmVxdWlyZWRDb3N0cyArPSBjb3N0CiAgICBkaWcgOQogICAgZGlnIDEKICAgICsKICAgIGJ1cnkgMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE1NAogICAgLy8gcmVjZWl2ZXI6IEFwcGxpY2F0aW9uKGZpbHRlcnNbaV0uYXBwKS5hZGRyZXNzLAogICAgZGlnIDIKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE1OC0xNjEKICAgIC8vIGNvbnN0IHJlZ2lzdHJ5RW50cnkgPSBhYmlDYWxsPHR5cGVvZiBNb2NrR2F0ZS5wcm90b3R5cGUucmVnaXN0ZXI+KHsKICAgIC8vICAgYXBwSWQ6IGZpbHRlcnNbaV0uYXBwLAogICAgLy8gICBhcmdzOiBbcGF5bWVudCwgYXJnc1tpXV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE1My0xNTYKICAgIC8vIGNvbnN0IHBheW1lbnQgPSBpdHhuLnBheW1lbnQoewogICAgLy8gICByZWNlaXZlcjogQXBwbGljYXRpb24oZmlsdGVyc1tpXS5hcHApLmFkZHJlc3MsCiAgICAvLyAgIGFtb3VudDogY29zdAogICAgLy8gfSkKICAgIGludGNfMSAvLyAxCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE1OC0xNjEKICAgIC8vIGNvbnN0IHJlZ2lzdHJ5RW50cnkgPSBhYmlDYWxsPHR5cGVvZiBNb2NrR2F0ZS5wcm90b3R5cGUucmVnaXN0ZXI+KHsKICAgIC8vICAgYXBwSWQ6IGZpbHRlcnNbaV0uYXBwLAogICAgLy8gICBhcmdzOiBbcGF5bWVudCwgYXJnc1tpXV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgaXR4bl9uZXh0CiAgICBwdXNoYnl0ZXMgMHg3N2JiNzliOSAvLyBtZXRob2QgInJlZ2lzdGVyKHBheSxieXRlW10pdWludDY0IgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBkdXAKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIGdpdHhuIDEgTGFzdExvZwogICAgZHVwCiAgICBleHRyYWN0IDQgMAogICAgc3dhcAogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIHVpbnQ2NAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTYzCiAgICAvLyBlbnRyaWVzLnB1c2goeyAuLi5maWx0ZXJzW2ldLCByZWdpc3RyeUVudHJ5IH0pCiAgICB1bmNvdmVyIDMKICAgIGV4dHJhY3QgMTYgMQogICAgZGlnIDMKICAgIGl0b2IKICAgIHVuY292ZXIgMwogICAgaXRvYgogICAgY29uY2F0CiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICBkaWcgNQogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdCAvLyBvbiBlcnJvcjogbWF4IGFycmF5IGxlbmd0aCBleGNlZWRlZAogICAgc3dhcAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHJlcGxhY2UyIDAKICAgIGJ1cnkgNQogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTQxCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkgKz0gMSkgewogICAgc3dhcAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMgogICAgYnVyeSAyCiAgICBiIHJlZ2lzdGVyX3doaWxlX3RvcEAyCgpyZWdpc3Rlcl9hZnRlcl93aGlsZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTY2LTE3MwogICAgLy8gYXNzZXJ0TWF0Y2goCiAgICAvLyAgIHBheW1lbnQsCiAgICAvLyAgIHsKICAgIC8vICAgICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYW1vdW50OiByZXF1aXJlZENvc3RzLAogICAgLy8gICB9LAogICAgLy8gICBFUlJfSU5WQUxJRF9QQVlNRU5UCiAgICAvLyApCiAgICBkaWcgNwogICAgZHVwCiAgICBndHhucyBSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTY5CiAgICAvLyByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTY2LTE3MwogICAgLy8gYXNzZXJ0TWF0Y2goCiAgICAvLyAgIHBheW1lbnQsCiAgICAvLyAgIHsKICAgIC8vICAgICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYW1vdW50OiByZXF1aXJlZENvc3RzLAogICAgLy8gICB9LAogICAgLy8gICBFUlJfSU5WQUxJRF9QQVlNRU5UCiAgICAvLyApCiAgICA9PQogICAgc3dhcAogICAgZ3R4bnMgQW1vdW50CiAgICBkaWcgNQogICAgPT0KICAgICYmCiAgICBhc3NlcnQgLy8gSW52YWxpZCBwYXltZW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo0NQogICAgLy8gY29uc3QgaWQgPSB0aGlzLmdhdGVDdXJzb3IudmFsdWUKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czozNAogICAgLy8gZ2F0ZUN1cnNvciA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBrZXk6IEdhdGVHbG9iYWxTdGF0ZUtleUN1cnNvciB9KQogICAgYnl0ZWNfMyAvLyAiZ2F0ZV9jdXJzb3IiCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo0NQogICAgLy8gY29uc3QgaWQgPSB0aGlzLmdhdGVDdXJzb3IudmFsdWUKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo0NgogICAgLy8gdGhpcy5nYXRlQ3Vyc29yLnZhbHVlICs9IDEKICAgIGR1cAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjM0CiAgICAvLyBnYXRlQ3Vyc29yID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGtleTogR2F0ZUdsb2JhbFN0YXRlS2V5Q3Vyc29yIH0pCiAgICBieXRlY18zIC8vICJnYXRlX2N1cnNvciIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjQ2CiAgICAvLyB0aGlzLmdhdGVDdXJzb3IudmFsdWUgKz0gMQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE3NgogICAgLy8gdGhpcy5nYXRlUmVnaXN0cnkoaWQpLnZhbHVlID0gY2xvbmUoZW50cmllcykKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjQwCiAgICAvLyBnYXRlUmVnaXN0cnkgPSBCb3hNYXA8dWludDY0LCBHYXRlRmlsdGVyRW50cnlbXT4oeyBrZXlQcmVmaXg6IEdhdGVCb3hQcmVmaXhHYXRlUmVnaXN0cnkgfSkKICAgIGJ5dGVjXzEgLy8gImciCiAgICBkaWcgMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxNzYKICAgIC8vIHRoaXMuZ2F0ZVJlZ2lzdHJ5KGlkKS52YWx1ZSA9IGNsb25lKGVudHJpZXMpCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgZGlnIDQKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjEzMwogICAgLy8gcmVnaXN0ZXIocGF5bWVudDogZ3R4bi5QYXltZW50VHhuLCBmaWx0ZXJzOiBHYXRlRmlsdGVyW10sIGFyZ3M6IEdhdGVBcmdzKTogdWludDY0IHsKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo6R2F0ZS5jaGVja1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmNoZWNrOgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTgwCiAgICAvLyBjaGVjayhjYWxsZXI6IEFjY291bnQsIGdhdGVJRDogdWludDY0LCBhcmdzOiBHYXRlQXJncyk6IGJvb2xlYW4gewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIHVpbnQ4WzMyXQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciB1aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGNhbGxzdWIgc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6OkdhdGUuY2hlY2sKICAgIHBvcAogICAgcHVzaGJ5dGVzIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjpHYXRlLm11c3RDaGVja1tyb3V0aW5nXSgpIC0+IHZvaWQ6Cm11c3RDaGVjazoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE4NgogICAgLy8gbXVzdENoZWNrKGNhbGxlcjogQWNjb3VudCwgZ2F0ZUlEOiB1aW50NjQsIGFyZ3M6IEdhdGVBcmdzKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgdWludDhbMzJdCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIHVpbnQ2NAogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTg3CiAgICAvLyBhc3NlcnQodGhpcy5jaGVjayhjYWxsZXIsIGdhdGVJRCwgYXJncyksIEVSUl9HQVRFX0ZBSUxFRCkKICAgIGNhbGxzdWIgc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6OkdhdGUuY2hlY2sKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTg2CiAgICAvLyBtdXN0Q2hlY2soY2FsbGVyOiBBY2NvdW50LCBnYXRlSUQ6IHVpbnQ2NCwgYXJnczogR2F0ZUFyZ3MpOiB2b2lkIHsKICAgIHJldHVybiAvLyBvbiBlcnJvcjogR2F0ZSBjaGVjayBmYWlsZWQKCgovLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo6R2F0ZS5jb3N0W3JvdXRpbmddKCkgLT4gdm9pZDoKY29zdDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE5MgogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXBuIDIKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBkdXAKICAgIHB1c2hpbnQgMTcgLy8gMTcKICAgICoKICAgIGludGNfMiAvLyAyCiAgICArCiAgICB1bmNvdmVyIDIKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgKGxlbisodWludDY0LHVpbnQ2NCx1aW50OClbXSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE5NAogICAgLy8gY29uc3QgbWJyQ29zdHMgPSB0aGlzLm1icihmaWx0ZXJzLmxlbmd0aCkKICAgIGNhbGxzdWIgbWJyCiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE5NgogICAgLy8gbGV0IHJlcXVpcmVkQ29zdHM6IHVpbnQ2NCA9IDAKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxOTcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSArPSAxKSB7CiAgICBkdXAKCmNvc3Rfd2hpbGVfdG9wQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxOTcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSArPSAxKSB7CiAgICBkdXAKICAgIGRpZyA0CiAgICA8CiAgICBieiBjb3N0X2FmdGVyX3doaWxlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE5OC0yMDEKICAgIC8vIGNvbnN0IGNvc3QgPSBhYmlDYWxsPHR5cGVvZiBNb2NrR2F0ZS5wcm90b3R5cGUuY29zdD4oewogICAgLy8gICBhcHBJZDogZmlsdGVyc1tpXS5hcHAsCiAgICAvLyAgIGFyZ3M6IFthcmdzW2ldXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxOTkKICAgIC8vIGFwcElkOiBmaWx0ZXJzW2ldLmFwcCwKICAgIGRpZyA0CiAgICBleHRyYWN0IDIgMAogICAgZGlnIDEKICAgIGR1cAogICAgY292ZXIgMgogICAgcHVzaGludCAxNyAvLyAxNwogICAgKgogICAgcHVzaGludCAxNyAvLyAxNwogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBpbnRjXzMgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjIwMAogICAgLy8gYXJnczogW2FyZ3NbaV1dLAogICAgZGlnIDQKICAgIGR1cAogICAgZXh0cmFjdCAyIDAKICAgIHN3YXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZGlnIDMKICAgID4KICAgIGFzc2VydCAvLyBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZGlnIDIKICAgIGludGNfMiAvLyAyCiAgICAqCiAgICBkaWcgMQogICAgc3dhcAogICAgZXh0cmFjdF91aW50MTYKICAgIGR1cDIKICAgIGV4dHJhY3RfdWludDE2CiAgICBpbnRjXzIgLy8gMgogICAgKwogICAgZXh0cmFjdDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE5OC0yMDEKICAgIC8vIGNvbnN0IGNvc3QgPSBhYmlDYWxsPHR5cGVvZiBNb2NrR2F0ZS5wcm90b3R5cGUuY29zdD4oewogICAgLy8gICBhcHBJZDogZmlsdGVyc1tpXS5hcHAsCiAgICAvLyAgIGFyZ3M6IFthcmdzW2ldXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBieXRlYyA1IC8vIG1ldGhvZCAiY29zdChieXRlW10pdWludDY0IgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCA0IDAKICAgIHN3YXAKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciB1aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjIwMwogICAgLy8gcmVxdWlyZWRDb3N0cyArPSBjb3N0CiAgICBkaWcgMwogICAgKwogICAgYnVyeSAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxOTcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxCiAgICBiIGNvc3Rfd2hpbGVfdG9wQDIKCmNvc3RfYWZ0ZXJfd2hpbGVANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE5MgogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBkaWcgMQogICAgaXRvYgogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjpHYXRlLnNpemVbcm91dGluZ10oKSAtPiB2b2lkOgpzaXplOgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MjA4CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgdWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoyMTAKICAgIC8vIGFzc2VydCh0aGlzLmdhdGVSZWdpc3RyeShnYXRlSUQpLmV4aXN0cykKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjQwCiAgICAvLyBnYXRlUmVnaXN0cnkgPSBCb3hNYXA8dWludDY0LCBHYXRlRmlsdGVyRW50cnlbXT4oeyBrZXlQcmVmaXg6IEdhdGVCb3hQcmVmaXhHYXRlUmVnaXN0cnkgfSkKICAgIGJ5dGVjXzEgLy8gImciCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjIxMAogICAgLy8gYXNzZXJ0KHRoaXMuZ2F0ZVJlZ2lzdHJ5KGdhdGVJRCkuZXhpc3RzKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydAogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MjExCiAgICAvLyByZXR1cm4gdGhpcy5nYXRlUmVnaXN0cnkoZ2F0ZUlEKS52YWx1ZS5sZW5ndGgKICAgIGludGNfMCAvLyAwCiAgICBpbnRjXzIgLy8gMgogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjIwOAogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBpdG9iCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6OkdhdGUuZ2V0R2F0ZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldEdhdGU6CiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiAyCiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cG4gMwogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MjE0CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgdWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoyMTYKICAgIC8vIGFzc2VydCh0aGlzLmdhdGVSZWdpc3RyeShnYXRlSUQpLmV4aXN0cykKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjQwCiAgICAvLyBnYXRlUmVnaXN0cnkgPSBCb3hNYXA8dWludDY0LCBHYXRlRmlsdGVyRW50cnlbXT4oeyBrZXlQcmVmaXg6IEdhdGVCb3hQcmVmaXhHYXRlUmVnaXN0cnkgfSkKICAgIGJ5dGVjXzEgLy8gImciCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MjE2CiAgICAvLyBhc3NlcnQodGhpcy5nYXRlUmVnaXN0cnkoZ2F0ZUlEKS5leGlzdHMpCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydAogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MjIwCiAgICAvLyBsZXQgZW50cmllc1dpdGhBcmdzOiBHYXRlRmlsdGVyRW50cnlXaXRoQXJnc1tdID0gW10KICAgIGJ5dGVjIDQgLy8gMHgwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoyMjEKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSArPSAxKSB7CiAgICBpbnRjXzAgLy8gMAoKZ2V0R2F0ZV93aGlsZV90b3BAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjIyMQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyBpICs9IDEpIHsKICAgIGRpZyAyCiAgICBpbnRjXzAgLy8gMAogICAgaW50Y18yIC8vIDIKICAgIGJveF9leHRyYWN0CiAgICBidG9pCiAgICBkaWcgMQogICAgPgogICAgYnogZ2V0R2F0ZV9hZnRlcl93aGlsZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoyMjItMjI1CiAgICAvLyBjb25zdCBhcmdzID0gYWJpQ2FsbDx0eXBlb2YgTW9ja0dhdGUucHJvdG90eXBlLmdldEVudHJ5Pih7CiAgICAvLyAgIGFwcElkOiBlbnRyaWVzW2ldLmFwcCwKICAgIC8vICAgYXJnczogW2VudHJpZXNbaV0ucmVnaXN0cnlFbnRyeV0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MjIzCiAgICAvLyBhcHBJZDogZW50cmllc1tpXS5hcHAsCiAgICBkdXAKICAgIHB1c2hpbnQgMjUgLy8gMjUKICAgICoKICAgIGludGNfMiAvLyAyCiAgICArCiAgICBkaWcgMwogICAgc3dhcAogICAgcHVzaGludCAyNSAvLyAyNQogICAgYm94X2V4dHJhY3QKICAgIGR1cAogICAgaW50Y18zIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoyMjMtMjI0CiAgICAvLyBhcHBJZDogZW50cmllc1tpXS5hcHAsCiAgICAvLyBhcmdzOiBbZW50cmllc1tpXS5yZWdpc3RyeUVudHJ5XSwKICAgIGRpZyAxCiAgICBleHRyYWN0IDE2IDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjIyMi0yMjUKICAgIC8vIGNvbnN0IGFyZ3MgPSBhYmlDYWxsPHR5cGVvZiBNb2NrR2F0ZS5wcm90b3R5cGUuZ2V0RW50cnk+KHsKICAgIC8vICAgYXBwSWQ6IGVudHJpZXNbaV0uYXBwLAogICAgLy8gICBhcmdzOiBbZW50cmllc1tpXS5yZWdpc3RyeUVudHJ5XSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBwdXNoYnl0ZXMgMHg5MGQ0ZmE1ZCAvLyBtZXRob2QgImdldEVudHJ5KHVpbnQ2NClieXRlW10iCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZHVwCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZGlnIDEKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gTGFzdExvZwogICAgZHVwCiAgICBleHRyYWN0IDQgMAogICAgZGlnIDEKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGludGNfMiAvLyAyCiAgICArCiAgICBzd2FwCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIChsZW4rdWludDhbXSkKICAgIGV4dHJhY3QgNiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoyMjcKICAgIC8vIGVudHJpZXNXaXRoQXJncy5wdXNoKHsgLi4uZW50cmllc1tpXSwgYXJncyB9KQogICAgZGlnIDMKICAgIGV4dHJhY3QgMCA4CiAgICB1bmNvdmVyIDQKICAgIGV4dHJhY3QgMjQgMQogICAgdW5jb3ZlciA0CiAgICBpdG9iCiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgdW5jb3ZlciAzCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZGlnIDEKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBwdXNoYnl0ZXMgMHgwMDFiCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZGlnIDIKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGJ1cnkgMTAKICAgIGV4dHJhY3QgMiAwCiAgICBidXJ5IDEyCiAgICBwdXNoYnl0ZXMgMHgwMDAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGJ1cnkgOQogICAgcHVzaGJ5dGVzIDB4CiAgICBidXJ5IDEwCiAgICBpbnRjXzIgLy8gMgogICAgKgogICAgYnVyeSA0CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA1CgpnZXRHYXRlX2Zvcl9oZWFkZXJANzoKICAgIGRpZyA0CiAgICBkaWcgNAogICAgPAogICAgYnogZ2V0R2F0ZV9hZnRlcl9mb3JAOQogICAgZGlnIDkKICAgIGRpZyA1CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGV4dHJhY3RfdWludDE2CiAgICBpbnRjXzIgLy8gMgogICAgKwogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIGRpZyAxMAogICAgc3dhcAogICAgY29uY2F0CiAgICBidXJ5IDEwCiAgICBpbnRjXzIgLy8gMgogICAgKwogICAgYnVyeSA1CiAgICBiIGdldEdhdGVfZm9yX2hlYWRlckA3CgpnZXRHYXRlX2FmdGVyX2ZvckA5OgogICAgZGlnIDkKICAgIGxlbgogICAgYnVyeSA2CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA1CgpnZXRHYXRlX2Zvcl9oZWFkZXJAMTA6CiAgICBkaWcgNAogICAgaW50Y18yIC8vIDIKICAgIDwKICAgIGJ6IGdldEdhdGVfYWZ0ZXJfZm9yQDEyCiAgICBkaWcgNwogICAgZGlnIDUKICAgIGR1cAogICAgY292ZXIgMgogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyA3CiAgICArCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgZGlnIDEwCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGJ1cnkgMTAKICAgIGludGNfMiAvLyAyCiAgICArCiAgICBidXJ5IDUKICAgIGIgZ2V0R2F0ZV9mb3JfaGVhZGVyQDEwCgpnZXRHYXRlX2FmdGVyX2ZvckAxMjoKICAgIGRpZyA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoyMjcKICAgIC8vIGVudHJpZXNXaXRoQXJncy5wdXNoKHsgLi4uZW50cmllc1tpXSwgYXJncyB9KQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBkaWcgOQogICAgY29uY2F0CiAgICBkaWcgMTAKICAgIGRpZyA1CiAgICBkaWcgOAogICAgc3Vic3RyaW5nMwogICAgY29uY2F0CiAgICBkaWcgOAogICAgZXh0cmFjdCAyIDAKICAgIGNvbmNhdAogICAgYnVyeSAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoyMjEKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSArPSAxKSB7CiAgICBkdXAKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDEKICAgIGIgZ2V0R2F0ZV93aGlsZV90b3BAMgoKZ2V0R2F0ZV9hZnRlcl93aGlsZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MjE0CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgZGlnIDIKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6OkdhdGUuZ2F0ZUZpbHRlckVudHJ5V2l0aEFyZ3NTaGFwZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmdhdGVGaWx0ZXJFbnRyeVdpdGhBcmdzU2hhcGU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoyMzMKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjpBa2l0YUJhc2VDb250cmFjdC51cGRhdGVBa2l0YURBT1tyb3V0aW5nXSgpIC0+IHZvaWQ6CnVwZGF0ZUFraXRhREFPOgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MzgKICAgIC8vIHVwZGF0ZUFraXRhREFPKGFraXRhREFPOiBBcHBsaWNhdGlvbik6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciB1aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjM5CiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gdGhpcy5nZXRBa2l0YURBT1dhbGxldCgpLmFkZHJlc3MsIEVSUl9OT1RfQUtJVEFfREFPKQogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MzIKICAgIC8vIGNvbnN0IFt3YWxsZXRJRF0gPSBvcC5BcHBHbG9iYWwuZ2V0RXhVaW50NjQodGhpcy5ha2l0YURBTy52YWx1ZSwgQnl0ZXMoQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNXYWxsZXQpKQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjI5CiAgICAvLyBha2l0YURBTyA9IEdsb2JhbFN0YXRlPEFwcGxpY2F0aW9uPih7IGtleTogR2xvYmFsU3RhdGVLZXlBa2l0YURBTyB9KQogICAgYnl0ZWNfMiAvLyAiYWtpdGFfZGFvIgogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MzIKICAgIC8vIGNvbnN0IFt3YWxsZXRJRF0gPSBvcC5BcHBHbG9iYWwuZ2V0RXhVaW50NjQodGhpcy5ha2l0YURBTy52YWx1ZSwgQnl0ZXMoQWtpdGFEQU9HbG9iYWxTdGF0ZUtleXNXYWxsZXQpKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHB1c2hieXRlcyAid2FsbGV0IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3V0aWxzL2Jhc2UtY29udHJhY3RzL2Jhc2UudHM6MzkKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0aGlzLmdldEFraXRhREFPV2FsbGV0KCkuYWRkcmVzcywgRVJSX05PVF9BS0lUQV9EQU8pCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgdGhlIEFraXRhIERBTyBjYW4gY2FsbCB0aGlzIGZ1bmN0aW9uCiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czoyOQogICAgLy8gYWtpdGFEQU8gPSBHbG9iYWxTdGF0ZTxBcHBsaWNhdGlvbj4oeyBrZXk6IEdsb2JhbFN0YXRlS2V5QWtpdGFEQU8gfSkKICAgIGJ5dGVjXzIgLy8gImFraXRhX2RhbyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy91dGlscy9iYXNlLWNvbnRyYWN0cy9iYXNlLnRzOjQwCiAgICAvLyB0aGlzLmFraXRhREFPLnZhbHVlID0gYWtpdGFEQU8KICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvdXRpbHMvYmFzZS1jb250cmFjdHMvYmFzZS50czozOAogICAgLy8gdXBkYXRlQWtpdGFEQU8oYWtpdGFEQU86IEFwcGxpY2F0aW9uKTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6OkdhdGUuZXZhbHVhdGUoY2FsbGVyOiBieXRlcywgZmlsdGVyczogYnl0ZXMsIHN0YXJ0OiB1aW50NjQsIGVuZDogdWludDY0LCBhcmdzOiBieXRlcykgLT4gdWludDY0LCBieXRlcywgYnl0ZXM6CmV2YWx1YXRlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6NTAtNTYKICAgIC8vIHByaXZhdGUgZXZhbHVhdGUoCiAgICAvLyAgIGNhbGxlcjogQWNjb3VudCwKICAgIC8vICAgZmlsdGVyczogR2F0ZUZpbHRlckVudHJ5W10sCiAgICAvLyAgIHN0YXJ0OiB1aW50NjQsCiAgICAvLyAgIGVuZDogdWludDY0LAogICAgLy8gICBhcmdzOiBHYXRlQXJncwogICAgLy8gKTogYm9vbGVhbiB7CiAgICBwcm90byA1IDMKICAgIGludGNfMCAvLyAwCiAgICBkdXBuIDIKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo1NwogICAgLy8gaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gdHJ1ZQogICAgZnJhbWVfZGlnIC0zCiAgICBmcmFtZV9kaWcgLTIKICAgID4KICAgIGJ6IGV2YWx1YXRlX2FmdGVyX2lmX2Vsc2VAMgogICAgaW50Y18xIC8vIDEKICAgIGZyYW1lX2RpZyAtNAogICAgZnJhbWVfZGlnIC0xCiAgICBmcmFtZV9idXJ5IDIKICAgIGZyYW1lX2J1cnkgMQogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCmV2YWx1YXRlX2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjU5CiAgICAvLyBsZXQgcmVzdWx0ID0gdGhpcy5ldmFsdWF0ZUZpbHRlcihjYWxsZXIsIGZpbHRlcnNbc3RhcnRdLCBhcmdzW3N0YXJ0XSkKICAgIGZyYW1lX2RpZyAtNAogICAgZXh0cmFjdCAyIDAKICAgIGZyYW1lX2RpZyAtMwogICAgcHVzaGludCAyNSAvLyAyNQogICAgKgogICAgcHVzaGludCAyNSAvLyAyNQogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBmcmFtZV9kaWcgLTEKICAgIGV4dHJhY3QgMiAwCiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZnJhbWVfZGlnIC0zCiAgICA+CiAgICBhc3NlcnQgLy8gaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGZyYW1lX2RpZyAtMwogICAgaW50Y18yIC8vIDIKICAgICoKICAgIGRpZyAxCiAgICBzd2FwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZHVwMgogICAgZXh0cmFjdF91aW50MTYKICAgIGludGNfMiAvLyAyCiAgICArCiAgICBleHRyYWN0MwogICAgZXh0cmFjdCAyIDAKICAgIGZyYW1lX2RpZyAtNQogICAgY292ZXIgMgogICAgY2FsbHN1YiBldmFsdWF0ZUZpbHRlcgogICAgcG9wCiAgICBmcmFtZV9idXJ5IDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjYxCiAgICAvLyBlbnN1cmVCdWRnZXQoMTAwICogKGVuZCAtIHN0YXJ0KSkKICAgIGZyYW1lX2RpZyAtMgogICAgZnJhbWVfZGlnIC0zCiAgICAtCiAgICBwdXNoaW50IDEwMCAvLyAxMDAKICAgICoKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgICsKICAgIGZyYW1lX2J1cnkgOAoKZXZhbHVhdGVfd2hpbGVfdG9wQDM0OgogICAgZnJhbWVfZGlnIDgKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgID4KICAgIGJ6IGV2YWx1YXRlX2FmdGVyX3doaWxlQDM5CiAgICBpdHhuX2JlZ2luCiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgcHVzaGludCA1IC8vIERlbGV0ZUFwcGxpY2F0aW9uCiAgICBpdHhuX2ZpZWxkIE9uQ29tcGxldGlvbgogICAgYnl0ZWMgNiAvLyAweDA2ODEwMQogICAgaXR4bl9maWVsZCBBcHByb3ZhbFByb2dyYW0KICAgIGJ5dGVjIDYgLy8gMHgwNjgxMDEKICAgIGl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIGIgZXZhbHVhdGVfd2hpbGVfdG9wQDM0CgpldmFsdWF0ZV9hZnRlcl93aGlsZUAzOToKICAgIGZyYW1lX2RpZyAtMwogICAgZnJhbWVfYnVyeSA0CgpldmFsdWF0ZV93aGlsZV90b3BAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjYzCiAgICAvLyBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIDQKICAgIGZyYW1lX2RpZyAtMgogICAgPAogICAgYnogZXZhbHVhdGVfYWZ0ZXJfd2hpbGVAMjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjY0CiAgICAvLyBjb25zdCBjdXJyZW50T3BlcmF0b3IgPSBmaWx0ZXJzW2ldLmxvZ2ljYWxPcGVyYXRvcgogICAgZnJhbWVfZGlnIC00CiAgICBleHRyYWN0IDIgMAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIGZyYW1lX2RpZyA0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIHB1c2hpbnQgMjUgLy8gMjUKICAgICoKICAgIGRpZyAxCiAgICBzd2FwCiAgICBwdXNoaW50IDI1IC8vIDI1CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGV4dHJhY3QgMjQgMQogICAgZHVwCiAgICBjb3ZlciAzCiAgICBmcmFtZV9idXJ5IDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjY1CiAgICAvLyBjb25zdCBuZXh0UmVzdWx0ID0gdGhpcy5ldmFsdWF0ZUZpbHRlcihjYWxsZXIsIGZpbHRlcnNbaSArIDFdLCBhcmdzW2kgKyAxXSkKICAgIHN3YXAKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMTAKICAgIGR1cAogICAgcHVzaGludCAyNSAvLyAyNQogICAgKgogICAgdW5jb3ZlciAyCiAgICBzd2FwCiAgICBwdXNoaW50IDI1IC8vIDI1CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgY292ZXIgMgogICAgZnJhbWVfYnVyeSAxCiAgICBmcmFtZV9kaWcgLTEKICAgIGV4dHJhY3QgMiAwCiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZGlnIDIKICAgID4KICAgIGFzc2VydCAvLyBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgc3dhcAogICAgaW50Y18yIC8vIDIKICAgICoKICAgIGRpZyAxCiAgICBzd2FwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZHVwMgogICAgZXh0cmFjdF91aW50MTYKICAgIGludGNfMiAvLyAyCiAgICArCiAgICBleHRyYWN0MwogICAgZXh0cmFjdCAyIDAKICAgIGZyYW1lX2RpZyAtNQogICAgY292ZXIgMgogICAgY2FsbHN1YiBldmFsdWF0ZUZpbHRlcgogICAgcG9wCiAgICBmcmFtZV9idXJ5IDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjY3CiAgICAvLyBpZiAoY3VycmVudE9wZXJhdG9yID09PSBBTkQpIHsKICAgIHB1c2hieXRlcyAweDBhCiAgICA9PQogICAgZHVwCiAgICBmcmFtZV9idXJ5IDExCiAgICBieiBldmFsdWF0ZV9lbHNlX2JvZHlANgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6NjgKICAgIC8vIHJlc3VsdCA9IHJlc3VsdCAmJiBuZXh0UmVzdWx0CiAgICBmcmFtZV9kaWcgOQogICAgZnJhbWVfZGlnIDcKICAgICYmCiAgICBmcmFtZV9idXJ5IDkKCmV2YWx1YXRlX2FmdGVyX2lmX2Vsc2VAOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjc0CiAgICAvLyBpZiAoaSArIDEgPCBlbmQgJiYgZmlsdGVyc1tpICsgMl0ubGF5ZXIgPiBmaWx0ZXJzW2kgKyAxXS5sYXllcikgewogICAgZnJhbWVfZGlnIDEwCiAgICBmcmFtZV9kaWcgLTIKICAgIDwKICAgIGJ6IGV2YWx1YXRlX2FmdGVyX2lmX2Vsc2VAMjMKICAgIGZyYW1lX2RpZyA0CiAgICBpbnRjXzIgLy8gMgogICAgKwogICAgZHVwCiAgICBmcmFtZV9idXJ5IC0zCiAgICBwdXNoaW50IDI1IC8vIDI1CiAgICAqCiAgICBmcmFtZV9kaWcgMAogICAgc3dhcAogICAgcHVzaGludCAyNSAvLyAyNQogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZnJhbWVfYnVyeSA1CiAgICBmcmFtZV9kaWcgMQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICA+CiAgICBieiBldmFsdWF0ZV9hZnRlcl9pZl9lbHNlQDIzCiAgICBmcmFtZV9kaWcgLTMKICAgIGR1cAogICAgZnJhbWVfYnVyeSAzCiAgICBmcmFtZV9idXJ5IDQKCmV2YWx1YXRlX3doaWxlX3RvcEAyNjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjEwMAogICAgLy8gZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZmlsdGVycy5sZW5ndGg7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIC00CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGZyYW1lX2RpZyA0CiAgICA+CiAgICBieiBldmFsdWF0ZV9ibG9ja0AzMQogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTAxCiAgICAvLyBpZiAoZmlsdGVyc1tpXS5sYXllciA8IGxheWVyKSB7CiAgICBmcmFtZV9kaWcgNAogICAgcHVzaGludCAyNSAvLyAyNQogICAgKgogICAgZnJhbWVfZGlnIDAKICAgIHN3YXAKICAgIHB1c2hpbnQgMjUgLy8gMjUKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBmcmFtZV9kaWcgNQogICAgPAogICAgYm56IGV2YWx1YXRlX2Jsb2NrQDMxCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxMDAKICAgIC8vIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyA0CiAgICBkdXAKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDQKICAgIGZyYW1lX2J1cnkgMwogICAgYiBldmFsdWF0ZV93aGlsZV90b3BAMjYKCmV2YWx1YXRlX2Jsb2NrQDMxOgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6NzYKICAgIC8vIGNvbnN0IG5lc3RlZFJlc3VsdCA9IHRoaXMuZXZhbHVhdGUoY2FsbGVyLCBmaWx0ZXJzLCBpICsgMiwgbmVzdGVkRW5kLCBhcmdzKQogICAgZnJhbWVfZGlnIC01CiAgICBmcmFtZV9kaWcgLTQKICAgIGZyYW1lX2RpZyAtMwogICAgZnJhbWVfZGlnIDMKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBldmFsdWF0ZQogICAgZnJhbWVfYnVyeSAtMQogICAgZnJhbWVfYnVyeSAtNAogICAgZnJhbWVfYnVyeSA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo3OAogICAgLy8gaWYgKGN1cnJlbnRPcGVyYXRvciA9PT0gQU5EKSB7CiAgICBmcmFtZV9kaWcgMTEKICAgIGJ6IGV2YWx1YXRlX2Vsc2VfYm9keUAxOQogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6NzkKICAgIC8vIHJlc3VsdCA9IHJlc3VsdCAmJiBuZXN0ZWRSZXN1bHQKICAgIGZyYW1lX2RpZyA5CiAgICBmcmFtZV9kaWcgNgogICAgJiYKICAgIGZyYW1lX2J1cnkgOQoKZXZhbHVhdGVfYWZ0ZXJfaWZfZWxzZUAyMjoKICAgIGZyYW1lX2RpZyAzCiAgICBmcmFtZV9idXJ5IDQKCmV2YWx1YXRlX2FmdGVyX2lmX2Vsc2VAMjM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo2MwogICAgLy8gZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyA0CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSA0CiAgICBiIGV2YWx1YXRlX3doaWxlX3RvcEAzCgpldmFsdWF0ZV9lbHNlX2JvZHlAMTk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo4MAogICAgLy8gfSBlbHNlIGlmIChjdXJyZW50T3BlcmF0b3IgPT09IE9SKSB7CiAgICBmcmFtZV9kaWcgMgogICAgcHVzaGJ5dGVzIDB4MTQKICAgID09CiAgICBieiBldmFsdWF0ZV9hZnRlcl9pZl9lbHNlQDIyCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo4MQogICAgLy8gcmVzdWx0ID0gcmVzdWx0IHx8IG5lc3RlZFJlc3VsdAogICAgZnJhbWVfZGlnIDkKICAgIGZyYW1lX2RpZyA2CiAgICB8fAogICAgZnJhbWVfYnVyeSA5CiAgICBiIGV2YWx1YXRlX2FmdGVyX2lmX2Vsc2VAMjIKCmV2YWx1YXRlX2Vsc2VfYm9keUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6NjkKICAgIC8vIH0gZWxzZSBpZiAoY3VycmVudE9wZXJhdG9yID09PSBPUikgewogICAgZnJhbWVfZGlnIDIKICAgIHB1c2hieXRlcyAweDE0CiAgICA9PQogICAgYnogZXZhbHVhdGVfYWZ0ZXJfaWZfZWxzZUA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo3MAogICAgLy8gcmVzdWx0ID0gcmVzdWx0IHx8IG5leHRSZXN1bHQKICAgIGZyYW1lX2RpZyA5CiAgICBmcmFtZV9kaWcgNwogICAgfHwKICAgIGZyYW1lX2J1cnkgOQogICAgYiBldmFsdWF0ZV9hZnRlcl9pZl9lbHNlQDkKCmV2YWx1YXRlX2FmdGVyX3doaWxlQDI0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6ODgKICAgIC8vIHJldHVybiByZXN1bHQKICAgIGZyYW1lX2RpZyA5CiAgICBmcmFtZV9kaWcgLTQKICAgIGZyYW1lX2RpZyAtMQogICAgZnJhbWVfYnVyeSAyCiAgICBmcmFtZV9idXJ5IDEKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6OkdhdGUuZXZhbHVhdGVGaWx0ZXIoY2FsbGVyOiBieXRlcywgZmlsdGVyOiBieXRlcywgYXJnczogYnl0ZXMpIC0+IHVpbnQ2NCwgYnl0ZXM6CmV2YWx1YXRlRmlsdGVyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6OTEKICAgIC8vIHByaXZhdGUgZXZhbHVhdGVGaWx0ZXIoY2FsbGVyOiBBY2NvdW50LCBmaWx0ZXI6IEdhdGVGaWx0ZXJFbnRyeSwgYXJnczogYnl0ZXMpOiBib29sZWFuIHsKICAgIHByb3RvIDMgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6OTItOTUKICAgIC8vIHJldHVybiBhYmlDYWxsPHR5cGVvZiBNb2NrR2F0ZS5wcm90b3R5cGUuY2hlY2s+KHsKICAgIC8vICAgYXBwSWQ6IGZpbHRlci5hcHAsCiAgICAvLyAgIGFyZ3M6IFtjYWxsZXIsIGZpbHRlci5yZWdpc3RyeUVudHJ5LCBhcmdzXSwKICAgIC8vIH0pLnJldHVyblZhbHVlCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo5MwogICAgLy8gYXBwSWQ6IGZpbHRlci5hcHAsCiAgICBmcmFtZV9kaWcgLTIKICAgIGludGNfMyAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6OTQKICAgIC8vIGFyZ3M6IFtjYWxsZXIsIGZpbHRlci5yZWdpc3RyeUVudHJ5LCBhcmdzXSwKICAgIGZyYW1lX2RpZyAtMgogICAgZXh0cmFjdCAxNiA4CiAgICBmcmFtZV9kaWcgLTEKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo5Mi05NQogICAgLy8gcmV0dXJuIGFiaUNhbGw8dHlwZW9mIE1vY2tHYXRlLnByb3RvdHlwZS5jaGVjaz4oewogICAgLy8gICBhcHBJZDogZmlsdGVyLmFwcCwKICAgIC8vICAgYXJnczogW2NhbGxlciwgZmlsdGVyLnJlZ2lzdHJ5RW50cnksIGFyZ3NdLAogICAgLy8gfSkucmV0dXJuVmFsdWUKICAgIHB1c2hieXRlcyAweDZlMDNmNTBhIC8vIG1ldGhvZCAiY2hlY2soYWRkcmVzcyx1aW50NjQsYnl0ZVtdKWJvb2wiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIC0zCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgc3dhcAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCA0IDAKICAgIHN3YXAKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBib29sOAogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgZnJhbWVfZGlnIC0yCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czo6R2F0ZS5jaGVjayhjYWxsZXI6IGJ5dGVzLCBnYXRlSUQ6IHVpbnQ2NCwgYXJnczogYnl0ZXMpIC0+IHVpbnQ2NCwgYnl0ZXM6CnNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjpHYXRlLmNoZWNrOgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTgwCiAgICAvLyBjaGVjayhjYWxsZXI6IEFjY291bnQsIGdhdGVJRDogdWludDY0LCBhcmdzOiBHYXRlQXJncyk6IGJvb2xlYW4gewogICAgcHJvdG8gMyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxODEKICAgIC8vIGFzc2VydCh0aGlzLmdhdGVSZWdpc3RyeShnYXRlSUQpLmV4aXN0cykKICAgIGZyYW1lX2RpZyAtMgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6NDAKICAgIC8vIGdhdGVSZWdpc3RyeSA9IEJveE1hcDx1aW50NjQsIEdhdGVGaWx0ZXJFbnRyeVtdPih7IGtleVByZWZpeDogR2F0ZUJveFByZWZpeEdhdGVSZWdpc3RyeSB9KQogICAgYnl0ZWNfMSAvLyAiZyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2NvbnRyYWN0LmFsZ28udHM6MTgxCiAgICAvLyBhc3NlcnQodGhpcy5nYXRlUmVnaXN0cnkoZ2F0ZUlEKS5leGlzdHMpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxODIKICAgIC8vIGNvbnN0IGZpbHRlcnMgPSBjbG9uZSh0aGlzLmdhdGVSZWdpc3RyeShnYXRlSUQpLnZhbHVlKQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9jb250cmFjdC5hbGdvLnRzOjE4Mi0xODMKICAgIC8vIGNvbnN0IGZpbHRlcnMgPSBjbG9uZSh0aGlzLmdhdGVSZWdpc3RyeShnYXRlSUQpLnZhbHVlKQogICAgLy8gcmV0dXJuIHRoaXMuZXZhbHVhdGUoY2FsbGVyLCBmaWx0ZXJzLCAwLCBmaWx0ZXJzLmxlbmd0aCAtIDEsIGFyZ3MpCiAgICBpbnRjXzAgLy8gMAogICAgaW50Y18yIC8vIDIKICAgIGJveF9leHRyYWN0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvY29udHJhY3QuYWxnby50czoxODMKICAgIC8vIHJldHVybiB0aGlzLmV2YWx1YXRlKGNhbGxlciwgZmlsdGVycywgMCwgZmlsdGVycy5sZW5ndGggLSAxLCBhcmdzKQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGZyYW1lX2RpZyAtMwogICAgdW5jb3ZlciAyCiAgICBpbnRjXzAgLy8gMAogICAgdW5jb3ZlciAzCiAgICBmcmFtZV9kaWcgLTEKICAgIGNhbGxzdWIgZXZhbHVhdGUKICAgIGZyYW1lX2J1cnkgLTEKICAgIHBvcAogICAgZnJhbWVfZGlnIC0xCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvYmFzZS50czo6QmFzZUdhdGUubWJyKGxlbmd0aDogdWludDY0KSAtPiBieXRlczoKbWJyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2Jhc2UudHM6NQogICAgLy8gcHJvdGVjdGVkIG1icihsZW5ndGg6IHVpbnQ2NCk6IEdhdGVNQlJEYXRhIHsKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2dhdGVzL2Jhc2UudHM6OAogICAgLy8gZ2F0ZVJlZ2lzdHJ5OiA2XzEwMCArICg0MDAgKiAoMzIgKiBsZW5ndGgpKSwKICAgIGZyYW1lX2RpZyAtMQogICAgcHVzaGludCAxMjgwMCAvLyAxMjgwMAogICAgKgogICAgcHVzaGludCA2MTAwIC8vIDYxMDAKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9nYXRlcy9iYXNlLnRzOjcKICAgIC8vIGFwcFJlZ2lzdHJ5OiA2XzEwMCwKICAgIHB1c2hpbnQgNjEwMCAvLyA2MTAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZ2F0ZXMvYmFzZS50czo2LTkKICAgIC8vIHJldHVybiB7CiAgICAvLyAgIGFwcFJlZ2lzdHJ5OiA2XzEwMCwKICAgIC8vICAgZ2F0ZVJlZ2lzdHJ5OiA2XzEwMCArICg0MDAgKiAoMzIgKiBsZW5ndGgpKSwKICAgIC8vIH0KICAgIGl0b2IKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgcmV0c3ViCg==", "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg==" }, "byteCode": { "approval": "CyAEAAECCCYHBBUffHUBZwlha2l0YV9kYW8LZ2F0ZV9jdXJzb3ICAAAEMp8E7gMGgQExGRREMRhBAEmCCQTCHHugBCAPdCEEQ5ImVQTFyR+PBN9WsB4EYd3BZQTabN70BIVN7eAEM+kslDYaAI4JAD4BaQGPAakCNAJRA4EAAQOJACNDgATNmtZ+NhoAjgEAAQA2GgFJIlkkCEsBFRJEVwIANhoCSRUlEkQXgAd2ZXJzaW9uTwJnKkxnKyNnI0MxFiMJSTgQIxJENhoBRwIiWUlOAkmBEQskCE8CFRJENhoCTIgFZEgiJwQiSUlLBgxBAM1LBlcCAEsBSU4CgRELgRFYSSJbSUsFD0SxSwElW0sISVcCAEwiWUsFDURLBCQLSwFMWUpZJAhYJwWyGkmyGksBshiBBrIQIrIBs7Q+SVcEAExXAAQoEkRJFSUSRBdLCUsBCEUKSwJyCESxsgeyCCOyECKyAbaABHe7ebmyGrIaSbIYgQayECKyAbO3AT5JVwQATFcABCgSREkVJRJEF08DVxABSwMWTwMWUE8CFlBMUEsFSU8CUEwiWSMIFlcGAlwARQVMIwhFAkUCQv8sSwdJOAcyChJMOAhLBRIQRCIrZURJIwgrTGcWKUsBUEm8SEsEvyhMULAjQzYaAUkVgSASRDYaAkkVJRJEFzYaA4gEHUiAAQAiTwJUKExQsCNDNhoBSRWBIBJENhoCSRUlEkQXNhoDiAP3SEM2GgFHAiJZSU4CSYERCyQITwIVEkQ2GgJMiAQDSCJJSUsEDEEAXLFLBFcCAEsBSU4CgRELgRFYJVtLBElXAgBMIllLAw1ESwIkC0sBTFlKWSQIWCcFshqyGrIYgQayECKyAbO0PklXBABMVwAEKBJESRUlEkQXSwMIRQMjCEUBQv+dSwEWKExQsCNDNhoBSRUlEkQXFilMUEm9RQFEIiS6FxYoTFCwI0MiRwKAAEcDNhoBSRUlEkQXFilMUEm9RQFEJwQiSwIiJLoXSwENQQEBsUmBGQskCEsDTIEZukklW0sBVxAIgASQ1PpdshpJshpLAbIYgQayECKyAbO0PklXBABLAVcABCgSREkiWSQITBUSRFcGAEsDVwAITwRXGAFPBBZPAkxQTwNQTFBLARUWVwYCTwJQTIACABtQTFBLAkkiWUlOA0UKVwIARQyAAgACTFBFCYAARQokC0UEIkUFSwRLBAxBABtLCUsFSU4CWSQIFlcGAksKTFBFCiQIRQVC/91LCRVFBiJFBUsEJAxBABxLB0sFSU4CWUsHCBZXBgJLCkxQRQokCEUFQv/dSwYjCBZXBgJLCVBLCksFSwhSUEsIVwIAUEUCSSMIRQFC/vMoSwJQsCNDKDYaAVCwI0M2GgFJFSUSRBcxACIqZUSABndhbGxldGVIcghEEkQqTGcjQ4oFAyJHAoAARwiL/Yv+DUEADCOL/Iv/jAKMAYwAiYv8VwIAi/2BGQuBGViL/1cCAIv/IlmL/Q1Ei/0kC0sBTFlKWSQIWFcCAIv7TgKIAVpIjAmL/ov9CYFkC4EKCIwIiwgyDA1BABixgQayEIEFshknBrIeJwayHyKyAbNC/+CL/YwEiwSL/gxBARGL/FcCAEmMAIsESU4CgRkLSwFMgRlYVxgBSU4DjAJMIwhJjApJgRkLTwJMgRlYSU4CjAGL/1cCAIv/IllLAg1ETCQLSwFMWUpZJAhYVwIAi/tOAogAyEiMB4ABChJJjAtBAJuLCYsHEIwJiwqL/gxBAHCLBCQISYz9gRkLiwBMgRlYIltJjAWLASJbDUEAU4v9SYwDjASL/CJZiwQNQQAfiwSBGQuLAEyBGVgiW4sFDEAADIsESSMIjASMA0L/14v7i/yL/YsDi/+I/qmM/4z8jAaLC0EAFIsJiwYQjAmLA4wEiwQjCIwEQv8NiwKAARQSQf/qiwmLBhGMCUL/4IsCgAEUEkH/Y4sJiwcRjAlC/1mLCYv8i/+MAowBjACJigMCsYv+JVuL/lcQCIv/FRZXBgKL/1CABG4D9QqyGov9shpMshqyGrIYgQayECKyAbO0PklXBABMVwAEKBJESRUjEkQiU4v+iYoDAov+FilMUEm9RQFESb5ITCIkuhcjCYv9TwIiTwOL/4j96oz/SIv/iYoBAYv/gYBkC4HULwiB1C8WTBZQiQ==", "clear": "C4EBQw==" }, "events": [], "templateVariables": {} };
class BinaryStateValue {
    constructor(value) {
        this.value = value;
    }
    asByteArray() {
        return this.value;
    }
    asString() {
        return this.value !== undefined ? Buffer.from(this.value).toString('utf-8') : undefined;
    }
}
/**
 * Converts the ABI tuple representation of a GateFilterEntryWithArgs to the struct representation
 */
export function GateFilterEntryWithArgsFromTuple(abiTuple) {
    return getABIStructFromABITuple(abiTuple, APP_SPEC.structs.GateFilterEntryWithArgs, APP_SPEC.structs);
}
/**
 * Exposes methods for constructing `AppClient` params objects for ABI calls to the Gate smart contract
 */
export class GateParamsFactory {
    /**
     * Gets available create ABI call param factories
     */
    static get create() {
        return {
            _resolveByMethod(params) {
                switch (params.method) {
                    case 'create':
                    case 'create(string,uint64)void':
                        return GateParamsFactory.create.create(params);
                }
                throw new Error(`Unknown ' + verb + ' method`);
            },
            /**
             * Constructs create ABI call params for the Gate smart contract using the create(string,uint64)void ABI method
             *
             * @param params Parameters for the call
             * @returns An `AppClientMethodCallParams` object for the call
             */
            create(params) {
                return {
                    ...params,
                    method: 'create(string,uint64)void',
                    args: Array.isArray(params.args) ? params.args : [params.args.version, params.args.akitaDao],
                };
            },
        };
    }
    /**
     * Constructs a no op call for the register(pay,(uint64,uint64,uint8)[],byte[][])uint64 ABI method
     *
     * @param params Parameters for the call
     * @returns An `AppClientMethodCallParams` object for the call
     */
    static register(params) {
        return {
            ...params,
            method: 'register(pay,(uint64,uint64,uint8)[],byte[][])uint64',
            args: Array.isArray(params.args) ? params.args : [params.args.payment, params.args.filters, params.args.args],
        };
    }
    /**
     * Constructs a no op call for the check(address,uint64,byte[][])bool ABI method
     *
     * @param params Parameters for the call
     * @returns An `AppClientMethodCallParams` object for the call
     */
    static check(params) {
        return {
            ...params,
            method: 'check(address,uint64,byte[][])bool',
            args: Array.isArray(params.args) ? params.args : [params.args.caller, params.args.gateId, params.args.args],
        };
    }
    /**
     * Constructs a no op call for the mustCheck(address,uint64,byte[][])void ABI method
     *
     * @param params Parameters for the call
     * @returns An `AppClientMethodCallParams` object for the call
     */
    static mustCheck(params) {
        return {
            ...params,
            method: 'mustCheck(address,uint64,byte[][])void',
            args: Array.isArray(params.args) ? params.args : [params.args.caller, params.args.gateId, params.args.args],
        };
    }
    /**
     * Constructs a no op call for the cost((uint64,uint64,uint8)[],byte[][])uint64 ABI method
     *
     * @param params Parameters for the call
     * @returns An `AppClientMethodCallParams` object for the call
     */
    static cost(params) {
        return {
            ...params,
            method: 'cost((uint64,uint64,uint8)[],byte[][])uint64',
            args: Array.isArray(params.args) ? params.args : [params.args.filters, params.args.args],
        };
    }
    /**
     * Constructs a no op call for the size(uint64)uint64 ABI method
     *
     * @param params Parameters for the call
     * @returns An `AppClientMethodCallParams` object for the call
     */
    static size(params) {
        return {
            ...params,
            method: 'size(uint64)uint64',
            args: Array.isArray(params.args) ? params.args : [params.args.gateId],
        };
    }
    /**
     * Constructs a no op call for the getGate(uint64)(uint64,uint64,uint64,uint8,byte[])[] ABI method
     *
     * @param params Parameters for the call
     * @returns An `AppClientMethodCallParams` object for the call
     */
    static getGate(params) {
        return {
            ...params,
            method: 'getGate(uint64)(uint64,uint64,uint64,uint8,byte[])[]',
            args: Array.isArray(params.args) ? params.args : [params.args.gateId],
        };
    }
    /**
     * Constructs a no op call for the gateFilterEntryWithArgsShape((uint64,uint64,uint64,uint8,byte[]))(uint64,uint64,uint64,uint8,byte[]) ABI method
     *
     * @param params Parameters for the call
     * @returns An `AppClientMethodCallParams` object for the call
     */
    static gateFilterEntryWithArgsShape(params) {
        return {
            ...params,
            method: 'gateFilterEntryWithArgsShape((uint64,uint64,uint64,uint8,byte[]))(uint64,uint64,uint64,uint8,byte[])',
            args: Array.isArray(params.args) ? params.args : [params.args.shape],
        };
    }
    /**
     * Constructs a no op call for the opUp()void ABI method
     *
     * @param params Parameters for the call
     * @returns An `AppClientMethodCallParams` object for the call
     */
    static opUp(params) {
        return {
            ...params,
            method: 'opUp()void',
            args: Array.isArray(params.args) ? params.args : [],
        };
    }
    /**
     * Constructs a no op call for the updateAkitaDAO(uint64)void ABI method
     *
     * @param params Parameters for the call
     * @returns An `AppClientMethodCallParams` object for the call
     */
    static updateAkitaDao(params) {
        return {
            ...params,
            method: 'updateAkitaDAO(uint64)void',
            args: Array.isArray(params.args) ? params.args : [params.args.akitaDao],
        };
    }
}
/**
 * A factory to create and deploy one or more instance of the Gate smart contract and to create one or more app clients to interact with those (or other) app instances
 */
export class GateFactory {
    /**
     * Creates a new instance of `GateFactory`
     *
     * @param params The parameters to initialise the app factory with
     */
    constructor(params) {
        /**
         * Get parameters to create transactions (create and deploy related calls) for the current app. A good mental model for this is that these parameters represent a deferred transaction creation.
         */
        this.params = {
            /**
             * Gets available create methods
             */
            create: {
                /**
                 * Creates a new instance of the Gate smart contract using the create(string,uint64)void ABI method.
                 *
                 * @param params The params for the smart contract call
                 * @returns The create params
                 */
                create: (params) => {
                    return this.appFactory.params.create(GateParamsFactory.create.create(params));
                },
            },
        };
        /**
         * Create transactions for the current app
         */
        this.createTransaction = {
            /**
             * Gets available create methods
             */
            create: {
                /**
                 * Creates a new instance of the Gate smart contract using the create(string,uint64)void ABI method.
                 *
                 * @param params The params for the smart contract call
                 * @returns The create transaction
                 */
                create: (params) => {
                    return this.appFactory.createTransaction.create(GateParamsFactory.create.create(params));
                },
            },
        };
        /**
         * Send calls to the current app
         */
        this.send = {
            /**
             * Gets available create methods
             */
            create: {
                /**
                 * Creates a new instance of the Gate smart contract using an ABI method call using the create(string,uint64)void ABI method.
                 *
                 * @param params The params for the smart contract call
                 * @returns The create result
                 */
                create: async (params) => {
                    const result = await this.appFactory.send.create(GateParamsFactory.create.create(params));
                    return { result: { ...result.result, return: result.result.return }, appClient: new GateClient(result.appClient) };
                },
            },
        };
        this.appFactory = new _AppFactory({
            ...params,
            appSpec: APP_SPEC,
        });
    }
    /** The name of the app (from the ARC-32 / ARC-56 app spec or override). */
    get appName() {
        return this.appFactory.appName;
    }
    /** The ARC-56 app spec being used */
    get appSpec() {
        return APP_SPEC;
    }
    /** A reference to the underlying `AlgorandClient` this app factory is using. */
    get algorand() {
        return this.appFactory.algorand;
    }
    /**
     * Returns a new `AppClient` client for an app instance of the given ID.
     *
     * Automatically populates appName, defaultSender and source maps from the factory
     * if not specified in the params.
     * @param params The parameters to create the app client
     * @returns The `AppClient`
     */
    getAppClientById(params) {
        return new GateClient(this.appFactory.getAppClientById(params));
    }
    /**
     * Returns a new `AppClient` client, resolving the app by creator address and name
     * using AlgoKit app deployment semantics (i.e. looking for the app creation transaction note).
     *
     * Automatically populates appName, defaultSender and source maps from the factory
     * if not specified in the params.
     * @param params The parameters to create the app client
     * @returns The `AppClient`
     */
    async getAppClientByCreatorAndName(params) {
        return new GateClient(await this.appFactory.getAppClientByCreatorAndName(params));
    }
    /**
     * Idempotently deploys the Gate smart contract.
     *
     * @param params The arguments for the contract calls and any additional parameters for the call
     * @returns The deployment result
     */
    async deploy(params = {}) {
        const result = await this.appFactory.deploy({
            ...params,
            createParams: params.createParams?.method ? GateParamsFactory.create._resolveByMethod(params.createParams) : params.createParams ? params.createParams : undefined,
        });
        return { result: result.result, appClient: new GateClient(result.appClient) };
    }
}
/**
 * A client to make calls to the Gate smart contract
 */
export class GateClient {
    constructor(appClientOrParams) {
        /**
         * Get parameters to create transactions for the current app. A good mental model for this is that these parameters represent a deferred transaction creation.
         */
        this.params = {
            /**
             * Makes a clear_state call to an existing instance of the Gate smart contract.
             *
             * @param params The params for the bare (raw) call
             * @returns The clearState result
             */
            clearState: (params) => {
                return this.appClient.params.bare.clearState(params);
            },
            /**
             * Makes a call to the Gate smart contract using the `register(pay,(uint64,uint64,uint8)[],byte[][])uint64` ABI method.
             *
             * @param params The params for the smart contract call
             * @returns The call params
             */
            register: (params) => {
                return this.appClient.params.call(GateParamsFactory.register(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `check(address,uint64,byte[][])bool` ABI method.
             *
             * @param params The params for the smart contract call
             * @returns The call params
             */
            check: (params) => {
                return this.appClient.params.call(GateParamsFactory.check(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `mustCheck(address,uint64,byte[][])void` ABI method.
             *
             * @param params The params for the smart contract call
             * @returns The call params
             */
            mustCheck: (params) => {
                return this.appClient.params.call(GateParamsFactory.mustCheck(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `cost((uint64,uint64,uint8)[],byte[][])uint64` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call params
             */
            cost: (params) => {
                return this.appClient.params.call(GateParamsFactory.cost(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `size(uint64)uint64` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call params
             */
            size: (params) => {
                return this.appClient.params.call(GateParamsFactory.size(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `getGate(uint64)(uint64,uint64,uint64,uint8,byte[])[]` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call params
             */
            getGate: (params) => {
                return this.appClient.params.call(GateParamsFactory.getGate(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `gateFilterEntryWithArgsShape((uint64,uint64,uint64,uint8,byte[]))(uint64,uint64,uint64,uint8,byte[])` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call params
             */
            gateFilterEntryWithArgsShape: (params) => {
                return this.appClient.params.call(GateParamsFactory.gateFilterEntryWithArgsShape(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `opUp()void` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call params
             */
            opUp: (params = { args: [] }) => {
                return this.appClient.params.call(GateParamsFactory.opUp(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `updateAkitaDAO(uint64)void` ABI method.
             *
             * @param params The params for the smart contract call
             * @returns The call params
             */
            updateAkitaDao: (params) => {
                return this.appClient.params.call(GateParamsFactory.updateAkitaDao(params));
            },
        };
        /**
         * Create transactions for the current app
         */
        this.createTransaction = {
            /**
             * Makes a clear_state call to an existing instance of the Gate smart contract.
             *
             * @param params The params for the bare (raw) call
             * @returns The clearState result
             */
            clearState: (params) => {
                return this.appClient.createTransaction.bare.clearState(params);
            },
            /**
             * Makes a call to the Gate smart contract using the `register(pay,(uint64,uint64,uint8)[],byte[][])uint64` ABI method.
             *
             * @param params The params for the smart contract call
             * @returns The call transaction
             */
            register: (params) => {
                return this.appClient.createTransaction.call(GateParamsFactory.register(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `check(address,uint64,byte[][])bool` ABI method.
             *
             * @param params The params for the smart contract call
             * @returns The call transaction
             */
            check: (params) => {
                return this.appClient.createTransaction.call(GateParamsFactory.check(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `mustCheck(address,uint64,byte[][])void` ABI method.
             *
             * @param params The params for the smart contract call
             * @returns The call transaction
             */
            mustCheck: (params) => {
                return this.appClient.createTransaction.call(GateParamsFactory.mustCheck(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `cost((uint64,uint64,uint8)[],byte[][])uint64` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call transaction
             */
            cost: (params) => {
                return this.appClient.createTransaction.call(GateParamsFactory.cost(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `size(uint64)uint64` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call transaction
             */
            size: (params) => {
                return this.appClient.createTransaction.call(GateParamsFactory.size(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `getGate(uint64)(uint64,uint64,uint64,uint8,byte[])[]` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call transaction
             */
            getGate: (params) => {
                return this.appClient.createTransaction.call(GateParamsFactory.getGate(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `gateFilterEntryWithArgsShape((uint64,uint64,uint64,uint8,byte[]))(uint64,uint64,uint64,uint8,byte[])` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call transaction
             */
            gateFilterEntryWithArgsShape: (params) => {
                return this.appClient.createTransaction.call(GateParamsFactory.gateFilterEntryWithArgsShape(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `opUp()void` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call transaction
             */
            opUp: (params = { args: [] }) => {
                return this.appClient.createTransaction.call(GateParamsFactory.opUp(params));
            },
            /**
             * Makes a call to the Gate smart contract using the `updateAkitaDAO(uint64)void` ABI method.
             *
             * @param params The params for the smart contract call
             * @returns The call transaction
             */
            updateAkitaDao: (params) => {
                return this.appClient.createTransaction.call(GateParamsFactory.updateAkitaDao(params));
            },
        };
        /**
         * Send calls to the current app
         */
        this.send = {
            /**
             * Makes a clear_state call to an existing instance of the Gate smart contract.
             *
             * @param params The params for the bare (raw) call
             * @returns The clearState result
             */
            clearState: (params) => {
                return this.appClient.send.bare.clearState(params);
            },
            /**
             * Makes a call to the Gate smart contract using the `register(pay,(uint64,uint64,uint8)[],byte[][])uint64` ABI method.
             *
             * @param params The params for the smart contract call
             * @returns The call result
             */
            register: async (params) => {
                const result = await this.appClient.send.call(GateParamsFactory.register(params));
                return { ...result, return: result.return };
            },
            /**
             * Makes a call to the Gate smart contract using the `check(address,uint64,byte[][])bool` ABI method.
             *
             * @param params The params for the smart contract call
             * @returns The call result
             */
            check: async (params) => {
                const result = await this.appClient.send.call(GateParamsFactory.check(params));
                return { ...result, return: result.return };
            },
            /**
             * Makes a call to the Gate smart contract using the `mustCheck(address,uint64,byte[][])void` ABI method.
             *
             * @param params The params for the smart contract call
             * @returns The call result
             */
            mustCheck: async (params) => {
                const result = await this.appClient.send.call(GateParamsFactory.mustCheck(params));
                return { ...result, return: result.return };
            },
            /**
             * Makes a call to the Gate smart contract using the `cost((uint64,uint64,uint8)[],byte[][])uint64` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call result
             */
            cost: async (params) => {
                const result = await this.appClient.send.call(GateParamsFactory.cost(params));
                return { ...result, return: result.return };
            },
            /**
             * Makes a call to the Gate smart contract using the `size(uint64)uint64` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call result
             */
            size: async (params) => {
                const result = await this.appClient.send.call(GateParamsFactory.size(params));
                return { ...result, return: result.return };
            },
            /**
             * Makes a call to the Gate smart contract using the `getGate(uint64)(uint64,uint64,uint64,uint8,byte[])[]` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call result
             */
            getGate: async (params) => {
                const result = await this.appClient.send.call(GateParamsFactory.getGate(params));
                return { ...result, return: result.return };
            },
            /**
             * Makes a call to the Gate smart contract using the `gateFilterEntryWithArgsShape((uint64,uint64,uint64,uint8,byte[]))(uint64,uint64,uint64,uint8,byte[])` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call result
             */
            gateFilterEntryWithArgsShape: async (params) => {
                const result = await this.appClient.send.call(GateParamsFactory.gateFilterEntryWithArgsShape(params));
                return { ...result, return: result.return };
            },
            /**
             * Makes a call to the Gate smart contract using the `opUp()void` ABI method.
             *
             * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
             *
             * @param params The params for the smart contract call
             * @returns The call result
             */
            opUp: async (params = { args: [] }) => {
                const result = await this.appClient.send.call(GateParamsFactory.opUp(params));
                return { ...result, return: result.return };
            },
            /**
             * Makes a call to the Gate smart contract using the `updateAkitaDAO(uint64)void` ABI method.
             *
             * @param params The params for the smart contract call
             * @returns The call result
             */
            updateAkitaDao: async (params) => {
                const result = await this.appClient.send.call(GateParamsFactory.updateAkitaDao(params));
                return { ...result, return: result.return };
            },
        };
        /**
         * Methods to access state for the current Gate app
         */
        this.state = {
            /**
             * Methods to access global state for the current Gate app
             */
            global: {
                /**
                 * Get all current keyed values from global state
                 */
                getAll: async () => {
                    const result = await this.appClient.state.global.getAll();
                    return {
                        gateCursor: result.gateCursor,
                        version: result.version,
                        akitaDao: result.akitaDAO,
                    };
                },
                /**
                 * Get the current value of the gateCursor key in global state
                 */
                gateCursor: async () => { return (await this.appClient.state.global.getValue("gateCursor")); },
                /**
                 * Get the current value of the version key in global state
                 */
                version: async () => { return (await this.appClient.state.global.getValue("version")); },
                /**
                 * Get the current value of the akitaDAO key in global state
                 */
                akitaDao: async () => { return (await this.appClient.state.global.getValue("akitaDAO")); },
            },
            /**
             * Methods to access box state for the current Gate app
             */
            box: {
                /**
                 * Get all current keyed values from box state
                 */
                getAll: async () => {
                    const result = await this.appClient.state.box.getAll();
                    return {};
                },
                /**
                 * Get values from the gateRegistry map in box state
                 */
                gateRegistry: {
                    /**
                     * Get all current values of the gateRegistry map in box state
                     */
                    getMap: async () => { return (await this.appClient.state.box.getMap("gateRegistry")); },
                    /**
                     * Get a current value of the gateRegistry map by key from box state
                     */
                    value: async (key) => { return await this.appClient.state.box.getMapValue("gateRegistry", key); },
                },
            },
        };
        this.appClient = appClientOrParams instanceof _AppClient ? appClientOrParams : new _AppClient({
            ...appClientOrParams,
            appSpec: APP_SPEC,
        });
    }
    /**
     * Checks for decode errors on the given return value and maps the return value to the return type for the given method
     * @returns The typed return value or undefined if there was no value
     */
    decodeReturnValue(method, returnValue) {
        return returnValue !== undefined ? getArc56ReturnValue(returnValue, this.appClient.getABIMethod(method), APP_SPEC.structs) : undefined;
    }
    /**
     * Returns a new `GateClient` client, resolving the app by creator address and name
     * using AlgoKit app deployment semantics (i.e. looking for the app creation transaction note).
     * @param params The parameters to create the app client
     */
    static async fromCreatorAndName(params) {
        return new GateClient(await _AppClient.fromCreatorAndName({ ...params, appSpec: APP_SPEC }));
    }
    /**
     * Returns an `GateClient` instance for the current network based on
     * pre-determined network-specific app IDs specified in the ARC-56 app spec.
     *
     * If no IDs are in the app spec or the network isn't recognised, an error is thrown.
     * @param params The parameters to create the app client
     */
    static async fromNetwork(params) {
        return new GateClient(await _AppClient.fromNetwork({ ...params, appSpec: APP_SPEC }));
    }
    /** The ID of the app instance this client is linked to. */
    get appId() {
        return this.appClient.appId;
    }
    /** The app address of the app instance this client is linked to. */
    get appAddress() {
        return this.appClient.appAddress;
    }
    /** The name of the app. */
    get appName() {
        return this.appClient.appName;
    }
    /** The ARC-56 app spec being used */
    get appSpec() {
        return this.appClient.appSpec;
    }
    /** A reference to the underlying `AlgorandClient` this app client is using. */
    get algorand() {
        return this.appClient.algorand;
    }
    /**
     * Clone this app client with different params
     *
     * @param params The params to use for the the cloned app client. Omit a param to keep the original value. Set a param to override the original value. Setting to undefined will clear the original value.
     * @returns A new app client with the altered params
     */
    clone(params) {
        return new GateClient(this.appClient.clone(params));
    }
    /**
     * Makes a readonly (simulated) call to the Gate smart contract using the `cost((uint64,uint64,uint8)[],byte[][])uint64` ABI method.
     *
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    async cost(params) {
        const result = await this.appClient.send.call(GateParamsFactory.cost(params));
        return result.return;
    }
    /**
     * Makes a readonly (simulated) call to the Gate smart contract using the `size(uint64)uint64` ABI method.
     *
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    async size(params) {
        const result = await this.appClient.send.call(GateParamsFactory.size(params));
        return result.return;
    }
    /**
     * Makes a readonly (simulated) call to the Gate smart contract using the `getGate(uint64)(uint64,uint64,uint64,uint8,byte[])[]` ABI method.
     *
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    async getGate(params) {
        const result = await this.appClient.send.call(GateParamsFactory.getGate(params));
        return result.return;
    }
    /**
     * Makes a readonly (simulated) call to the Gate smart contract using the `gateFilterEntryWithArgsShape((uint64,uint64,uint64,uint8,byte[]))(uint64,uint64,uint64,uint8,byte[])` ABI method.
     *
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    async gateFilterEntryWithArgsShape(params) {
        const result = await this.appClient.send.call(GateParamsFactory.gateFilterEntryWithArgsShape(params));
        return result.return;
    }
    /**
     * Makes a readonly (simulated) call to the Gate smart contract using the `opUp()void` ABI method.
     *
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    async opUp(params = { args: [] }) {
        const result = await this.appClient.send.call(GateParamsFactory.opUp(params));
        return result.return;
    }
    newGroup() {
        const client = this;
        const composer = this.algorand.newGroup();
        let promiseChain = Promise.resolve();
        const resultMappers = [];
        return {
            /**
             * Add a register(pay,(uint64,uint64,uint8)[],byte[][])uint64 method call against the Gate contract
             */
            register(params) {
                promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.register(params)));
                resultMappers.push((v) => client.decodeReturnValue('register(pay,(uint64,uint64,uint8)[],byte[][])uint64', v));
                return this;
            },
            /**
             * Add a check(address,uint64,byte[][])bool method call against the Gate contract
             */
            check(params) {
                promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.check(params)));
                resultMappers.push((v) => client.decodeReturnValue('check(address,uint64,byte[][])bool', v));
                return this;
            },
            /**
             * Add a mustCheck(address,uint64,byte[][])void method call against the Gate contract
             */
            mustCheck(params) {
                promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.mustCheck(params)));
                resultMappers.push(undefined);
                return this;
            },
            /**
             * Add a cost((uint64,uint64,uint8)[],byte[][])uint64 method call against the Gate contract
             */
            cost(params) {
                promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.cost(params)));
                resultMappers.push((v) => client.decodeReturnValue('cost((uint64,uint64,uint8)[],byte[][])uint64', v));
                return this;
            },
            /**
             * Add a size(uint64)uint64 method call against the Gate contract
             */
            size(params) {
                promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.size(params)));
                resultMappers.push((v) => client.decodeReturnValue('size(uint64)uint64', v));
                return this;
            },
            /**
             * Add a getGate(uint64)(uint64,uint64,uint64,uint8,byte[])[] method call against the Gate contract
             */
            getGate(params) {
                promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.getGate(params)));
                resultMappers.push((v) => client.decodeReturnValue('getGate(uint64)(uint64,uint64,uint64,uint8,byte[])[]', v));
                return this;
            },
            /**
             * Add a gateFilterEntryWithArgsShape((uint64,uint64,uint64,uint8,byte[]))(uint64,uint64,uint64,uint8,byte[]) method call against the Gate contract
             */
            gateFilterEntryWithArgsShape(params) {
                promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.gateFilterEntryWithArgsShape(params)));
                resultMappers.push((v) => client.decodeReturnValue('gateFilterEntryWithArgsShape((uint64,uint64,uint64,uint8,byte[]))(uint64,uint64,uint64,uint8,byte[])', v));
                return this;
            },
            /**
             * Add a opUp()void method call against the Gate contract
             */
            opUp(params) {
                promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.opUp(params)));
                resultMappers.push(undefined);
                return this;
            },
            /**
             * Add a updateAkitaDAO(uint64)void method call against the Gate contract
             */
            updateAkitaDao(params) {
                promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.updateAkitaDao(params)));
                resultMappers.push(undefined);
                return this;
            },
            /**
             * Add a clear state call to the Gate contract
             */
            clearState(params) {
                promiseChain = promiseChain.then(() => composer.addAppCall(client.params.clearState(params)));
                return this;
            },
            addTransaction(txn, signer) {
                promiseChain = promiseChain.then(() => composer.addTransaction(txn, signer));
                return this;
            },
            async composer() {
                await promiseChain;
                return composer;
            },
            async simulate(options) {
                await promiseChain;
                const result = await (!options ? composer.simulate() : composer.simulate(options));
                return {
                    ...result,
                    returns: result.returns?.map((val, i) => resultMappers[i] !== undefined ? resultMappers[i](val) : val.returnValue)
                };
            },
            async send(params) {
                await promiseChain;
                const result = await composer.send(params);
                return {
                    ...result,
                    returns: result.returns?.map((val, i) => resultMappers[i] !== undefined ? resultMappers[i](val) : val.returnValue)
                };
            }
        };
    }
}
//# sourceMappingURL=GateClient.js.map