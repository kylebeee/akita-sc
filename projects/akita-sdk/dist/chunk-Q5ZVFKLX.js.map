{"version":3,"sources":["/Users/kylebreeding/akita/akita-sc/projects/akita-sdk/dist/chunk-Q5ZVFKLX.js","../src/connect/uri.ts"],"names":[],"mappings":"AAAA;ACeO,SAAS,gBAAA,CAAiB,EAAE,MAAA,EAAQ,UAAU,CAAA,EAA4B;AAC/E,EAAA,OAAO,CAAA,SAAA,EAAY,MAAM,CAAA,WAAA,EAAc,kBAAA,CAAmB,SAAS,CAAC,CAAA,CAAA;AACtE;AAO+D;AACpC,EAAA;AAE2B,EAAA;AAClC,IAAA;AAClB,EAAA;AAG6D,EAAA;AAC/B,EAAA;AAER,EAAA;AACT,EAAA;AACwD,IAAA;AACrE,EAAA;AAEiE,EAAA;AACjD,EAAA;AACE,IAAA;AAClB,EAAA;AAE2B,EAAA;AAC7B;ADzBuE;AACA;AACA;AACA;AACA","file":"/Users/kylebreeding/akita/akita-sc/projects/akita-sdk/dist/chunk-Q5ZVFKLX.js","sourcesContent":[null,"/**\n * Encode/decode helpers for the liquid:// connect URI scheme.\n *\n * URI format: liquid://<signaling-server-host>?requestId=<uuid>\n */\n\nimport type { AkitaConnectUri } from './types';\n\n/**\n * Encode a connect URI from its components.\n *\n * @example\n * encodeConnectUri({ origin: \"signal.akita.community\", requestId: \"abc-123\" })\n * // => \"liquid://signal.akita.community?requestId=abc-123\"\n */\nexport function encodeConnectUri({ origin, requestId }: AkitaConnectUri): string {\n  return `liquid://${origin}?requestId=${encodeURIComponent(requestId)}`\n}\n\n/**\n * Decode a liquid:// connect URI into its components.\n *\n * @throws {Error} If the URI is not a valid liquid:// connect URI or is missing requestId.\n */\nexport function decodeConnectUri(uri: string): AkitaConnectUri {\n  const trimmed = uri.trim()\n\n  if (!trimmed.toLowerCase().startsWith('liquid://')) {\n    throw new Error(`Invalid connect URI: expected liquid:// scheme, got \"${trimmed}\"`)\n  }\n\n  // Replace liquid:// with https:// so URL parser can handle it\n  const asHttps = 'https://' + trimmed.slice('liquid://'.length)\n  const parsed = new URL(asHttps)\n\n  const origin = parsed.host\n  if (!origin) {\n    throw new Error(`Invalid connect URI: missing host in \"${trimmed}\"`)\n  }\n\n  const requestId = parsed.searchParams.get('requestId') || parsed.searchParams.get('request_id')\n  if (!requestId) {\n    throw new Error(`Invalid connect URI: missing requestId parameter in \"${trimmed}\"`)\n  }\n\n  return { origin, requestId }\n}\n"]}