{"version":3,"sources":["/Users/kylebreeding/akita/akita-sc/projects/akita-sdk/dist/chunk-W5ILLEG6.js","../src/base.ts"],"names":[],"mappings":"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","file":"/Users/kylebreeding/akita/akita-sc/projects/akita-sdk/dist/chunk-W5ILLEG6.js","sourcesContent":[null,"import { AlgorandClient } from \"@algorandfoundation/algokit-utils/types/algorand-client\";\nimport { DEFAULT_READER, DEFAULT_SEND_PARAMS, SIMULATE_PARAMS } from \"./constants\";\nimport { resolveAppIdWithClient, ENV_VAR_NAMES, detectNetworkFromClient, getCurrentNetwork, AkitaNetwork } from \"./config\";\nimport { ExpandedSendParams, ExpandedSendParamsWithSigner, hasSenderSigner, MaybeSigner, NewBaseContractSDKParams } from \"./types\";\nimport { makeEmptyTransactionSigner } from \"algosdk\";\n\nexport abstract class BaseSDK<T> {\n  public appId: bigint;\n  public client: T;\n  public algorand: AlgorandClient;\n  public readerAccount: string = DEFAULT_READER;\n  public sendParams: ExpandedSendParams = DEFAULT_SEND_PARAMS;\n  \n  /** The detected network for this SDK instance */\n  public network: AkitaNetwork;\n\n  /**\n   * Override this in subclasses to specify the environment variable name for the app ID\n   */\n  protected static envVarName: string = '';\n\n  constructor({ factoryParams, algorand, factory, readerAccount, sendParams }: NewBaseContractSDKParams<T>, envVarName?: string) {\n    // Detect network from AlgorandClient\n    this.network = detectNetworkFromClient(algorand);\n    \n    // Resolve app ID from provided value, environment, or network config\n    const resolvedAppId = resolveAppIdWithClient(\n      algorand,\n      factoryParams.appId,\n      envVarName || (this.constructor as typeof BaseSDK).envVarName || '',\n      this.constructor.name\n    );\n    \n    this.appId = resolvedAppId;\n    this.algorand = algorand;\n    if (readerAccount) { this.readerAccount = readerAccount; }\n    if (sendParams) { this.sendParams = sendParams; }\n\n    if (!!factoryParams.defaultSender) {\n      this.sendParams.sender = factoryParams.defaultSender;\n    }\n    if (!!factoryParams.defaultSigner) {\n      this.sendParams.signer = factoryParams.defaultSigner;\n    }\n\n    // Create the client with the resolved app ID\n    this.client = new factory({ algorand }).getAppClientById({\n      ...factoryParams,\n      appId: resolvedAppId,\n    });\n  }\n\n  setReaderAccount(readerAccount: string): void {\n    this.readerAccount = readerAccount;\n  }\n\n  setSendParams(sendParams: ExpandedSendParams): void {\n    this.sendParams = sendParams;\n  }\n\n  protected getSendParams({ sender, signer }: MaybeSigner = {}): ExpandedSendParams {\n    return {\n      ...this.sendParams,\n      ...(sender !== undefined && { sender }),\n      ...(signer !== undefined && { signer }),\n    };\n  }\n\n  protected getRequiredSendParams(params: MaybeSigner = {}): ExpandedSendParamsWithSigner {\n    const sendParams = this.getSendParams(params);\n    if (!hasSenderSigner(sendParams)) {\n      throw new Error('Sender and signer must be provided either explicitly or through defaults at SDK instantiation');\n    }\n    return sendParams;\n  }\n\n  protected getReaderSendParams({ sender }: { sender?: string } = {}): ExpandedSendParams {\n    return {\n      ...this.sendParams,\n      ...(sender !== undefined ? { sender } : { sender: this.readerAccount }),\n      signer: makeEmptyTransactionSigner()\n    };\n  }\n}"]}