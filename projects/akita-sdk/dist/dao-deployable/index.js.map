{"version":3,"sources":["/Users/kylebreeding/akita/akita-sc/projects/akita-sdk/dist/dao-deployable/index.js","../../src/dao-deployable/index.ts"],"names":[],"mappings":"AAAA;AACE;AACF,uDAA6B;AAC7B;AACE;AACF,uDAA6B;AAC7B,gCAA6B;AAC7B,gCAA6B;AAC7B,gCAA6B;AAC7B,gCAA6B;AAC7B,gCAA6B;AAC7B,gCAA6B;AAC7B;AACA;ACFO,IAAM,sBAAA,EAAN,MAAA,QAAoC,6BAAY;AAAA,EAErD,WAAA,CAAY,MAAA,EAA8B;AACxC,IAAA,KAAA,CAAM,MAAM,CAAA;AAAA,EACd;AAAA,EAEA,MAAM,KAAA,CAAM,MAAA,EAA4C;AAEtD,IAAA,MAAM,WAAA,EAAa,IAAA,CAAK,aAAA,CAAc,MAAM,CAAA;AAE5C,IAAA,MAAM,MAAA,EAAQ,IAAA,CAAK,MAAA,CAAO,QAAA,CAAS,CAAA;AAEnC,IAAA,KAAA,CAAM,KAAA,CAAM;AAAA,MACV,GAAG,UAAA;AAAA,MACH,IAAA,EAAM,EAAE,QAAA,EAAU,YAAY,CAAA;AAAA,MAC9B,MAAA,EAAS,GAAA,CAAO,SAAA,CAAU;AAAA,IAC5B,CAAC,CAAA;AAED,IAAA,KAAA,CAAM,IAAA,CAAK,EAAE,IAAA,EAAM,CAAC,CAAA,EAAG,MAAA,EAAS,GAAA,CAAO,UAAA,CAAW,EAAE,CAAC,CAAA;AAErD,IAAA,MAAM,OAAA,EAAS,MAAM,KAAA,CAAM,IAAA,CAAK,EAAE,GAAG,WAAW,CAAC,CAAA;AAEjD,IAAA,GAAA,CAAI,MAAA,CAAO,QAAA,IAAY,KAAA,CAAA,EAAW;AAChC,MAAA,MAAM,IAAI,KAAA,CAAM,2BAA2B,CAAA;AAAA,IAC7C;AAEA,IAAA,IAAA,CAAK,OAAA,EAAS,IAAI,+BAAA,CAAU;AAAA,MAC1B,QAAA,EAAU,IAAA,CAAK,QAAA;AAAA,MACf,aAAA,EAAe;AAAA,QACb,KAAA,EAAO,MAAA,CAAO,OAAA,CAAQ,CAAC,CAAA;AAAA,QACvB,aAAA,EAAe,UAAA,CAAW,MAAA;AAAA,QAC1B,aAAA,EAAe,UAAA,CAAW;AAAA,MAC5B;AAAA,IACF,CAAC,CAAA;AAED,IAAA,MAAM,IAAA,CAAK,MAAA,CAAO,QAAA,CAAS,EAAE,GAAG,UAAA,EAAY,MAAA,EAAQ,GAAG,CAAC,CAAA;AAExD,IAAA,OAAO,MAAA;AAAA,EACT;AACF,CAAA;ADPA;AACE;AACA;AACF,0GAAC","file":"/Users/kylebreeding/akita/akita-sc/projects/akita-sdk/dist/dao-deployable/index.js","sourcesContent":[null,"import { GroupReturn, MaybeSigner, NewContractSDKParams } from \"../types\";\nimport { WalletSDK } from \"../wallet\";\nimport { AkitaDaoSDK } from \"../dao\";\n\nexport { AkitaDaoSDK };\n\n/**\n * Extended DAO SDK that includes the setup() method for initial deployment.\n * Use this SDK when deploying and setting up a new DAO instance.\n * For interacting with an already-deployed DAO, use AkitaDaoSDK from 'akita-sdk/dao'.\n */\nexport class AkitaDaoDeployableSDK extends AkitaDaoSDK {\n\n  constructor(params: NewContractSDKParams) {\n    super(params);\n  }\n\n  async setup(params?: MaybeSigner): Promise<GroupReturn> {\n\n    const sendParams = this.getSendParams(params);\n\n    const group = this.client.newGroup()\n\n    group.setup({\n      ...sendParams,\n      args: { nickname: 'Akita DAO' },\n      maxFee: (6_000).microAlgo()\n    })\n\n    group.opUp({ args: {}, maxFee: (1_000).microAlgos() })\n\n    const result = await group.send({ ...sendParams })\n\n    if (result.returns === undefined) {\n      throw new Error('Failed to setup Akita DAO');\n    }\n\n    this.wallet = new WalletSDK({\n      algorand: this.algorand,\n      factoryParams: {\n        appId: result.returns[0] as bigint,\n        defaultSender: sendParams.sender,\n        defaultSigner: sendParams.signer\n      }\n    })\n\n    await this.wallet.register({ ...sendParams, escrow: '' })\n\n    return result;\n  }\n}\n"]}